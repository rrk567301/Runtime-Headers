@class NSMutableDictionary, NSDate, IMDService, NSDictionary, NSString, IMMessageItem, IMDHandle, IMSharedEmergencyInfo, NSRecursiveLock, NSArray, NSNumber, IMDServiceSession, IMDAccount;
@protocol IMDaemonListenerChatProtocol;

@interface IMDChat : NSObject <IMDChatRepairControllerDelegate, INSpeakable> {
    NSRecursiveLock *_lock;
    NSString *_accountID;
    NSString *_serviceName;
    NSDictionary *_properties;
    NSString *_chatIdentifier;
    NSString *_guid;
    NSString *_groupID;
    NSString *_engramID;
    NSString *_roomName;
    NSString *_displayName;
    NSString *_lastAddressedLocalHandle;
    NSString *_lastAddressedSIMID;
    NSArray *_participants;
    NSArray *_replySuggestions;
    NSMutableDictionary *_domainIdentifiers;
    IMMessageItem *_lastMessage;
    NSMutableDictionary *_chatInfo;
    long long _state;
    unsigned long long _unreadCount;
    long long _rowID;
    long long _cloudKitSyncState;
    NSString *_originalGroupID;
    NSString *_serverChangeToken;
    long long _lastReadMessageTimeStamp;
    long long _lastMessageTimeStampOnLoad;
    unsigned char _style;
    BOOL _isArchived;
    long long _isFiltered;
    BOOL _isBlackholed;
    BOOL _hasScheduledMessage;
    BOOL _hasHadSuccessfulQuery;
    long long _autoDonationBehavior;
    NSDate *_autoDonationBehaviorLastModificationDate;
}

@property (readonly) NSString *spokenPhrase;
@property (readonly) NSString *pronunciationHint;
@property (readonly) NSString *vocabularyIdentifier;
@property (readonly) NSArray *alternativeSpeakableMatches;
@property (readonly) NSString *identifier;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) id<IMDaemonListenerChatProtocol> broadcaster;
@property (retain, nonatomic) NSNumber *cachedStewieSharingChat;
@property (copy) NSString *guid;
@property unsigned char style;
@property (copy, setter=setEngramID:) NSString *engramID;
@property (copy) NSString *roomName;
@property (copy) NSString *displayName;
@property (retain) IMMessageItem *lastMessage;
@property (retain) NSDictionary *properties;
@property (setter=_setUnreadCount:) unsigned long long unreadCount;
@property (setter=_setRowID:) long long rowID;
@property (readonly, nonatomic) long long filterCategory;
@property (readonly, nonatomic) long long filterSubCategory;
@property (copy) NSArray *participants;
@property long long isFiltered;
@property BOOL isBlackholed;
@property (getter=isRecovered) BOOL recovered;
@property (getter=isDeletingIncomingMessages) BOOL deletingIncomingMessages;
@property BOOL hasHadSuccessfulQuery;
@property (readonly, nonatomic) BOOL isUnnamedChat;
@property unsigned long long numMessagesSent;
@property BOOL meCardUpdated;
@property (readonly, copy) NSDictionary *keyTransparencyURIToUUIDMapping;
@property (copy, nonatomic) NSString *serverChangeToken;
@property long long lastMessageTimeStampOnLoad;
@property unsigned long long repairHistory;
@property (nonatomic) long long groupParticipantVersion;
@property (copy) NSString *chatIdentifier;
@property (copy) NSString *accountID;
@property (copy) NSString *serviceName;
@property (readonly, getter=isAutomaticallyTranslating) BOOL automaticallyTranslating;
@property (copy, nonatomic) NSString *incomingTranslatedMessageIdentifier;
@property (readonly, copy) NSString *translationLanguageIdentifier;
@property (readonly, copy) NSString *userTranslationLanguageIdentifier;
@property (readonly, nonatomic) NSString *persistentID;
@property (readonly, nonatomic) NSString *deviceIndependentID;
@property (readonly, nonatomic) NSString *pinningIdentifier;
@property (retain, nonatomic) IMDHandle *recipient;
@property long long state;
@property (readonly, copy) NSString *businessName;
@property (readonly, copy) NSString *groupID;
@property (copy) NSString *cloudKitRecordID;
@property long long cloudKitSyncState;
@property (readonly, copy) NSString *originalGroupID;
@property (nonatomic) long long lastReadMessageTimeStamp;
@property (readonly, copy) NSString *lastSeenMessageGuid;
@property (retain, nonatomic) NSDate *lastTUConversationCreatedDate;
@property (retain, nonatomic) NSDate *lastScheduledMessageCreatedDate;
@property (readonly, copy) NSDictionary *domainIdentifiers;
@property (readonly, retain) IMDServiceSession *serviceSession;
@property (readonly, retain) IMDAccount *account;
@property (readonly, retain) IMDService *service;
@property (readonly, retain) NSDictionary *syncedProperties;
@property (retain, nonatomic) NSArray *replySuggestions;
@property (copy) NSString *lastAddressedLocalHandle;
@property (copy) NSString *lastAddressedSIMID;
@property (readonly, retain) NSDictionary *dictionaryRepresentation;
@property (readonly, retain) NSDictionary *chatProperties;
@property (readonly) BOOL isArchived;
@property (readonly, nonatomic) BOOL supportsMergingFilteredThreads;
@property (readonly) BOOL hasScheduledMessage;
@property (readonly) BOOL isRecovered;
@property (readonly) BOOL isDeletingIncomingMessages;
@property (nonatomic) BOOL supportsEncryption;
@property (readonly) long long pendingIncomingSatelliteMessageCount;
@property (readonly) BOOL downloadingPendingSatelliteMessages;
@property BOOL wasDowngradedToLiteMessage;
@property (retain) NSDate *requestedDowngradeExpirationDate;
@property (copy) NSString *requestedDowngradeService;
@property (retain) NSDate *lastSentDowngradeRequestSinceLoadDate;
@property long long lastSentDowngradeRequestSinceLoadSessionIndex;
@property (retain, nonatomic) NSDate *lastReplicationSinceLoadDate;
@property BOOL createEngramGroupOnMessageSend;
@property BOOL pendingENGroupParticipantUpdate;
@property (getter=isMergedBusinessThread) BOOL mergedBusinessThread;
@property (readonly, nonatomic) NSString *personCentricID;
@property (readonly, nonatomic) NSDictionary *nicknamesForParticipants;
@property BOOL wasReportedAsJunk;
@property (readonly, nonatomic) long long autoDonationBehavior;
@property (readonly, nonatomic) NSDate *autoDonationBehaviorLastModificationDate;
@property (nonatomic) long long spamDetectionSource;
@property (readonly, nonatomic, getter=isStewieSharingChat) BOOL stewieSharingChat;
@property (retain, nonatomic) IMSharedEmergencyInfo *emergencyUserInfo;
@property (nonatomic, getter=isOscarChat) BOOL oscarChat;
@property (nonatomic, getter=isOscarFilteredChat) BOOL oscarFilteredChat;
@property (readonly, nonatomic) BOOL isPlaceholder;

+ (id)_recordType;
+ (id)chatWithSyncData:(id)a0;
+ (BOOL)identifier:(id)a0 equalsIdentifier:(id)a1;

- (void)setGroupID:(id)a0;
- (void)addParticipants:(id)a0;
- (void)dealloc;
- (id)_chatRegistry;
- (id)recordName;
- (void).cxx_destruct;
- (void)addParticipant:(id)a0;
- (BOOL)removeParticipant:(id)a0;
- (BOOL)isBusinessChat;
- (BOOL)isGroupChat;
- (BOOL)removeParticipants:(id)a0;
- (BOOL)isOlderThan:(id)a0;
- (id)brandLogoData;
- (void)setOriginalGroupID:(id)a0;
- (BOOL)isNewerThan:(id)a0;
- (id)participantHandles;
- (BOOL)updateProperties:(id)a0;
- (BOOL)allowedByScreenTime;
- (id)groupPhotoGuid;
- (BOOL)isEmergencyChat;
- (id)_mergeParticipantIDs;
- (BOOL)_resetParticipants:(id)a0;
- (id)_sortedParticipantIDHashForParticipants:(id)a0;
- (id)_sortedParticipantIDHashForParticipants:(id)a0 usesPersonCentricID:(BOOL)a1;
- (id)associatedBusinessID;
- (id)brandInfo;
- (BOOL)containsActiveBIASession;
- (BOOL)isChatBot;
- (BOOL)isDownloadingPendingSatelliteMessages;
- (BOOL)isSMS;
- (id)lastSentMessageDate;
- (id)lastTranslatableMessageGUIDWithLanguageCode:(id)a0;
- (void)setPendingIncomingSatelliteMessageCount:(long long)a0;
- (id)transcriptBackgroundPath;
- (void)updateAssociatedBusinessID:(id)a0;
- (void)updateIsBlackholed:(BOOL)a0;
- (void)updateIsEmergencyChat:(BOOL)a0;
- (void)updateIsFiltered:(long long)a0;
- (void)updateLastMessageGUID:(id)a0 forLanguageCode:(id)a1;
- (void)updateSMSCategory:(long long)a0 subCategory:(long long)a1;
- (void)updateShouldForceToSMS:(BOOL)a0;
- (BOOL)_addGroupPhotoToCKRecord:(id)a0 error:(id *)a1;
- (void)_repairUnregisteredChatIfNeeded;
- (BOOL)chatRepairController:(id)a0 repairChatIdentifierWithIdentifier:(id)a1 onChat:(id)a2;
- (void)updateEngramID:(id)a0;
- (void)updateNicknamesForParticipants:(id)a0;
- (id)BIAContext;
- (void)updateLastAddressedHandle:(id)a0 forceUpdateHandle:(BOOL)a1 lastAddressedSIMID:(id)a2;
- (BOOL)_addTranscriptBackgroundToCKRecord:(id)a0 error:(id *)a1;
- (BOOL)_applyTranscriptBackgroundChangesUsingSyncData:(id)a0;
- (id)_ckUniqueID;
- (void)_convergeGroupChatIfNeededWithServiceSession:(id)a0 account:(id)a1 replicationService:(id)a2 groupID:(id)a3 incomingParticipants:(id)a4 fromIdentifier:(id)a5 toIdentifier:(id)a6 receivedGroupParticipantVersion:(id)a7 receivedGroupProtocolVersion:(id)a8 messageTimeStamp:(id)a9 groupPhotoCreationTime:(id)a10;
- (BOOL)_convergesGroupPhotosForReplicationService:(id)a0;
- (BOOL)_convergesParticipantsForReplicationService:(id)a0;
- (id)_copyCKRecordFromExistingCKMetadataWithZoneID:(id)a0 salt:(id)a1;
- (id)_findChatParticipantsWithFromID:(id)a0;
- (void)_incrementParticipantVersion;
- (void)_indexChatAndMessagesToSpotlightWithReason:(long long)a0;
- (void)_modifyGroupWithServiceSession:(id)a0 groupID:(id)a1 toParticipants:(id)a2 toIdentifier:(id)a3 fromIdentifier:(id)a4 account:(id)a5 messageTimeStamp:(id)a6;
- (void)_persistMergedIDMergedChatsIfNeeded:(id)a0;
- (void)_repairChatIfNeeded;
- (void)_repairMissingServiceName;
- (void)_setAutoDonationBehavior:(long long)a0 lastModificationDate:(id)a1 setDirtyFlag:(BOOL)a2;
- (void)_setParticipantVersion:(long long)a0;
- (void)_submitAndOpenTapToRadarForHistoricalIdentifierReuseForIdentifier:(id)a0 domain:(id)a1;
- (void)_submitAndOpenTapToRadarForInvalidFeatureFlagConfiguration;
- (void)_submitAndOpenTapToRadarForInvalidUseOfGroupIDOnService:(id)a0;
- (void)_submitAndOpenTapToRadarForMissingLatestIdentifierForDomain:(id)a0;
- (unsigned long long)_unreadCount;
- (void)_updateCachedParticipants;
- (void)_updateIsRecovered:(BOOL)a0 silently:(BOOL)a1;
- (void)_updateLastMessage:(id)a0;
- (void)addBIAContextWithUserID:(id)a0 referenceID:(id)a1;
- (BOOL)applyChangesUsingSyncData:(id)a0;
- (BOOL)applyChatServiceChangesUsingSyncData:(id)a0;
- (BOOL)applyDomainIdentifierChangesUsingSyncData:(id)a0;
- (BOOL)applySyncChatSliceChangesUsingSyncData:(id)a0;
- (void)assignIdentifier:(id)a0 forDomain:(id)a1 isHistoricalIdentifier:(BOOL)a2;
- (void)assignUniqueHistoricalDomainIdentifiers:(id)a0;
- (void)broadcastTranscriptBackgroundChanges;
- (BOOL)chatRepairController:(id)a0 chatExistsWithGUID:(id)a1;
- (id)chatRepairController:(id)a0 generateUnusedChatIdentifierForGroupChatWithAccount:(id)a1;
- (BOOL)chatRepairController:(id)a0 repairGUIDWithGUID:(id)a1 onChat:(id)a2;
- (BOOL)chatRepairController:(id)a0 repairParticipantWithIdentifier:(id)a1 onService:(id)a2 onChat:(id)a3;
- (void)chatRepairController:(id)a0 updateRepairHistoryOfChat:(id)a1 withRepairHistory:(unsigned long long)a2;
- (void)chatRepairController:(id)a0 updateSyncStateTo:(long long)a1 onChat:(id)a2;
- (id)cloudKitChatIDForServiceName:(id)a0;
- (id)cloudKitDebugDescription;
- (long long)compareBySequenceNumberAndDateDescending:(id)a0;
- (id)compressedProtobufDataForChatProto1;
- (id)copyCKRecordRepresentationWithZoneID:(id)a0 salt:(id)a1 error:(id *)a2;
- (id)copyCKRecordRepresentationsWithZoneID:(id)a0 salt:(id)a1 error:(id *)a2;
- (id)copyDictionaryRepresentation:(BOOL)a0;
- (BOOL)deleteBIAContext;
- (id)dictionaryRepresentationIncludingLastMessage;
- (long long)engroupCreationDate;
- (void)forceAutoBugCaptureForMissingGroupIDWithMessage:(id)a0;
- (id)generateNewGroupID;
- (int)getNumberOfTimesRespondedToThread;
- (id)groupPhotoUploadFailureCount;
- (BOOL)hasChatBotBrandInfo;
- (BOOL)hasChatBotPersistentMenu;
- (id)identifiersForDomain:(id)a0;
- (id)initWithAccountID:(id)a0 service:(id)a1 guid:(id)a2 groupID:(id)a3 chatIdentifier:(id)a4 participants:(id)a5 roomName:(id)a6 displayName:(id)a7 lastAddressedLocalHandle:(id)a8 lastAddressedSIMID:(id)a9 properties:(id)a10 state:(long long)a11 style:(unsigned char)a12 isFiltered:(long long)a13 hasHadSuccessfulQuery:(BOOL)a14 engramID:(id)a15 serverChangeToken:(id)a16 cloudKitSyncState:(long long)a17 originalGroupID:(id)a18 lastReadMessageTimeStamp:(long long)a19 lastMessageTimeStampOnLoad:(long long)a20 cloudKitRecordID:(id)a21 isBlackholed:(BOOL)a22 autoDonationBehavior:(long long)a23 autoDonationBehaviorLastModificationDate:(id)a24 isRecovered:(BOOL)a25 isDeletingIncomingMessages:(BOOL)a26 domainIdentifiers:(id)a27;
- (BOOL)isSMSSpam;
- (BOOL)isiMessageSpam;
- (BOOL)lastKnownHybridState;
- (id)lastUsedBIAReferenceID;
- (id)lastUsedBIAUserID;
- (id)latestIdentifierForDomain:(id)a0;
- (void)meCardHasUpdated;
- (int)messageHandshakeState;
- (unsigned long long)powerLogConversationType;
- (BOOL)receivedBlackholeError;
- (void)recoverParticipantsIfNeeded;
- (void)resetCKSyncState;
- (BOOL)setAutoDonationBehavior:(long long)a0 lastModificationDate:(id)a1;
- (void)setDomainIdentifiers:(id)a0;
- (void)setHasScheduledMessage:(BOOL)a0;
- (void)setInitialGroupID:(id)a0;
- (void)setInitialOriginalGroupID:(id)a0;
- (void)setIsDownloadingPendingSatelliteMessages:(BOOL)a0;
- (void)setLastSentMessageDate:(id)a0;
- (BOOL)shouldForceAutoBugCaptureForChatRepairController:(id)a0;
- (int)smsHandshakeState;
- (long long)spamCategory;
- (id)spamExtensionName;
- (void)storeAndBroadcastChatChanges;
- (void)tearDownToneNotificationSessionIfNeeded;
- (id)transcriptBackgroundProperties;
- (void)unassignAndPersistIdentifier:(id)a0 forDomain:(id)a1;
- (void)updateBrandLogo:(id)a0 transferGuid:(id)a1;
- (void)updateCloudKitRecordID:(id)a0;
- (void)updateCloudKitSyncState:(long long)a0;
- (void)updateCollaborationMetadata:(id)a0 forMessageGUID:(id)a1;
- (void)updateDisplayName:(id)a0;
- (void)updateDisplayName:(id)a0 sender:(id)a1;
- (BOOL)updateDonationStateWithSyndicationAction:(id)a0;
- (void)updateEngroupCreationDate:(long long)a0;
- (void)updateGroupPhotoGuid:(id)a0;
- (void)updateGroupPhotoUploadFailureCount:(id)a0;
- (void)updateHasCancellableScheduledMessage:(BOOL)a0;
- (void)updateHasHadSuccessfulQuery:(BOOL)a0;
- (void)updateIsDeletingIncomingMessages:(BOOL)a0;
- (void)updateIsDownloadingPendingSatelliteMessages:(BOOL)a0;
- (void)updateIsRecovered:(BOOL)a0;
- (void)updateIsiMessageSpam:(BOOL)a0;
- (void)updateLastAddressedHandle:(id)a0;
- (void)updateLastAddressedHandle:(id)a0 forceUpdate:(BOOL)a1;
- (void)updateLastAddressedSIMID:(id)a0;
- (void)updateLastKnownHybridStateAndRemergeIfAppropriate:(BOOL)a0;
- (void)updateLastReadMessageTimeStampIfNeeded:(long long)a0;
- (void)updateLastSeenMessageGuidIfNeeded:(id)a0;
- (void)updateMessageHandshakeState:(int)a0;
- (void)updateNumberOfTimesRespondedToThread;
- (void)updateOriginalGroupID:(id)a0;
- (void)updatePendingIncomingSatelliteMessageCount:(long long)a0;
- (BOOL)updateProperties:(id)a0 shouldBroadcast:(BOOL)a1;
- (void)updateReceivedBlackholeError:(BOOL)a0;
- (void)updateRepairHistoryOfChat:(id)a0 withRepairHistory:(unsigned long long)a1;
- (void)updateSMSHandshakeState:(int)a0;
- (void)updateSMSSpamExtensionNameChatProperty:(id)a0;
- (void)updateServerChangeToken:(id)a0;
- (void)updateTimeSensitiveExpirationDateForReadIfNeeded;
- (void)updateTimeSensitiveExpirationDateWithMessageTime:(id)a0 hasOneTimeCode:(BOOL)a1;
- (void)updateTranscriptBackgroundProperties:(id)a0;

@end
