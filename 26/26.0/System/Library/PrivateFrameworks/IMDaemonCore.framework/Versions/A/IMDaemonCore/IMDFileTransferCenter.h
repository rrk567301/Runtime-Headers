@class NSString, NSMutableDictionary, NSMutableSet, NSTimer, NSMutableArray;

@interface IMDFileTransferCenter : NSObject

@property (retain, nonatomic) NSMutableDictionary *localFileURLRetrievalWithGuidCompletionHandlers;
@property (retain, nonatomic) NSMutableSet *messagesToReindexForPreviewGeneration;
@property (retain, nonatomic) NSString *contextStamp;
@property (retain, nonatomic) NSMutableDictionary *guidToTransferMap;
@property (retain, nonatomic) NSMutableSet *activeTransfers;
@property (retain, nonatomic) NSTimer *transferTimer;
@property (retain, nonatomic) NSMutableArray *transferringTransfers;
@property (retain, nonatomic) NSMutableSet *activeHubbleRequestedTransfers;
@property (retain, nonatomic) NSMutableDictionary *progressMap;

+ (id)sharedInstance;
+ (long long)convertNSErrorToIMFileTransferErrorReason:(id)a0 additionalErrorInfo:(id)a1;
+ (id)localFileURLRetrievalErrorWithReason:(long long)a0 underlyingReason:(long long)a1 description:(id)a2;
+ (id)fileTransferErrorWithReason:(long long)a0 description:(id)a1;
+ (id)localFileURLRetrievalErrorWithReason:(long long)a0 description:(id)a1;

- (id)_getNewFileTransferForStoredAttachmentPayloadDataWithTransferGUID:(id)a0 messageGUID:(id)a1;
- (void)_addSpotlightPropertiesFromFileTransfer:(id)a0 toDirectory:(id)a1;
- (id)_findTransferGUIDMatchingSpotlightDonatedSpeculativeTransferGUID:(id)a0;
- (id)guidsForStoredAttachmentPayloadDataURLs:(id)a0 messageGUID:(id)a1;
- (void)_handleFileTransfer:(id)a0 updatedWithProperties:(id)a1;
- (id)_allFileTransfers;
- (void)markTransferAsNotSyncedSuccessfully:(id)a0;
- (void)markTransferAsNotSuccessfullyDownloadedFromCloud:(id)a0;
- (void)_transferTimerTick:(id)a0;
- (void)_removeActiveTransfer:(id)a0;
- (void)_handleFileTransferForStickerRepositionWithGUID:(id)a0 updatedWithProperties:(id)a1 fromLocalChange:(BOOL)a2;
- (void)_previewGenerationSucceededNotification:(id)a0;
- (void)endTransfer:(id)a0;
- (void)_completeProgressForTransferGUID:(id)a0;
- (void)_addTransfer:(id)a0 forGUID:(id)a1 shouldNotify:(BOOL)a2;
- (void)_updateTransferGUID:(id)a0 toGUID:(id)a1;
- (void)_updateContextStamp;
- (void)_postHubbleDownloadFailedForTransfer:(id)a0 error:(id)a1;
- (void)startFinalizingTransfer:(id)a0 updateByteCounts:(BOOL)a1;
- (void)startFinalizingTransfer:(id)a0;
- (void)_updateTransferPreviewGenerationState:(id)a0 newState:(long long)a1;
- (void)assignTransfer:(id)a0 toAccount:(id)a1 otherPerson:(id)a2;
- (void)generatePreviewForTransfer:(id)a0 messageItem:(id)a1 senderContext:(id)a2;
- (void)postHubbleDownloadFinishedIfNeededForTransfer:(id)a0;
- (id)updateTransfersWithCKRecord:(id)a0 recordWasFetched:(BOOL)a1 downloadAsset:(BOOL *)a2;
- (void)successfullyGeneratedPreviewForTransfer:(id)a0 withPreviewSize:(struct CGSize { double x0; double x1; })a1;
- (void)_handleFileTransfers:(id)a0 autoRename:(BOOL)a1 overwrite:(BOOL)a2 options:(long long)a3 postNotification:(BOOL)a4;
- (void)updateTransferAsWaitingForAccept:(id)a0;
- (id)_progressForTransferGUID:(id)a0 allowCreate:(BOOL)a1 path:(id)a2;
- (id)_messageStoreSharedInstance;
- (void)updateTransferGUID:(id)a0 toGUID:(id)a1;
- (void)makeNewIncomingTransferWithGUID:(id)a0 filename:(id)a1 isDirectory:(BOOL)a2 totalBytes:(unsigned long long)a3 hfsType:(unsigned int)a4 hfsCreator:(unsigned int)a5 hfsFlags:(unsigned short)a6;
- (void)retrieveLocalFileURLForFileTransferWithGUIDs:(id)a0 options:(long long)a1 completion:(id /* block */)a2;
- (void)removeFinishedTransfers;
- (void)_addGatekeeperProperties:(id)a0 toDirectory:(id)a1;
- (void)_flushMessagesToReindexForPreviewGeneration;
- (void)_addGatekeeperProperties:(id)a0 toFileAtPath:(id)a1;
- (void)removeTransferForGUID:(id)a0;
- (id)init;
- (void)_handleFileTransfer:(id)a0 acceptedWithPath:(id)a1 autoRename:(BOOL)a2 overwrite:(BOOL)a3 options:(long long)a4 postNotification:(BOOL)a5;
- (BOOL)_isFileTransferWithGUIDFromKnownSender:(id)a0;
- (void)resetTransfer:(id)a0 andPostError:(id)a1;
- (void)_reindexTransferIfNeededForPreviewGenerationStateChange:(id)a0 originalPreviewGenerationState:(long long)a1;
- (void)_handleFileTransfer:(id)a0 rejectedWithProperties:(id)a1;
- (void)_updateAndPostCachedTransfer:(id)a0;
- (void)_handleFileTransferStopped:(id)a0;
- (void)addHubbleRequestedTransfer:(id)a0;
- (void)addDefaultGatekeeperPropertiesToDirectory:(id)a0;
- (void)failTransferPreviewGeneration:(id)a0;
- (void)_handleFileTransfer:(id)a0 createdWithProperties:(id)a1 withAuditToken:(struct { unsigned int x0[8]; })a2;
- (void)_clearProgressForTransferGUID:(id)a0;
- (id)transferForGUID:(id)a0;
- (void)resetTransfer:(id)a0 andPostReason:(long long)a1;
- (void)_addActiveTransfer:(id)a0;
- (void)updateTransfer:(id)a0 currentBytes:(unsigned long long)a1 totalBytes:(unsigned long long)a2;
- (void)postHubbleDownloadFailedIfNeededForTransfer:(id)a0 error:(id)a1;
- (BOOL)_shouldDownloadAssetForTransfer:(id)a0 forMessageItem:(id)a1;
- (void)_handleFileTransfer:(id)a0 updatedWithProperties:(id)a1 isStickerReposition:(BOOL)a2 repositionedLocally:(BOOL)a3;
- (BOOL)_hasActiveTransferWithGUID:(id)a0;
- (void)startTransfer:(id)a0;
- (void)_postUpdated:(id)a0;
- (void)_removeTransferringTransfer:(id)a0;
- (void)failTransfer:(id)a0 reason:(long long)a1;
- (void)deleteTransferForGUID:(id)a0;
- (void)_handleFileTransferRemoved:(id)a0;
- (BOOL)registerGUID:(id)a0 forNewOutgoingTransferWithLocalURL:(id)a1;
- (id)_retrieveLocalFileURLForFileTransferWithGUID:(id)a0 options:(long long)a1 outTransfer:(id *)a2 outError:(id *)a3;
- (BOOL)populateLocalURLsForTransfer:(id)a0 fromCKRecord:(id)a1;
- (id)_dictionaryRepresentationsForFileTransfers:(id)a0 toSave:(BOOL)a1;
- (void)_previewGenerationFailedNotification:(id)a0;
- (void)_removeHubbleRequestedTransfer:(id)a0;
- (void)failTransfer:(id)a0 error:(id)a1;
- (void)_completeHubbleDownloadForTransfer:(id)a0;
- (BOOL)markAttachment:(id)a0 sender:(id)a1 recipients:(id)a2 isIncoming:(BOOL)a3;
- (void)updateTransfer:(id)a0;
- (void)setUpdatedStickerUserInfo:(id)a0 forTransfer:(id)a1 repositioningFromLocalChange:(BOOL)a2;
- (void)_hubbleTransferCompleted:(id)a0 withGUID:(id)a1 error:(id)a2 suggestedRetryGUID:(id)a3;
- (void)endTransfer:(id)a0 endState:(long long)a1 updateByteCounts:(BOOL)a2;
- (void)broadcastTransfersWithGUIDs:(id)a0 atLocalPaths:(id)a1;
- (id)guidForNewOutgoingTransferWithFilename:(id)a0 isDirectory:(BOOL)a1 totalBytes:(unsigned long long)a2 hfsType:(unsigned int)a3 hfsCreator:(unsigned int)a4 hfsFlags:(unsigned short)a5;
- (void)acceptTransfer:(id)a0 path:(id)a1;
- (id)guidsForStoredAttachmentPayloadData:(id)a0 messageGUID:(id)a1;
- (void)addTransfer:(id)a0 forGUID:(id)a1;
- (void)setRecoverableErrorForTransfer:(id)a0 error:(long long)a1;
- (id)_attachmentStoreSharedInstance;
- (id)_createWrapperForTransfer:(id)a0;
- (void)rejectTransfer:(id)a0;
- (id)_messageForFileTransferWithGUID:(id)a0;
- (id)guidsForStoredAttachmentBlastDoorPayloadData:(id)a0 messageGUID:(id)a1;
- (id)createNewOutgoingTransferWithLocalFileURL:(id)a0;
- (void)_addTransferringTransfer:(id)a0;
- (void)resetSyncStateForRecord:(id)a0 toState:(long long)a1;
- (id)_removeWrapperForTransfer:(id)a0;
- (void).cxx_destruct;
- (id)guidForNewIncomingTransferWithFilename:(id)a0 isDirectory:(BOOL)a1 totalBytes:(unsigned long long)a2 hfsType:(unsigned int)a3 hfsCreator:(unsigned int)a4 hfsFlags:(unsigned short)a5;
- (void)makeNewOutgoingTransferWithGUID:(id)a0 filename:(id)a1 isDirectory:(BOOL)a2 totalBytes:(unsigned long long)a3 hfsType:(unsigned int)a4 hfsCreator:(unsigned int)a5 hfsFlags:(unsigned short)a6;
- (void)successfullyGeneratedPreviewForTransfer:(id)a0;

@end
