@class NSDictionary, CMIStyleEngineApplyStyle, FigMetalContext, NSString, CMIStyleEngineConfiguration, CMIStyleEngineCoefficientConverterF32ToF16, CMIStyleEngineCoefficientConverterF16ToF32, FigMetalBufferDescriptor, CMIStyleEngineSolveLinearSystem, CMIStyleEngineIntegrateCoefficients, FigMetalTextureDescriptor, NSData, CMIStyleEngineCreateLinearSystem, CMIMetalResourceCache, CMIStyleEngineCreateSpotlights, CMIStyleEngineCreateISPSTENCoefficients, CMIStyleEngineIdentityCoefficientCreator, CRGGroup, CMIExternalMemoryResource, CMIStyleEngineDownScaler, CMIStyleEngineCreateWeightPlanes, CMIMetalEventSynchronizer, CMIStyleEngineImageFactory;
@protocol MTLTexture, MTLBuffer, MTLCommandQueue;

@interface CMIStyleEngineProcessor : NSObject <MetalImageBufferProcessor> {
    CMIMetalEventSynchronizer *_metalSynchronizer;
    CMIStyleEngineImageFactory *_imageFactory;
    struct CGSize { double width; double height; } _imageSize;
    struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } _inputImageRect;
    struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } _optionalInputImageRect;
    struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } _outputImageRect;
    struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } _regionToRender;
    CMIMetalResourceCache *_textureCache;
    struct __CVMetalBufferCache { } *_bufferCache;
    FigMetalContext *_metalContext;
    unsigned long long _memoryAllocationType;
    BOOL _performLearning;
    BOOL _performIntegrationWeightPlaneCreation;
    BOOL _performISPSTENCoefficientsCreation;
    BOOL _performIntegration;
    BOOL _performApplication;
    BOOL _outputCoefficientsReady;
    BOOL _didCreateISPSMGProcessingSession;
    FigMetalTextureDescriptor *_textureDescriptor;
    FigMetalBufferDescriptor *_bufferDescriptor;
    CMIStyleEngineDownScaler *_downScale;
    CMIStyleEngineIdentityCoefficientCreator *_identityCoefficientCreator;
    CMIStyleEngineCreateISPSTENCoefficients *_createISPSTENCoefficients;
    unsigned int _weightPlaneCount;
    float _weightPlaneStandardDeviationForLearn;
    float _weightPlaneStandardDeviationForIntegrate;
    BOOL _weightPlaneApplySpatialFilterForLearn;
    BOOL _weightPlaneApplySpatialFilterForIntegrate;
    float _weightPlaneSpatialFilterWeightForLearn;
    float _weightPlaneSpatialFilterWeightForIntegrate;
    CMIStyleEngineCreateWeightPlanes *_createWeightPlanes;
    void /* unknown type, empty encoding */ _spotlightCount;
    CMIStyleEngineCreateSpotlights *_createSpotlights;
    id<MTLBuffer> _rhsBuffer;
    CMIStyleEngineCreateLinearSystem *_createLinearSystem;
    id<MTLBuffer> _coefficientsBuffer;
    id<MTLBuffer> _linSysStatusBuffer;
    id<MTLBuffer> _linSysStatusFlagBuffer;
    CMIStyleEngineSolveLinearSystem *_solveLinearSystem;
    BOOL _inputCoefficientsF16;
    BOOL _outputCoefficientsF16;
    CMIStyleEngineCoefficientConverterF16ToF32 *_coefficientConverterF16ToF32;
    CMIStyleEngineCoefficientConverterF32ToF16 *_coefficientConverterF32ToF16;
    id<MTLTexture> _integratedCoefficientsTexture;
    CMIStyleEngineIntegrateCoefficients *_integrateCoefficients;
    CMIStyleEngineApplyStyle *_applyStyle;
    id *_crgInput;
    id *_crgOutput;
    id *_crgInputOriginal;
    id *_crgInputDeltaMap;
    id *_crgOutputDeltaMap;
    CRGGroup *_parentGroup;
}

@property (class, readonly, nonatomic) unsigned long long APIVersion;

@property (copy, nonatomic) NSString *label;
@property (nonatomic) struct OpaqueFigCaptureDevice { } *ispCaptureDevice;
@property (nonatomic) struct OpaqueFigCaptureISPProcessingSession { } *ispSMGProcessingSession;
@property (retain, nonatomic) NSDictionary *inputNoiseModel;
@property (weak, nonatomic) id<MTLTexture> inputThumbnailTexture;
@property (nonatomic) struct __CVBuffer { } *inputThumbnailPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> inputThumbnailTextureForLearning;
@property (nonatomic) struct __CVBuffer { } *inputThumbnailPixelBufferForLearning;
@property (weak, nonatomic) id<MTLTexture> inputThumbnailTextureForLearningWeights;
@property (nonatomic) struct __CVBuffer { } *inputThumbnailPixelBufferForLearningWeights;
@property (weak, nonatomic) id<MTLTexture> inputThumbnailTextureForIntegration;
@property (nonatomic) struct __CVBuffer { } *inputThumbnailPixelBufferForIntegration;
@property (weak, nonatomic) id<MTLTexture> inputThumbnailTextureForResidualCorrection;
@property (nonatomic) struct __CVBuffer { } *inputThumbnailPixelBufferForResidualCorrection;
@property (weak, nonatomic) id<MTLTexture> inputThumbnailTextureForSyntheticNoiseCalculation;
@property (nonatomic) struct __CVBuffer { } *inputThumbnailPixelBufferForSyntheticNoiseCalculation;
@property (weak, nonatomic) id<MTLTexture> inputTexture;
@property (nonatomic) struct __CVBuffer { } *inputPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> outputTexture;
@property (nonatomic) struct __CVBuffer { } *outputPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> inputDeltaMapTexture;
@property (nonatomic) struct __CVBuffer { } *inputDeltaMapPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> inputOriginalTexture;
@property (nonatomic) struct __CVBuffer { } *inputOriginalPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> outputDeltaMapTexture;
@property (nonatomic) struct __CVBuffer { } *outputDeltaMapPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> targetThumbnailTexture;
@property (nonatomic) struct __CVBuffer { } *targetThumbnailPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> targetThumbnailTextureForLearning;
@property (nonatomic) struct __CVBuffer { } *targetThumbnailPixelBufferForLearning;
@property (weak, nonatomic) id<MTLTexture> targetThumbnailTextureForResidualCorrection;
@property (nonatomic) struct __CVBuffer { } *targetThumbnailPixelBufferForResidualCorrection;
@property (weak, nonatomic) id<MTLTexture> inputWeightPlaneTexture;
@property (nonatomic) struct __CVBuffer { } *inputWeightPlanePixelBuffer;
@property (weak, nonatomic) id<MTLTexture> inputWeightPlaneTextureScaledForISPSMG;
@property (nonatomic) struct __CVBuffer { } *inputWeightPlanePixelBufferScaledForISPSMG;
@property (weak, nonatomic) id<MTLTexture> outputWeightPlaneTexture;
@property (nonatomic) struct __CVBuffer { } *outputWeightPlanePixelBuffer;
@property (weak, nonatomic) id<MTLTexture> outputWeightPlaneScaledForISPSTENTexture;
@property (nonatomic) struct __CVBuffer { } *outputWeightPlaneScaledForISPSTENPixelBuffer;
@property (weak, nonatomic) id<MTLTexture> inputLearningModulationMaskTexture;
@property (nonatomic) struct __CVBuffer { } *inputLearningModulationMaskPixelBuffer;
@property (retain, nonatomic) NSData *inputLinearSystemCoefficients;
@property (weak, nonatomic) id<MTLBuffer> inputLinearSystemCoefficientsBuffer;
@property (weak, nonatomic) id<MTLTexture> inputLinearSystemCoefficientsTexture;
@property (nonatomic) struct __CVBuffer { } *inputLinearSystemCoefficientsPixelBuffer;
@property (readonly, nonatomic) NSData *outputLinearSystemCoefficients;
@property (weak, nonatomic) id<MTLBuffer> outputLinearSystemCoefficientsBuffer;
@property (weak, nonatomic) id<MTLTexture> outputLinearSystemCoefficientsTexture;
@property (nonatomic) struct __CVBuffer { } *outputLinearSystemCoefficientsPixelBuffer;
@property (nonatomic) struct __CVBuffer { } *outputLinearSystemCoefficientsForISPSTENPixelBuffer;
@property (readonly, nonatomic) id<MTLTexture> outputIntegratedCoefficients;
@property (nonatomic) struct __CFArray { } *outputIntegratedCoefficientsPixelBufferArray;
@property (readonly, nonatomic) id<MTLBuffer> outputLinearSystemStatusFlag;
@property (weak, nonatomic) id<MTLTexture> outputLumaGradientTexture;
@property (nonatomic) struct __CVBuffer { } *outputLumaGradientPixelBuffer;
@property (retain, nonatomic) CMIStyleEngineConfiguration *configuration;
@property (nonatomic) BOOL residualsCalculationDisabled;
@property (nonatomic) float applicationStrengthFactor;
@property (nonatomic) struct CGSize { double width; double height; } imageSize;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } inputImageRect;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } outputImageRect;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } inputDeltaMapImageRect;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } inputOriginalImageRect;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } regionToRender;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } spotlightIntegrationROI;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } spotlightZoomROI;
@property (nonatomic) struct { void /* unknown type, empty encoding */ columns[3]; } spotlightAffineTransform;
@property (nonatomic) BOOL useLiveMetalAllocations;
@property (nonatomic) BOOL applyDither;
@property (retain, nonatomic) id<MTLCommandQueue> metalCommandQueue;
@property (readonly, nonatomic) BOOL supportsExternalMemoryResource;
@property (retain, nonatomic) CMIExternalMemoryResource *externalMemoryResource;
@property (retain, nonatomic) NSDictionary *tuningParameters;
@property (retain, nonatomic) NSDictionary *cameraInfoByPortType;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (struct CGSize { double x0; double x1; })coefficientPixelBufferSizeForConfiguration:(id)a0 float16:(BOOL)a1;
+ (unsigned long long)coefficientCountForConfiguration:(id)a0;
+ (struct CGSize { double x0; double x1; })coefficientPixelBufferSizeForTotalSize:(unsigned long long)a0 float16:(BOOL)a1;
+ (unsigned int)integratedCoefficientArrayLengthForConfiguration:(id)a0;
+ (struct CGSize { double x0; double x1; })ispSTENCoefficientPixelBufferSizeForConfiguration:(id)a0;
+ (struct CGSize { double x0; double x1; })ispWeightPlanePixelBufferSizeForConfiguration:(id)a0;

- (int)prewarm;
- (int)resetState;
- (int)setup;
- (void)dealloc;
- (int)finishProcessing;
- (int)purgeResources;
- (int)process;
- (void).cxx_destruct;
- (int)prepareToProcess:(unsigned int)a0;
- (int)createIdentityTransformCoefficients:(struct __CVBuffer { } *)a0;
- (id)externalMemoryDescriptorForConfiguration:(id)a0;
- (id)initWithOptionalMetalCommandQueue:(id)a0;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 toOutputPixelBuffer:(struct __CVBuffer { } *)a2 copyAttachments:(BOOL)a3;
- (int)downScaleInputTexture:(id)a0 toOutputTexture:(id)a1;
- (int)downScaleInputTexture:(id)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 toOutputTexture:(id)a2;
- (id)_instanceLabel:(id)a0;
- (void)_allocateBuffer:(id *)a0 withDescriptor:(id)a1 useFigMetalAllocator:(BOOL)a2;
- (int)_allocatePermanentResources;
- (void)_allocateTexture:(id *)a0 withDescriptor:(id)a1 useFigMetalAllocator:(BOOL)a2;
- (BOOL)_applyResidualCorrection;
- (BOOL)_applySyntheticNoise;
- (BOOL)_areCRGIOSet;
- (struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; })_bindAllIOBuffers:(int *)a0;
- (int)_bindAllInternalYUVTextures:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_bindPixelBufferToTexture:(struct __CVBuffer { } *)a0 usage:(unsigned long long)a1 texturePtr:(id *)a2;
- (int)_bindPixelBufferToTexture:(struct __CVBuffer { } *)a0 usage:(unsigned long long)a1 texturePtr:(id *)a2 plane:(unsigned int)a3;
- (int)_checkCRGIO;
- (int)_checkConfigurationForIOData:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkIOPair:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkIntegrationThumbnail:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkLearningThumbnailPair:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkLearningWeightThumbnail:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkROISpecification:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkResidualCorrectionThumbnailPair:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_checkSyntheticNoiseCalculationThumbnail:(struct IOData { id x0; id x1; id x2; id x3; id x4; id x5; id x6; id x7; id x8; id x9; id x10; id x11; id x12; id x13; id x14; id x15; id x16; id x17; id x18; id x19; id x20; id x21; id x22; id x23; id x24; } *)a0;
- (int)_createMetalStages;
- (id)_crgApplyWithInput:(id)a0 deltaMap:(id)a1 parentGroup:(id)a2;
- (void)_freePermanentResources;
- (unsigned int)_independentPlusSpatialAverageLinearSystemCount;
- (unsigned int)_integratedCoefficientsArrayLength;
- (unsigned int)_linearSystemCount;
- (unsigned int)_linearSystemNumberOfExpansionTerms;
- (unsigned int)_linearSystemNumberOfPolynomials;
- (unsigned int)_linearSystemNumberOfPolynomialsUpgradingFirstPlusSquaredTermsOrderToSecondOrder;
- (unsigned int)_linearSystemSize;
- (unsigned long long)_requiredMetalHeapMemory:(unsigned int)a0;
- (int)_setTuningParameters;
- (unsigned int)_spatialAverageLinearSystemCount;
- (id)crgApplyWithInput:(id)a0 deltaMap:(id)a1 parentGroup:(id)a2;
- (id)crgApplyWithInput:(id)a0 parentGroup:(id)a1;
- (id)crgCalculateDeltaMapWithInput:(id)a0 original:(id)a1 parentGroup:(id)a2;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 toOutputPixelBuffer:(struct __CVBuffer { } *)a1;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 toOutputPixelBuffer:(struct __CVBuffer { } *)a1 copyAttachments:(BOOL)a2;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 toOutputPixelBuffer:(struct __CVBuffer { } *)a1 copyAttachments:(BOOL)a2 gdcParams:(const struct { float x0; float x1; float x2[8]; float x3[8]; float x4; } *)a3;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 usingBoxSize:(struct CGSize { double x0; double x1; })a2 toOutputPixelBuffer:(struct __CVBuffer { } *)a3 copyAttachments:(BOOL)a4;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 usingBoxSize:(struct CGSize { double x0; double x1; })a2 toOutputPixelBuffer:(struct __CVBuffer { } *)a3 filter:(unsigned long long)a4 copyAttachments:(BOOL)a5 gdcParams:(const struct { float x0; float x1; float x2[8]; float x3[8]; float x4; } *)a6;
- (int)downScaleInputPixelBuffer:(struct __CVBuffer { } *)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 usingBoxSize:(struct CGSize { double x0; double x1; })a2 toOutputPixelBuffer:(struct __CVBuffer { } *)a3 filter:(unsigned long long)a4 copyAttachments:(BOOL)a5 gdcParams:(const struct { float x0; float x1; float x2[8]; float x3[8]; float x4; } *)a6 rotation:(unsigned long long)a7;
- (int)downScaleInputTexture:(id)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 usingBoxSize:(struct CGSize { double x0; double x1; })a2 toOutputTexture:(id)a3;
- (int)downScaleInputTexture:(id)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 usingBoxSize:(struct CGSize { double x0; double x1; })a2 toOutputTexture:(id)a3 filter:(unsigned long long)a4 gdcParams:(const struct { float x0; float x1; float x2[8]; float x3[8]; float x4; } *)a5;
- (int)downScaleInputTexture:(id)a0 withInputCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 usingBoxSize:(struct CGSize { double x0; double x1; })a2 toOutputTexture:(id)a3 filter:(unsigned long long)a4 gdcParams:(const struct { float x0; float x1; float x2[8]; float x3[8]; float x4; } *)a5 rotation:(unsigned long long)a6;
- (void)forceMetalCachesFlush;
- (id)initWithOptionalMetalCommandQueue:(id)a0 withCoefficientSynchronization:(BOOL)a1;

@end
