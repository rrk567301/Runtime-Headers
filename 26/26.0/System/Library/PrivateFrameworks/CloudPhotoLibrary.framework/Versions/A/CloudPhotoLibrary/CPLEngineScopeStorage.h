@class NSCountedSet, NSString, CPLPlatformObject, NSDictionary, NSMutableDictionary, NSMutableArray, _CPLEngineScopeCache;

@interface CPLEngineScopeStorage : CPLEngineStorage <CPLAbstractObject> {
    _CPLEngineScopeCache *_scopeCache;
    BOOL _shouldResetGlobalsForMainScope;
    BOOL _scheduleATransportUpdate;
    BOOL _scheduleAScopeUpdate;
    unsigned long long _schedulePushHighPriorityToTransportChangeTypes;
    unsigned long long _schedulePushToTransportChangeTypes;
    BOOL _schedulePullFromTransport;
    BOOL _schedulePullFromClient;
    BOOL _shouldChangeSyncManagerPriorityBoost;
    BOOL _syncManagerPriorityBoost;
    BOOL _someScopeMightHaveToBePulledByClient;
    BOOL _clearSomeScopeMightHaveToBePulledByClient;
    NSMutableArray *_scopesToRemoveFromBrokenScopes;
    BOOL _shouldUpdateGlobalStatusAtEndOfTransaction;
    NSDictionary *_assetCountsToUpdate;
    long long _serverFeatureCompatibleVersionToUpdate;
    NSCountedSet *_scopeIdentifiersBeingCreated;
    NSMutableDictionary *_scopeObservers;
}

@property (readonly, nonatomic) BOOL hasStagedSyncAnchors;
@property (readonly, nonatomic) CPLPlatformObject *platformObject;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (BOOL)openWithError:(id *)a0;
- (id)enumeratorForScopesNeedingToPushHighPriorityChangesToTransport;
- (id)primaryScope;
- (BOOL)clearTransportGroupsForScope:(id)a0 error:(id *)a1;
- (BOOL)resetLocalRecordsForScopeWithIdentifier:(id)a0 error:(id *)a1;
- (BOOL)setScope:(id)a0 hasCompletedInitialMinglingWithError:(id *)a1;
- (BOOL)_isValidSharingScopeIdentifier:(id)a0 scopeType:(long long)a1 forScopeIdentifier:(id)a2;
- (BOOL)setPullFromTransportExpirationInterval:(double)a0 scope:(id)a1 error:(id *)a2;
- (long long)uploadComputeStateTaskForScope:(id)a0;
- (id)transportScopeForScope:(id)a0;
- (BOOL)setHasFinishedInitialDownloadForScope:(id)a0 error:(id *)a1;
- (BOOL)setDeleteDate:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)clearAllQuotaFlagsForMainScopeWithReason:(id)a0 error:(id *)a1;
- (BOOL)resetStableRecordsForScopeWithIdentifier:(id)a0 error:(id *)a1;
- (BOOL)hasScopesNeedingToPullChangesFromTransport;
- (BOOL)resetSyncStateForScope:(id)a0 error:(id *)a1;
- (BOOL)storeBusyState:(long long)a0 forScope:(id)a1 error:(id *)a2;
- (id)sharingScopeForScope:(id)a0;
- (BOOL)doesScopeSupportToBePulledByClient:(id)a0;
- (BOOL)clientAcknowledgedScopeChanges:(id)a0 error:(id *)a1;
- (id)syncAnchorForScope:(id)a0;
- (BOOL)setDidDropSomeRecordsForScope:(id)a0 error:(id *)a1;
- (BOOL)storeScopeListSyncAnchor:(id)a0 error:(id *)a1;
- (BOOL)_activateSharedScopeIfPresentWithError:(id *)a0;
- (BOOL)updateFlags:(id)a0 forScope:(id)a1 error:(id *)a2;
- (id)scopedIdentifierForLocalScopedIdentifier:(id)a0;
- (id)scopeWithLocalScopeIndex:(long long)a0;
- (BOOL)setDisabledDate:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)doesScopeNeedToPushChangesToTransport:(id)a0;
- (long long)pullFromTransportTaskForScope:(id)a0;
- (id)allScopeIdentifiersIncludeInactive:(BOOL)a0;
- (BOOL)_handledDisabledFeaturesForScopeIfNecessary:(id)a0 type:(long long)a1 error:(id *)a2;
- (BOOL)hasFinishedAFullSyncForScope:(id)a0;
- (BOOL)didDropSomeRecordsForScope:(id)a0;
- (id)enumeratorForScopesWithMingling;
- (BOOL)setScope:(id)a0 hasCompletedPushToTransportTask:(long long)a1 error:(id *)a2;
- (id)enumeratorForDeletedStagedScopes;
- (id)initialMingleDateForScope:(id)a0;
- (BOOL)setValue:(BOOL)a0 forFlag:(long long)a1 forScope:(id)a2 error:(id *)a3;
- (BOOL)performUpgradeWithError:(id *)a0;
- (BOOL)_setScopeType:(long long)a0 forScope:(id)a1 error:(id *)a2;
- (void)_fixGlobalStatus;
- (BOOL)valueForFlag:(long long)a0 forScope:(id)a1;
- (id)initialMetadataDownloadDateForScope:(id)a0;
- (BOOL)enablePrimaryScopeWithError:(id *)a0;
- (BOOL)_forceClientToPullScopeIfNecessary:(id)a0 error:(id *)a1;
- (BOOL)activateScope:(id)a0 error:(id *)a1;
- (BOOL)updateInitialSyncTransportGroupEstimatedSize:(unsigned long long)a0 assetCount:(unsigned long long)a1 forScope:(id)a2 error:(id *)a3;
- (BOOL)supportedFeatureVersionIsMostRecentForScope:(id)a0;
- (id)transientSyncAnchorForScope:(id)a0;
- (id)activationDateForScope:(id)a0;
- (BOOL)storeScopeChange:(id)a0 forScope:(id)a1 error:(id *)a2;
- (id)validCloudScopeIndexes;
- (BOOL)deactivateScope:(id)a0 error:(id *)a1;
- (BOOL)storeRewindSyncAnchors:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)performMaintenanceWithError:(id *)a0;
- (void)_forceSyncManagerPriorityBoost;
- (BOOL)_setSharingScopeIdentifier:(id)a0 error:(id *)a1;
- (BOOL)upgradeScopesWithNewLibraryOptions:(unsigned long long)a0 error:(id *)a1;
- (void)endCreatingScopeWithIdentifier:(id)a0;
- (id)scopedIdentifierForCloudScopedIdentifier:(id)a0;
- (void)_notifyScopeObserversForScope:(id)a0 flagsUpdate:(id)a1;
- (BOOL)storeSupportedFeatureVersionInLastSync:(unsigned long long)a0 forScope:(id)a1 error:(id *)a2;
- (id)enumeratorForScopesNeedingToUpdateTransport;
- (id)scopeListSyncAnchor;
- (id)enumeratorForScopesNeedingToUploadComputeState;
- (BOOL)hasScopesNeedingToPushChangesToTransport;
- (id)lastDateOfClearedPushRepositoryForScope:(id)a0;
- (BOOL)_isValidSharingScope:(id)a0 forScopeIdentifier:(id)a1;
- (long long)indexForLocalScopeIdentifier:(id)a0;
- (BOOL)setInitialSyncAnchor:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)resetDidCheckAssetWithServerWhenOverQuotaForScope:(id)a0 error:(id *)a1;
- (id)enumeratorForScopesNeedingToPullChangesFromTransport;
- (BOOL)storeEstimatedSize:(unsigned long long)a0 estimatedAssetCount:(unsigned long long)a1 forScope:(id)a2 error:(id *)a3;
- (BOOL)doesScopeNeedToBePulledByClient:(id)a0;
- (BOOL)hasStagedSyncAnchorForScope:(id)a0;
- (id)validLocalScopeIndexes;
- (BOOL)doesScopeNeedToUploadComputeState:(id)a0;
- (BOOL)disablePrimaryScopeWithError:(id *)a0;
- (id)lastDateOfCompletedPullFromTransportForScope:(id)a0;
- (BOOL)_dropSharingScopeIdentifier:(id)a0 error:(id *)a1;
- (id)mostCurrentChangesSyncAnchorForScope:(id)a0;
- (BOOL)doScopesNeedMetadataSync:(id)a0;
- (BOOL)hasScopesNeedingToPushHighPriorityChangesToTransport;
- (BOOL)resetInitialSyncAnchorForScope:(id)a0 error:(id *)a1;
- (id)_scopeChangeToBePulledByClientForScope:(id)a0;
- (BOOL)setScope:(id)a0 hasCompletedPullFromTransportTask:(long long)a1 error:(id *)a2;
- (id)uploadTransportGroupForScope:(id)a0;
- (id)_scopeWithIdentifier:(id)a0;
- (BOOL)resetCompleteSyncStateForScope:(id)a0 error:(id *)a1;
- (Class)classOfRecordsForInitialQueryForScope:(id)a0;
- (unsigned long long)_indexOfCurrentClassForInitialQueriesForScope:(id)a0;
- (BOOL)setCloudScopeIndexOnChange:(id)a0;
- (void)writeTransactionDidFail;
- (unsigned long long)supportedFeatureVersionInLastSyncForScope:(id)a0;
- (unsigned long long)scopeType;
- (id)statusDictionaryForScope:(id)a0;
- (id)filterForIncludedScopeIdentifiers:(id)a0;
- (BOOL)setupAnchorResetTransportGroupForScope:(id)a0 error:(id *)a1;
- (BOOL)hasScopesNeedingToUpdateTransport;
- (BOOL)doesScopeAllowCourtesyMingling:(id)a0;
- (void)writeTransactionDidSucceed;
- (BOOL)resetLocalSyncStateForScope:(id)a0 error:(id *)a1;
- (void)addScopeFlagsObserver:(id /* block */)a0 withIdentifier:(id)a1;
- (id)deleteDateForScope:(id)a0;
- (void)_removeBrokenScope:(id)a0;
- (id)filterForExcludedScopeIdentifiers:(id)a0;
- (id)rewindSyncAnchorsForScope:(id)a0;
- (id)updatedScopeFilter:(id)a0;
- (BOOL)resetCloudRecordsForScopeWithIdentifier:(id)a0 error:(id *)a1;
- (id)remainingClassesForInitialQueryForScope:(id)a0;
- (id)flagsForScope:(id)a0;
- (unsigned long long)estimatedSizeForScope:(id)a0;
- (id)scopeChangesNeedingToBePulledByClientWithMaximumCount:(unsigned long long)a0;
- (BOOL)setScopeNeedsToBePulledByClient:(id)a0 error:(id *)a1;
- (BOOL)setupResetSyncTransportGroupForScope:(id)a0 error:(id *)a1;
- (BOOL)storeSupervisorInfo:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)noteDidCheckAssetWithServerWhenOverQuotaForScope:(id)a0 error:(id *)a1;
- (id)disabledDateForScope:(id)a0;
- (BOOL)_resetCompleteSyncStateForScope:(id)a0 error:(id *)a1;
- (BOOL)shouldDropAllUploadsForScope:(id)a0 dropReason:(id *)a1 shouldQuarantineRecords:(BOOL *)a2;
- (id)initialMetadataQueriesDateForScope:(id)a0;
- (long long)transportUpdateTaskForScope:(id)a0;
- (id)scopeIdentifierForCloudScopeIndex:(long long)a0;
- (BOOL)setScope:(id)a0 hasCompletedTransportUpdate:(long long)a1 error:(id *)a2;
- (BOOL)doesScopeNeedToUpdateTransport:(id)a0;
- (void)beginCreatingScopeWithIdentifier:(id)a0;
- (BOOL)shouldTrackAdditionalInitialSyncDatesForScope:(id)a0;
- (unsigned long long)estimatedAssetCountForScope:(id)a0;
- (id)downloadTransportGroupForScope:(id)a0;
- (void)_clearScopeCache;
- (id)_realScopeIdentifiersFromScopeIdentifiers:(id)a0;
- (BOOL)addRewindSyncAnchor:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)setScope:(id)a0 hasCompletedUploadComputeStateTask:(long long)a1 error:(id *)a2;
- (id)scopeIdentifierForLocalScopeIndex:(long long)a0;
- (BOOL)setSyncAnchor:(id)a0 forScope:(id)a1 error:(id *)a2;
- (id)status;
- (id)scopeChangeForScope:(id)a0;
- (BOOL)setScopeNeedsToUploadComputeState:(id)a0 error:(id *)a1;
- (id)scopeWithIdentifier:(id)a0;
- (void)_resetGlobalsForMainScope;
- (BOOL)hasScopesNeedingToUploadComputeState;
- (BOOL)updateScopeWithChange:(id)a0 error:(id *)a1;
- (id)enumeratorForScopesNeedingUpdateFromTransport;
- (BOOL)commitSyncAnchorForScope:(id)a0 error:(id *)a1;
- (id)initialSyncAnchorForScope:(id)a0;
- (BOOL)markInitialQueryIsDoneForRecordsOfClass:(Class)a0 forScope:(id)a1 error:(id *)a2;
- (void)_cacheScope:(id)a0;
- (id)initWithEngineStore:(id)a0 name:(id)a1;
- (BOOL)_doesScopeContributeToGlobalStatus:(id)a0;
- (BOOL)disableInitialQueriesForScope:(id)a0 error:(id *)a1;
- (BOOL)addCleanupTasksForScope:(id)a0 error:(id *)a1;
- (BOOL)hasFinishedInitialSyncForScope:(id)a0;
- (BOOL)setHasUpdatedScope:(id)a0 fromTransportWithError:(id *)a1;
- (id)scopeWithCloudScopeIndex:(long long)a0;
- (BOOL)resetSyncAnchorForScope:(id)a0 error:(id *)a1;
- (BOOL)_resetLocalSyncStateForScope:(id)a0 error:(id *)a1;
- (void)removeScopeFlagsObserverWithIdentifier:(id)a0;
- (BOOL)setLocalScopeIndexOnChange:(id)a0;
- (BOOL)hasFinishedInitialDownloadForScope:(id)a0;
- (long long)indexForCloudScopeIdentifier:(id)a0;
- (BOOL)storeLastDateOfClearedPushRepository:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)shouldCheckAssetsWithServerWhenOverQuotaForScope:(id)a0;
- (id)_createScopeFromScopeChange:(id)a0 error:(id *)a1;
- (id)supervisorInfoForScope:(id)a0;
- (id)scopeForSharingScope:(id)a0;
- (id)enumeratorForScopesIncludeInactive:(BOOL)a0;
- (id)enumeratorForScopesNeedingToPushChangesToTransport;
- (void)_updateGlobalStatusWithScopeChange:(id)a0 forScope:(id)a1;
- (BOOL)setupInitialSyncTransportGroupsForScope:(id)a0 error:(id *)a1;
- (BOOL)resetCompleteSyncStateIncludingIDMappingForScope:(id)a0 error:(id *)a1;
- (BOOL)discardStagedSyncAnchorForScope:(id)a0 error:(id *)a1;
- (BOOL)hasScopeFlagsObservers;
- (BOOL)setHasFetchedInitialSyncAnchor:(BOOL)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)doesScopeNeedToPullChangesFromTransport:(id)a0;
- (BOOL)discardStagedSyncAnchorWithScopeFilter:(id)a0 error:(id *)a1;
- (BOOL)setTransportScope:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)setAllScopesHasChangesToPullFromTransportWithError:(id *)a0;
- (BOOL)storeTransientSyncAnchor:(id)a0 forScope:(id)a1 error:(id *)a2;
- (BOOL)shouldAutoactivateScopeWithIdentifier:(id)a0 scopeType:(long long)a1;
- (BOOL)setScopeHasChangesToPullFromTransport:(id)a0 error:(id *)a1;
- (BOOL)setScopeNeedsToUpdateTransport:(id)a0 error:(id *)a1;
- (long long)pushToTransportTaskForScope:(id)a0;
- (void)_checkSyncManagerPriorityBoost;
- (long long)stableScopeIndexForScopeIdentifier:(id)a0;
- (BOOL)deleteScopeWithIdentifier:(id)a0 error:(id *)a1;
- (id)stagingScopeForScope:(id)a0;
- (BOOL)hasScopeFetchedInitialSyncAnchor:(id)a0;
- (void).cxx_destruct;
- (long long)busyStateForScope:(id)a0;
- (BOOL)setScopeHasChangesToPushToTransport:(id)a0 changeTypes:(unsigned long long)a1 error:(id *)a2;
- (id)createScopeWithIdentifier:(id)a0 scopeType:(long long)a1 flags:(long long)a2 transportScope:(id)a3 error:(id *)a4;
- (id)scopeWithStableIndex:(long long)a0;
- (BOOL)setScopeNeedsUpdateFromTransport:(id)a0 error:(id *)a1;

@end
