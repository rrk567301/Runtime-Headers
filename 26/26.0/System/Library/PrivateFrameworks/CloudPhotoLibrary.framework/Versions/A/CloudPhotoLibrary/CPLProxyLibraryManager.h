@class NSXPCConnection, NSString, NSDate, NSMutableDictionary, NSCountedSet, NSObject, NSMutableArray, CPLFingerprintContext;
@protocol OS_dispatch_queue;

@interface CPLProxyLibraryManager : CPLPlatformObject <CPLClientLibraryManagerProtocol, NSXPCConnectionDelegate, CPLLibraryManagerImplementation> {
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _realConnectionLock;
    NSXPCConnection *_realConnection;
    NSMutableDictionary *_downloadTasks;
    NSMutableDictionary *_inMemoryDownloadTasks;
    NSMutableDictionary *_uploadTasks;
    NSMutableDictionary *_forceSyncTasks;
    NSMutableDictionary *_vouchersPerTaskIdentifier;
    unsigned long long _foregroundCalls;
    BOOL _foregroundCallsHaveBeenQuiet;
    NSCountedSet *_disablingReasons;
    unsigned long long _disablingMinglingCount;
    unsigned long long _significantWorkCalls;
    NSMutableDictionary *_outstandingInvocations;
    unsigned long long _outstandingInvocationsCount;
    NSMutableDictionary *_syncOutstandingInvocations;
    unsigned long long _syncOutstandingInvocationsCount;
    NSMutableArray *_pendingBlocksAfterOpening;
    int _openingStatus;
    NSDate *_backoffRetryingConnectionDate;
    int _notifyToken;
    BOOL _killed;
    BOOL _logKilled;
    BOOL _firstTryOpeningLibrary;
}

@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *queue;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) CPLFingerprintContext *fingerprintContextIfKnown;

+ (id)daemonProtocolInterface;
+ (id)clientProtocolInterface;

- (void)fetchExistingSharedLibraryScopeWithCompletionHandler:(id /* block */)a0;
- (void)removeParticipants:(id)a0 fromSharedScopeWithIdentifier:(id)a1 retentionPolicy:(long long)a2 exitSource:(long long)a3 completionHandler:(id /* block */)a4;
- (void)startExitFromSharedScopeWithIdentifier:(id)a0 retentionPolicy:(long long)a1 exitSource:(long long)a2 completionHandler:(id /* block */)a3;
- (void)acceptSharedScope:(id)a0 completionHandler:(id /* block */)a1;
- (id)_connection;
- (void)enableMingling;
- (void)blockEngineElement:(id)a0;
- (void)getScopeStatusCountsForScopeWithIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)sharedLibraryRampCheckWithCompletionHandler:(id /* block */)a0;
- (void)getStatusForRecordsWithScopedIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)rampingRequestForResourceType:(unsigned long long)a0 numRequested:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)disableSynchronizationWithReason:(id)a0;
- (void)deactivateScopeWithIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)getStatusForPendingRecordsSharedToScopeWithIdentifier:(id)a0 maximumCount:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)addInfoToLog:(id)a0;
- (void)getListOfComponentsWithCompletionHandler:(id /* block */)a0;
- (void)getSystemBudgetsWithCompletionHandler:(id /* block */)a0;
- (void)deactivateWithCompletionHandler:(id /* block */)a0;
- (void)dispatchBlockWhenLibraryIsOpen:(id /* block */)a0;
- (void)beginDownloadForResource:(id)a0 clientBundleID:(id)a1 options:(id)a2 proposedTaskIdentifier:(id)a3 completionHandler:(id /* block */)a4;
- (void)noteClientIsEndingSignificantWork;
- (void)testKey:(id)a0 value:(id)a1 completionHandler:(id /* block */)a2;
- (void)acknowledgeChangedStatuses:(id)a0;
- (void)getResourcesForItemWithScopedIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)boostPriorityForScopeWithIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)forceSynchronizingScopeWithIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)getStreamingURLForResource:(id)a0 intent:(unsigned long long)a1 hints:(id)a2 timeRange:(struct { struct { long long x0; int x1; unsigned int x2; long long x3; } x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; })a3 clientBundleID:(id)a4 completionHandler:(id /* block */)a5;
- (void)getCloudCacheRecordsWithLocalScopedIdentifiers:(id)a0 desiredProperties:(id)a1 completionHandler:(id /* block */)a2;
- (void)startSyncSession;
- (void)getStatusForComponents:(id)a0 completionHandler:(id /* block */)a1;
- (void)disableMingling;
- (void)openWithCompletionHandler:(id /* block */)a0;
- (void)checkResourcesAreSafeToPrune:(id)a0 checkServerIfNecessary:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)addDropDerivativesRecipe:(id)a0 writeToUserDefaults:(BOOL)a1 withCompletionHandler:(id /* block */)a2;
- (void)requestClientToPullAllChangesInScopeIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)noteClientIsInForegroundQuietly:(BOOL)a0;
- (void)beginInMemoryDownloadOfResource:(id)a0 clientBundleID:(id)a1 completionHandler:(id /* block */)a2;
- (void)resetStatus;
- (void)activateScopeWithIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)provideRecordWithCloudScopeIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)queryUserDetailsForShareParticipants:(id)a0 completionHandler:(id /* block */)a1;
- (void)reportMiscInformation:(id)a0;
- (void)barrier;
- (void)enableSynchronizationWithReason:(id)a0;
- (void)noteClientIsBeginningSignificantWork;
- (void)getTargetsForRecordsWithScopedIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (id)proxyWithErrorHandler:(id /* block */)a0;
- (void)resetCacheWithOption:(unsigned long long)a0 reason:(id)a1 completionHandler:(id /* block */)a2;
- (void)unblockEngineElement:(id)a0;
- (void)reportSetting:(id)a0 hasBeenSetToValue:(id)a1;
- (id)initWithAbstractObject:(id)a0;
- (void)noteClientIsInBackground;
- (void)provideCloudResource:(id)a0 completionHandler:(id /* block */)a1;
- (void)getChangedStatusesWithCompletionHandler:(id /* block */)a0;
- (void)refreshScopeWithIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)cancelTask:(id)a0;
- (void)updateShareForScope:(id)a0 completionHandler:(id /* block */)a1;
- (void)compactFileCacheWithCompletionHandler:(id /* block */)a0;
- (void)deleteResources:(id)a0 checkServerIfNecessary:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)fetchSharedScopeFromShareURL:(id)a0 completionHandler:(id /* block */)a1;
- (void)getStatusArrayForComponents:(id)a0 completionHandler:(id /* block */)a1;
- (void)resolveLocalScopedIdentifiersForCloudScopedIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)unblockEngineElementOnce:(id)a0;
- (void)addStatusChangesForRecordsWithScopedIdentifiers:(id)a0 persist:(BOOL)a1;
- (void)setShouldOverride:(BOOL)a0 forSystemBudgets:(unsigned long long)a1;
- (void)checkHasBackgroundDownloadOperationsWithCompletionHandler:(id /* block */)a0;
- (void)deleteScopeWithIdentifier:(id)a0 forced:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)closeWithCompletionHandler:(id /* block */)a0;
- (void)getStatusesForScopesWithIdentifiers:(id)a0 includeStorages:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)createScope:(id)a0 completionHandler:(id /* block */)a1;
- (void)forceBackupWithCompletionHandler:(id /* block */)a0;
- (void)requestClientToPushAllChangesWithCompletionHandler:(id /* block */)a0;
- (void)cloudCacheGetDescriptionForRecordWithScopedIdentifier:(id)a0 related:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)libraryManagerHasChangesToPull;
- (void)_storeVoucher:(id)a0 forTaskWithIdentifier:(id)a1;
- (void)uploadOfResource:(id)a0 didProgress:(float)a1 forResourceTransferTask:(id)a2;
- (BOOL)_setStatusFromDictionary:(id)a0;
- (void)connection:(id)a0 handleInvocation:(id)a1 isReply:(BOOL)a2;
- (void)inMemoryDownloadDidFinishForResourceTransferTask:(id)a0 data:(id)a1 withError:(id)a2;
- (void)dealloc;
- (void)provideScopeChangeForScopeWithIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)backgroundDownloadDidFailForResource:(id)a0;
- (void)downloadDidProgress:(float)a0 forResourceTransferTask:(id)a1;
- (void)_dropConnectionCompletly;
- (void)pushAllChangesWithCompletionHandler:(id /* block */)a0;
- (void)_dispatchFailedForceSyncTaskForScopeIdentifiers:(id)a0 withError:(id)a1 withCompletionHandler:(id /* block */)a2;
- (void)uploadOfResource:(id)a0 didFinishForResourceTransferTask:(id)a1 withError:(id)a2;
- (void)_dispatchFailedDownloadTaskForResource:(id)a0 options:(id)a1 proposedTaskIdentifier:(id)a2 withError:(id)a3 withCompletionHandler:(id /* block */)a4;
- (void)_dispatchFailedInMemoryDownloadTaskForResource:(id)a0 withError:(id)a1 withCompletionHandler:(id /* block */)a2;
- (id)_uploadTaskDidStartForResource:(id)a0 withTaskIdentifier:(id)a1;
- (void)downloadDidStartForResourceTransferTask:(id)a0;
- (void)getMappedScopedIdentifiersForScopedIdentifiers:(id)a0 inAreLocalIdentifiers:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)_invokeOutstandingInvocationsWithTaskIdentifier:(id)a0;
- (void)_dropVoucherForTaskWithIdentifier:(id)a0;
- (void)_withVoucherForTaskWithIdentifier:(id)a0 do:(id /* block */)a1;
- (void)backgroundDownloadDidFinishForResource:(id)a0;
- (void)_dispatchBlockWhenOpen:(id /* block */)a0;
- (void)attachComputeStates:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchComputeStatesForRecordsWithScopedIdentifiers:(id)a0 validator:(id)a1 shouldDecrypt:(BOOL)a2 onDemand:(BOOL)a3 completionHandler:(id /* block */)a4;
- (void)libraryManagerDidUpdateStatusWithProperties:(id)a0;
- (void)libraryManagerHasStatusChanges;
- (void)provideLocalResource:(id)a0 recordClassString:(id)a1 completionHandler:(id /* block */)a2;
- (void)forceSyncDidFinishForTask:(id)a0 withErrors:(id)a1;
- (void)_dropConnectionCompletlyLocked;
- (void)providePayloadForComputeStates:(id)a0 inFolderWithURL:(id)a1 completionHandler:(id /* block */)a2;
- (void)noteClientReceivedNotificationOfServerChanges;
- (void)_reallyOpenWithCompletionHandler:(id /* block */)a0;
- (void)_markConnectionAsInvalid;
- (void)downloadDidFinishForResourceTransferTask:(id)a0 finalResource:(id)a1 withError:(id)a2;
- (void)cancelSyncTask:(id)a0;
- (void)libraryManagerHasBeenReplaced;
- (void)uploadDidStartForResource:(id)a0 withResourceTransferTask:(id)a1;
- (void)_setupConnection;
- (void).cxx_destruct;
- (void)_invokeSyncOutstandingInvocationsWithTaskIdentifier:(id)a0;
- (void)libraryManagerDidUpdateSizeOfResourcesToUploadToSize:(unsigned long long)a0 sizeOfOriginalResourcesToUpload:(unsigned long long)a1 numberOfImages:(unsigned long long)a2 numberOfVideos:(unsigned long long)a3 numberOfOtherItems:(unsigned long long)a4;

@end
