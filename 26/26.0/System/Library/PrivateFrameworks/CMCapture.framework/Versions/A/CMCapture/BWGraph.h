@class BWMemoryPoolFlushAssertion, NSString, NSArray, BWMemoryAnalyticsPayload, NSMutableDictionary, NSObject, NSMutableArray, BWMemoryPool;
@protocol FigCaptureInterruptionDelegate, BWGraphStatusDelegate, OS_dispatch_group, OS_dispatch_queue;

@interface BWGraph : NSObject <FigCaptureOSStateDataProvider> {
    NSMutableArray *_nodes;
    NSMutableArray *_sourceNodes;
    NSMutableArray *_sinkNodes;
    NSMutableArray *_connections;
    NSMutableArray *_outputsWithSharedPools;
    NSMutableArray *_nodesToBypassUntilPrepared;
    NSMutableDictionary *_outputsWithSharedPoolsForAttachedMedia;
    NSMutableArray *_nodesToPrepareConcurrently;
    NSArray *_nodesToPrepareAfterGraphStart;
    BOOL _deferredNodePrepareCancelled;
    NSMutableArray *_deferredStartSourceNodes;
    NSMutableArray *_deferredStartSourceNodesThatMustStartAfterNonDeferred;
    BOOL _haveStartedOrCancelledDeferredSourceNodes;
    BOOL _running;
    BOOL _beingConfigured;
    long long _inflightConfigurationID;
    NSObject<OS_dispatch_group> *_sourceNodesStartGroup;
    NSObject<OS_dispatch_group> *_nonDeferredSourceNodesStartGroup;
    NSObject<OS_dispatch_queue> *_sourceStartQueue;
    NSObject<OS_dispatch_group> *_startGroup;
    NSObject<OS_dispatch_group> *_commitGroup;
    NSObject<OS_dispatch_group> *_sinkNodesIdleGroupForParallelGraphRebuild;
    BOOL _supportsLiveReconfiguration;
    NSObject<OS_dispatch_queue> *_liveReconfigNodeConnectionsResumeQueue;
    NSObject<OS_dispatch_queue> *_liveReconfigPrepareQueue;
    BOOL _classicRetainedBufferCount;
    NSString *_clientApplicationID;
    int _clientPID;
    NSString *_userFriendlyClientName;
    NSString *_modeDescription;
    NSString *_sourceDescription;
    unsigned int _configurationQueuePriority;
    BWMemoryPoolFlushAssertion *_flushAssertion;
}

@property int errorStatus;
@property (nonatomic) BOOL deferredNodePrepareSupported;
@property (readonly, nonatomic) BOOL deferredNodePrepareEnabled;
@property (readonly, nonatomic) NSMutableArray *deferredPreparePrioritySinks;
@property (nonatomic) BOOL resumesConnectionsAsNodesArePrepared;
@property (readonly, nonatomic) BOOL supportsLiveReconfiguration;
@property (nonatomic) id<BWGraphStatusDelegate> statusDelegate;
@property (nonatomic) id<FigCaptureInterruptionDelegate> interruptionDelegate;
@property (retain, nonatomic) BWMemoryPool *memoryPool;
@property (readonly, nonatomic, getter=isRunningForContinuityCapture) BOOL runningForContinuityCapture;
@property (nonatomic) BOOL memoryAnalyticsReportingEnabled;
@property (readonly, nonatomic) BWMemoryAnalyticsPayload *memoryAnalyticsPayload;
@property (nonatomic) BOOL clientExpectsCameraMountedInLandscapeOrientation;
@property (nonatomic) int graphStateTransitionTimeoutSeconds;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)initialize;

- (id)clientApplicationID;
- (void)setClientApplicationID:(id)a0;
- (void)startDeferredSourceNodesIfNeeded;
- (void)dealloc;
- (id)initWithConfigurationQueuePriority:(unsigned int)a0;
- (BOOL)stopSources:(id *)a0;
- (id)_reverseDepthFirstEnumeratorWithVertexOrdering:(int)a0;
- (void)enableDeferredPrepareForNodesNotInPathOfSinkNode:(id)a0;
- (id)_reverseBreadthFirstEnumerator;
- (id)osStatePropertyList;
- (void)setClientPID:(int)a0;
- (id)sourceDescription;
- (int)safelyConnectOutput:(id)a0 toInput:(id)a1 pipelineStage:(id)a2;
- (int)clientPID;
- (void)cancelDeferredSourceNodeStart;
- (void)enableBypassUntilPreparedForNode:(id)a0 deferredPreparePriority:(int)a1;
- (void)setSourceDescription:(id)a0;
- (void)setModeDescription:(id)a0;
- (id)init;
- (void)notifyWhenNonDeferredSourceNodesHaveStarted:(id /* block */)a0;
- (id)_depthFirstEnumeratorWithVertexOrdering:(int)a0;
- (id)_connections;
- (id)_sourceNodes;
- (void)startDeferredNodePrepareIfNeededWithDidPrepareCriticalPriorityNodesHandler:(id /* block */)a0 completionHandler:(id /* block */)a1;
- (void)beginConfiguration;
- (BOOL)connectOutput:(id)a0 toInput:(id)a1 pipelineStage:(id)a2 deferredAttach:(BOOL)a3;
- (BOOL)addNode:(id)a0 error:(id *)a1;
- (void)waitForStartOrCommitToComplete;
- (void)setUserFriendlyClientName:(id)a0;
- (id)_breadthFirstEnumerator;
- (void)cancelDeferredNodePrepare;
- (int)safelyConnectOutput:(id)a0 toInput:(id)a1 pipelineStage:(id)a2 deferredAttach:(BOOL)a3;
- (id)modeDescription;
- (BOOL)commitConfigurationWithID:(long long)a0 error:(id *)a1;
- (void)enableConcurrentPrepareForNode:(id)a0;
- (BOOL)stop:(id *)a0;
- (BOOL)removeNode:(id)a0;
- (void)enableDeferredStartForSourceNode:(id)a0 mustStartAfterNonDeferred:(BOOL)a1;
- (id)_sinkNodes;
- (BOOL)connectOutput:(id)a0 toInput:(id)a1 pipelineStage:(id)a2;
- (void)waitForNonDeferredSourceNodesToStart;
- (id)dotString;
- (BOOL)_resolveFormats:(id *)a0;
- (id)userFriendlyClientName;
- (BOOL)start:(id *)a0;

@end
