@class NSString;
@protocol IMDRemoteDatabaseProtocol;

@interface IMDDatabase : NSObject <IMDMigrationQueries, IMDLegacyAttachmentQueries, IMDKeyValueQueries, IMDNotificationQueries, IMDLegacyChatQueries, IMDLegacyMessageQueries, IMDContactQueries, IMDDatabaseQueries, IMDHandleQueries>

@property (class, readonly) id<IMDRemoteDatabaseProtocol> synchronousDatabase;
@property (class, readonly) id<IMDRemoteDatabaseProtocol> database;

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, getter=isSynchronous) BOOL synchronous;

+ (BOOL)isServerProcess;
+ (id)sharedDatabase;
+ (id)_databaseServer;
+ (id)_databaseClientAsync;
+ (id)_databaseClientSync;
+ (id)_legacyDatabaseClient;
+ (id)_newSyndicationRangeForCMMMessageItem:(id)a0 syndicationIdentifier:(id)a1 shouldHideFromSyndication:(BOOL)a2;

- (void)updateRecoverableMessageSyncState:(long long)a0 forMessageRowID:(long long)a1 onPartIndex:(long long)a2;
- (id)init;
- (void)clearRecoverableMessageTombStones;
- (id)recoverableMessagesMetadataPendingCloudKitDeleteWithLimit:(unsigned long long)a0;
- (void)deleteAttachmentsDirectWithPredicate:(id)a0;
- (void)permanentlyDeleteRecoverableMessagesInChatsWithGUIDs:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchGroupPhotoPathsForChatsWithGroupIDs:(id)a0 completionHandler:(id /* block */)a1;
- (id)_messageKeyPathsToColumnsQueryingChatJoinTable:(BOOL)a0 sortDescriptors:(id)a1;
- (void)assignDomainIdentifiers:(id)a0 toChatRecordWithGUID:(id)a1 completionHandler:(id /* block */)a2;
- (id)chatRecordsFilteredByPredicate:(id)a0;
- (void)fetchIdentifiersForChatRecordWithGUID:(id)a0 domain:(id)a1 completionHandler:(id /* block */)a2;
- (void)moveMessageRecordsToRecoveryForChatRecordsWithGUIDs:(id)a0 deleteDate:(id)a1;
- (void)fetchLastMessageRecordForChatRecordWithRowID:(long long)a0 completionHandler:(id /* block */)a1;
- (id)recoverableMessagesMetadataPendingCloudKitSaveWithLimit:(unsigned long long)a0 filter:(unsigned long long)a1;
- (id)_chatGUIDsForChatsWithJunkMessagesOlderThanDate:(id)a0 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; } *)a1;
- (id)_chatGUIDsForChatsWithRecoverableMessagesOlderThanDate:(id)a0 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; } *)a1;
- (id)_copyAttachmentRecordsFromCoreSDBResults:(id)a0;
- (id)_copyChatRecordsFromCoreSDBResults:(id)a0;
- (id)_copyHandleRecordsFromCoreSDBResults:(id)a0;
- (id)_copyMessageRecordsFromCoreSDBResults:(id)a0;
- (long long)_countMessagesExcludingGroupPhotosInChatWithGUID:(id)a0 isRecoverable:(BOOL)a1 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; } *)a2;
- (id)_deleteChatIfEmptyWithGUID:(id)a0 lastMessageDate:(id)a1 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; } *)a2;
- (void)_deleteTransfersInMessagePartsForChatGUID:(id)a0;
- (void)_fetchChatRecordsWithHandles:(id)a0 allowSubsetMatching:(BOOL)a1 serviceNames:(id)a2 displayName:(id)a3 groupID:(id)a4 style:(unsigned char)a5 useOriginalGroupID:(BOOL)a6 completionHandler:(id /* block */)a7;
- (void)_fetchMessageRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 inChatsFilteredUsingPredicate:(id)a2 fromHandlesUsingPredicate:(id)a3 parentedOnly:(BOOL)a4 limit:(unsigned long long)a5 completionHandler:(id /* block */)a6;
- (id)_initAsSynchronous:(BOOL)a0;
- (void)_insertServiceBasedSyncDeletedChatRecordsForChatWithGUID:(id)a0 lastMessageDate:(id)a1;
- (id)_loadAttributedBodyTextForMessageWithGUID:(id)a0;
- (id)_loadRecoverableMessagePartsMetadataForChatGUID:(id)a0;
- (id)_mostRecentJunkMessageDateForChatWithGUID:(id)a0 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; } *)a1;
- (id)_mostRecentRecoverableMessageDateForChatWithGUID:(id)a0 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; } *)a1;
- (void)_performPersistenceBlock:(id /* block */)a0;
- (void)_permanentlyDeleteJunkMessagesBeforeDate:(id)a0;
- (id)_permanentlyDeleteRecoverableMessagesInChatsWithGUIDs:(id)a0 beforeDate:(id)a1;
- (id)_queryForMessageRecordFetchWithMessageWhereClause:(id)a0 chatWhereClause:(id)a1 handleWhereClause:(id)a2 orderByClauses:(id)a3 parentedOnly:(BOOL)a4;
- (void)_recoverMessagePartsForChatRecordsWithGUIDs:(id)a0 dateRecovered:(id)a1 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; })a2;
- (void)_removeFromRecoverableMessagePartForMessageGUID:(id)a0 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; })a1;
- (id)_restoredAttributedBodyForMessageGUID:(id)a0 withRecoveredAttributedParts:(id)a1;
- (id)_updateAttachmentsSyncStateQueryFor:(long long)a0;
- (id)_updateChatsSyncStateQueryFor:(long long)a0;
- (void)_updateMessageItemSyndicationRanges:(id)a0 messagePartDescriptor:(id)a1 shouldHideFromSyndication:(BOOL)a2;
- (void)_updateMessageRecordForGUID:(id)a0 withAttributedBody:(id)a1 dateRecovered:(id)a2 operation:(struct IMDSqlOperation { void *x0; void *x1; struct __CFString *x2; void *x3; struct IMDSqlStatement { void *x0; int x1; struct __CFString *x2; struct sqlite3 *x3; int x4; int x5; int x6; struct IMPerfMeasurement_t { struct IMFileLocation_t { char *x0; char *x1; char *x2; char *x3; int x4; } x0; unsigned long long x1; unsigned long long x2; struct __CFString *x3; double x4; double x5; double x6; } x7; } x4; struct __CFError *x5; })a3;
- (id)_updateMessageSyncStateQueryFor:(long long)a0;
- (id)_updateMessageSyncedSyndicationRangesQueryFor:(long long)a0;
- (void)_updateMessagesSyncedSyndicationRangesToSyncedForGUIDs:(id)a0;
- (id)_updateRecoverableMessageSyncStateForMessageGUIDsQueryFor:(long long)a0;
- (BOOL)_updateSyndicatedMessageItem:(id)a0 newMessageItem:(id)a1 newSyndicationRange:(id)a2;
- (void)addScheduledMessageGUIDandCKRecordToDeleteFromCloudKit:(id)a0 recordID:(id)a1;
- (void)addSyncChatSlices:(id)a0 forChatWithGUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)addSyncDeletedChatRecords:(id)a0 completionHandler:(id /* block */)a1;
- (void)assignIdentifier:(id)a0 toChatRecordWithGUID:(id)a1 forDomain:(id)a2 priority:(long long)a3 completionHandler:(id /* block */)a4;
- (id)chatRecordsWithHandles:(id)a0 serviceName:(id)a1 displayName:(id)a2 groupID:(id)a3 style:(unsigned char)a4;
- (id)chatRecordsWithHandles:(id)a0 serviceName:(id)a1 displayName:(id)a2 groupID:(id)a3 style:(unsigned char)a4 useOriginalGroupID:(BOOL)a5;
- (id)chatRecordsWithIdentifier:(id)a0;
- (void)clearExpiredTimeSensitiveMessagesWithCompletionHandler:(id /* block */)a0;
- (void)copyAllChatsWithUnreadMessagesWithLimit:(long long)a0 beforeDate:(id)a1 predicate:(id)a2 completionHandler:(id /* block */)a3;
- (void)copyChatsFromSortedIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (id)copyDuplicateGroupChatRecordsWithLimit:(long long)a0;
- (void)deleteJunkMessagesOlderThanDays:(long long)a0;
- (void)deleteRecoverableMessagesOlderThanDays:(long long)a0;
- (void)deleteTombstonedScheduledMessagesWithRecordIDs:(id)a0;
- (void)fetchAttachmentRecordsFilteredUsingPredicate:(id)a0 limit:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)fetchAttachmentRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 limit:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)fetchChatGUIDsForMessageGUIDs:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchChatRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 limit:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)fetchChatRecordsFilteredUsingPredicate:(id)a0 sortedUsingLastMessageDateAscending:(BOOL)a1 limit:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)fetchChatRecordsFilteredUsingPredicate:(id)a0 sortedUsingLastMessageDateAscending:(BOOL)a1 olderThan:(id)a2 limit:(unsigned long long)a3 completionHandler:(id /* block */)a4;
- (void)fetchChatRecordsWithAtLeastHandles:(id)a0 serviceNames:(id)a1 style:(unsigned char)a2 completionHandler:(id /* block */)a3;
- (void)fetchChatRecordsWithPinningIdentifier:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchContactsForIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchCountOfRecordType:(unsigned long long)a0 completionHandler:(id /* block */)a1;
- (void)fetchDataForKey:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchHandleRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 limit:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)fetchIdentifiersForChatRecordWithGUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchInteger64ForKey:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchMessageRecordWithGUID:(id)a0 excludeRecoverableMessages:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)fetchMessageRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 inChatsFilteredUsingPredicate:(id)a2 fromHandlesUsingPredicate:(id)a3 limit:(unsigned long long)a4 completionHandler:(id /* block */)a5;
- (void)fetchMessageRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 inChatsFilteredUsingPredicate:(id)a2 limit:(unsigned long long)a3 completionHandler:(id /* block */)a4;
- (void)fetchMessageRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 limit:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)fetchMessageRecordsFilteredUsingPredicate:(id)a0 sortedUsingDescriptors:(id)a1 parentedOnly:(BOOL)a2 limit:(unsigned long long)a3 completionHandler:(id /* block */)a4;
- (void)fetchMessageRecordsForChatRecordWithGUID:(id)a0 filteredUsingPredicate:(id)a1 sortedUsingDescriptors:(id)a2 limit:(unsigned long long)a3 completionHandler:(id /* block */)a4;
- (void)fetchMessageRowIDsForGUIDs:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchMessagesWithoutChatsCountWithCompletionHandler:(id /* block */)a0;
- (void)fetchMetadataForSyndicationIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchScheduledMessageRecordsForChatRecordWithGUID:(id)a0 limit:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)fetchServicesForChatWithGUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchSyncChatSliceForChatWithGUID:(id)a0 serviceName:(id)a1 completionHandler:(id /* block */)a2;
- (void)fetchSyncChatSlicesForChatWithGUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)fetchTotalMessageCountWithCompletionHandler:(id /* block */)a0;
- (void)fetchUnreadIncomingMessagesCount:(id /* block */)a0;
- (void)fetchUnreadMessageRecordsForChatsFilteredUsingPredicate:(id)a0 limit:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)generateUnreadCountReportsForChatsWithGUIDs:(id)a0 completionHandler:(id /* block */)a1;
- (void)generateUnreadCountReportsWithCompletionHandler:(id /* block */)a0;
- (id)handleRecordsFilteredByPredicate:(id)a0;
- (void)handoffReplyToQueue:(id)a0 block:(id /* block */)a1;
- (void)inspectStorageWithStorageInspector:(id)a0 completionHandler:(id /* block */)a1;
- (id)loadRecoverableMessagesMetadataGroupedByChatGUID;
- (void)markMessageRecordsAsReadWithGUIDs:(id)a0;
- (void)moveMessageRecordsToRecoveryForMessageGUIDs:(id)a0 deleteDate:(id)a1;
- (void)postSharePlayNotificationForChatGUID:(id)a0 faceTimeConversationUUID:(id)a1 handleIdentifier:(id)a2 localizedApplicationName:(id)a3;
- (void)recoverMessageRecordsForChatRecordsWithGUIDs:(id)a0;
- (void)reparentMessagesUsingChatIDWithGUIDs:(id)a0 completionHandler:(id /* block */)a1;
- (void)reparentableMessagesStartingAtRowID:(long long)a0 limit:(long long)a1 completionHandler:(id /* block */)a2;
- (void)resolveInconsistentGUIDForChatRecordWithGUID:(id)a0 newGUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)resolveSpotlightItemIdentifiers:(id)a0 completionHandler:(id /* block */)a1;
- (id)scheduledMessagesMetadataPendingCloudKitDeleteWithLimit:(long long)a0;
- (void)splitMergedChatsInDatabaseAtPath:(id)a0 completionHandler:(id /* block */)a1;
- (void)storeData:(id)a0 forKey:(id)a1;
- (void)storeInteger64:(long long)a0 forKey:(id)a1;
- (void)storeRecoverableMessagePartWithBody:(id)a0 forMessageWithGUID:(id)a1 deleteDate:(id)a2;
- (void)unassignIdentifier:(id)a0 fromChatRecordWithGUID:(id)a1 forDomain:(id)a2 completionHandler:(id /* block */)a3;
- (void)updateAcceptedContactsInAliasMap:(id)a0 completionHandler:(id /* block */)a1;
- (void)updateAttachmentSyndicationRanges:(id)a0 shouldHideFromSyndication:(BOOL)a1;
- (void)updateAttachmentsSyncStatusTo:(long long)a0 forGUIDs:(id)a1;
- (void)updateChatsSyncStatusTo:(long long)a0 forGUIDs:(id)a1;
- (void)updateMessageSyndicationRanges:(id)a0 shouldHideFromSyndication:(BOOL)a1;
- (void)updateMessagesSyncStatusTo:(long long)a0 forGUIDs:(id)a1;
- (void)updateMessagesSyncedSyndicationRangesForGUIDs:(id)a0 toStatus:(long long)a1;
- (void)updatePendingReviewForChatsWithGUIDs:(id)a0 pendingReview:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)updateRecoverableMessageSyncState:(long long)a0 forMessageGUIDs:(id)a1;
- (void)updateServicesForChatWithGUID:(id)a0 services:(id)a1 completionHandler:(id /* block */)a2;

@end
