@class PLMomentGenerationDataManager, NSPersistentStoreCoordinator, PLCacheDeleteSupport, PLModelMigrator, CPLConfiguration, PLAnalysisCoordinator, NSMutableArray, PLFeatureAvailabilityComputer, PLSearchIndexingEngine, PFClientSideEncryptionManager, PLLibraryServicesCPLReadiness, PLAssetsdCrashRecoverySupport, CPLFingerprintContext, NSProgress, PLComputeCacheManager, PLCacheDeleteRegistration, PLPairing, PLCloudIdentifierReservationSupport, PLQuickActionManager, PLRebuildJournalManager, PLChangeHandlingContainer, PLClientServerTransaction, NSURL, PLIntensiveResourceTaskManager, PLImageWriter, PLBackgroundJobService, PLDuplicateProcessor, PLLibraryServicesStateNode, PLTrackableRequestManager, PLPhotoLibraryBundle, PLSearchDonationProgress, PLCloudPhotoLibraryManager, NSString, NSError, NSObject, PLSyndicationDeleteEngine, PLLibraryOpenerCreationOptions, PLKeywordManager, PLDeferredProcessingServiceHandler, PLCPLSettings, PLDatabaseContext, PLPhotoLibraryPathManager, PLLazyObject, NSMutableDictionary, PLReadyForAnalysis, PFStateCaptureHandler;
@protocol PLMigrationServiceProtocol, OS_dispatch_source, OS_dispatch_queue, PLLibraryServicesDelegate;

@interface PLLibraryServicesManager : NSObject <PLSyndicationDeleteEngineDelegate, PFStateCaptureProvider> {
    PFStateCaptureHandler *_stateHandler;
    BOOL _isCreateMode;
    long long _wellKnownPhotoLibraryIdentifier;
    PLLazyObject *_lazyImageWriter;
    PLLazyObject *_lazyModelMigrator;
    PLLazyObject *_lazySearchIndexingEngine;
    PLLazyObject *_lazySearchDonationProgress;
    PLLazyObject *_lazyDatabaseContext;
    PLLazyObject *_lazyDuplicateProcessor;
    PLLazyObject *_lazyMomentGenerationDataManager;
    PLLazyObject *_lazyRebuildJournalManager;
    PLLazyObject *_lazyComputeCacheManager;
    PLLazyObject *_lazyQuickActionManager;
    PLLazyObject *_lazyKeywordManager;
    PLLazyObject *_lazyAlbumCountCoalescer;
    PLLazyObject *_lazyImportSessionCountCoalescer;
    PLLazyObject *_lazyCloudPhotoLibraryManager;
    PLLazyObject *_lazyCrashRecoverySupport;
    PLLazyObject *_lazyPairingManager;
    PLLazyObject *_lazyCPLReadiness;
    PLLazyObject *_lazyClientSideEncryptionManager;
    PLLazyObject *_lazySyndicationDeleteManager;
    PLLazyObject *_lazyCacheDeleteSupport;
    PLLazyObject *_lazyDeferredProcessingServiceHandler;
    PLLazyObject *_lazyDirectServerConfiguration;
    PLLazyObject *_lazyCPLSettings;
    PLLazyObject *_lazyMainScopeIdentifier;
    PLLazyObject *_lazyAnalysisCoordinator;
    PLLazyObject *_lazyReadyForAnalysis;
    PLLazyObject *_lazyAvailabilityProgressDelegate;
    PLLazyObject *_lazyAvailabilityTransitionDelegate;
    PLLazyObject *_lazyAvailabilityComputer;
    PLLazyObject *_lazyCloudIdentifierReservationSupport;
    PLLazyObject *_lazyFingerprintContext;
    PLLazyObject *_lazyCollectionShareCPLBackend;
    PLLazyObject *_lazyCollectionShareSharedStreamBackend;
    PLLazyObject *_lazyIntensiveResourceTaskManager;
    PLClientServerTransaction *_serverTransaction;
    NSObject<OS_dispatch_source> *_outstandingTransactionHandlerTimer;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _outstandingTransactionHandlerTimerLock;
    NSObject<OS_dispatch_queue> *_albumCountQueue;
    NSMutableDictionary *_externalWaiterCompletionBlocksByState;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _statusLock;
    PLLibraryServicesStateNode *_statusLock_currentStateNode;
    NSMutableArray *_statusLock_mutablePendingOperations;
    unsigned int _statusLock_maxWaiterQoS;
}

@property (class, retain, nonatomic) Class libraryServicesDelegateClass;

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (retain, setter=_setCurrentStateNode:) PLLibraryServicesStateNode *currentStateNode;
@property (retain, nonatomic) id operationCountObservee;
@property (retain) id<PLLibraryServicesDelegate> libraryServicesDelegate;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *stateSerializationQueue;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *helperQueue;
@property (nonatomic, getter=isActive) BOOL active;
@property (nonatomic, getter=isFinalizing) BOOL finalizing;
@property (retain, nonatomic) NSProgress *preRunningProgress;
@property (retain, nonatomic) NSProgress *postRunningProgress;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } importMutex;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } fileSystemAssetImporterMutex;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } localeUpdateLock;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } contactsAuthorizationUpdateLock;
@property (retain, nonatomic) PLLibraryOpenerCreationOptions *openerCreationOptions;
@property unsigned int maxWaiterQoS;
@property (readonly) long long state;
@property (readonly, copy) NSURL *libraryURL;
@property (readonly, copy) NSString *logPrefix;
@property (readonly) long long wellKnownPhotoLibraryIdentifier;
@property (readonly, weak) PLPhotoLibraryBundle *libraryBundle;
@property (readonly) NSPersistentStoreCoordinator *persistentStoreCoordinator;
@property (readonly, nonatomic) NSError *invalidationError;
@property (readonly) PLPhotoLibraryPathManager *pathManager;
@property (readonly) PLImageWriter *imageWriter;
@property (readonly) PLModelMigrator *modelMigrator;
@property (readonly) PLSearchIndexingEngine *searchIndexingEngine;
@property (readonly) PLSearchDonationProgress *searchDonationProgress;
@property (readonly) PLDatabaseContext *databaseContext;
@property (readonly) PLDuplicateProcessor *duplicateProcessor;
@property (readonly) PLMomentGenerationDataManager *momentGenerationDataManager;
@property (readonly) PLQuickActionManager *quickActionManager;
@property (readonly) PLKeywordManager *keywordManager;
@property (readonly) PLBackgroundJobService *backgroundJobService;
@property (readonly) PLCloudPhotoLibraryManager *cloudPhotoLibraryManager;
@property (readonly) PLTrackableRequestManager *trackableRequestManager;
@property (readonly) PLAssetsdCrashRecoverySupport *crashRecoverySupport;
@property (readonly) PLPairing *pairingManager;
@property (readonly) PLLibraryServicesCPLReadiness *cplReadiness;
@property (readonly) PFClientSideEncryptionManager *clientSideEncryptionManager;
@property (readonly) PLSyndicationDeleteEngine *syndicationDeleteManager;
@property (readonly) PLCacheDeleteSupport *cacheDeleteSupport;
@property (readonly) PLCacheDeleteRegistration *cacheDeleteRegistration;
@property (readonly) PLDeferredProcessingServiceHandler *deferredProcessingServicerHandler;
@property (readonly) CPLConfiguration *directServerConfiguration;
@property (readonly) PLCPLSettings *cplSettings;
@property (readonly) NSString *mainScopeIdentifier;
@property (readonly) PLAnalysisCoordinator *analysisCoordinator;
@property (readonly) PLReadyForAnalysis *readyForAnalysis;
@property (readonly) PLFeatureAvailabilityComputer *availabilityComputer;
@property (readonly) PLCloudIdentifierReservationSupport *cloudIdentifierReservationSupport;
@property (readonly) CPLFingerprintContext *fingerprintContext;
@property (readonly) PLIntensiveResourceTaskManager *intensiveResourceTaskManager;
@property (readonly) PLRebuildJournalManager *rebuildJournalManager;
@property (readonly) PLComputeCacheManager *computeCacheManager;
@property (readonly, getter=isCreateMode) BOOL createMode;
@property (copy) NSString *upgradeClient;
@property (readonly, getter=isCloudPhotoLibraryEnabled) BOOL cloudPhotoLibraryEnabled;
@property (weak) id<PLMigrationServiceProtocol> migrationServiceProxy;
@property (readonly) PLChangeHandlingContainer *changeHandlingContainer;
@property struct { _Atomic unsigned int imageCacheHitCount; _Atomic unsigned int imageCacheMissCount; _Atomic unsigned int videoComplementCacheHitCount; _Atomic unsigned int videoComplementCacheMissCount; } resourceCacheMetrics;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)runningLibraryServicesManagerForWellKnownPhotoLibraryIdentifier:(long long)a0 error:(id *)a1;
+ (long long)_initialState;
+ (id)errorForInvalidationError:(id)a0 userInfo:(id)a1;
+ (id)libraryServicesManagerForLibraryURL:(id)a0;
+ (long long)_finalState;

- (id)statusDescription;
- (id)pendingOperations;
- (void)setICloudPhotosEnabledInternal:(BOOL)a0;
- (id)newSearchDonationProgress;
- (void)performTransactionForSyndicationDeleteManager:(id)a0 name:(const char *)a1 transaction:(id /* block */)a2;
- (void)_setCameraRollCountedInQuota:(BOOL)a0;
- (void)didRemainSyncablePhotoLibrary;
- (void)_waitForAwaitOperation:(id)a0;
- (void)_invalidateAvailabilityTransitionDelegate;
- (id)stateCaptureDictionary;
- (void)_invalidateKeywordManager;
- (void)_invalidateAlbumCountCoalescer;
- (BOOL)transitionToState:(long long)a0 error:(id *)a1;
- (void)_stopObservingLibraryStateCompletedAllOperations;
- (void)_invalidateDirectServerConfiguration;
- (void)dealloc;
- (void)_invalidateDatabaseContext;
- (void)_invalidateImageWriter;
- (void)initializeChangeHandling;
- (id)newCloudPhotoLibraryManager;
- (void)_handleCoalescerActionWithScope:(id)a0 class:(Class)a1 forIDs:(id)a2 context:(id)a3;
- (void)_invalidateCameraPreviewWellManager;
- (BOOL)awaitLibraryState:(long long)a0 error:(id *)a1;
- (id)availabilityTransitionDelegate;
- (void)_awaitLibraryState:(long long)a0 sync:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)performBlockWithImportMutex:(id /* block */)a0;
- (long long)_state;
- (id)initForTestingWithLibraryBundle:(id)a0 delegateClass:(Class)a1;
- (void)_invalidateCPLReadiness;
- (void)_dispatchAwaitLibraryStateCompletionHandler:(id /* block */)a0 group:(id)a1 error:(id)a2;
- (void)_increaseStateQueueQoSIfNeeded;
- (id)newComputeCacheManager;
- (void)_invalidate;
- (void)_invalidateClientSideEncryptionManager;
- (BOOL)updateGreenTeaSavedContactsAuthorizationIfNeeded;
- (void)awaitLibraryState:(long long)a0 completionHandler:(id /* block */)a1;
- (void)didBecomeNonSyncablePhotoLibrary;
- (void)_invalidateImportSessionCountCoalescer;
- (void)invalidateReverseLocationDataOnAllAssets;
- (unsigned long long)createOptions;
- (void)setCreateMode:(BOOL)a0 options:(id)a1;
- (void)_initCameraPreviewWellManager;
- (BOOL)activate:(id *)a0;
- (void)_invalidatePairingManager;
- (id)activeOperations;
- (void)_invalidateCPLSettings;
- (id)_provideContextForSearchDonationProgress;
- (void)_invalidateMomentGenerationDataManager;
- (void)_invalidateMainScopeIdentifier;
- (void)_invalidateSyndicationDeleteManager;
- (void)_invalidateOutstandingTransactionHandlerTimer;
- (void)_invalidateSearchIndexingEngine;
- (void)refreshAlbumCountForAlbumIDs:(id)a0;
- (id)newSearchIndexingEngine;
- (void)performFileSystemAssetImporterWorkWithLibrary:(id)a0 block:(id /* block */)a1;
- (BOOL)enqueueOperation:(id)a0 error:(id *)a1;
- (void)_initSystemPhotoLibrarySpecificServices;
- (void)_invalidateCrashRecoverySupport;
- (id)newRebuildJournalManager;
- (id)journalManagerForName:(id)a0;
- (id)newImportSessionCountCoalescer;
- (BOOL)_enqueueOperation:(id)a0 error:(id *)a1;
- (void)_addPendingOperationsForStateNode:(id)a0;
- (void)_transitionToState:(long long)a0;
- (id)_enqueueAwaitOperation;
- (void)_invalidateCloudIdentifierReservationSupport;
- (void)_invalidateReadyForAnalysis;
- (void)_handleLibraryStateCompletedAllOperations;
- (void)_invalidateSearchDonationProgress;
- (id)newAlbumCountCoalescer;
- (void)_enqueueExternalWaiterCompletionBlockForState:(long long)a0 completionBlock:(id /* block */)a1;
- (void)_invalidateComputeCacheManager;
- (void)_resetStateQueueQoS;
- (id)availabilityProgressDelegate;
- (void)_invalidateModelMigrator;
- (id)newCrashRecoverySupport;
- (void)_invalidateDuplicateProcessor;
- (void)_invalidateCloudPhotoLibraryManager;
- (BOOL)isSyndicationPhotoLibrary;
- (void)_invalidateAnalysisCoordinator;
- (BOOL)isSystemPhotoLibrary;
- (BOOL)finalize:(id *)a0;
- (long long)_determineWellKnownPhotoLibraryIdentifier;
- (BOOL)isAppPhotoLibrary;
- (void)_invalidateBackgroundJobService;
- (BOOL)isCPLSyncablePhotoLibrary;
- (BOOL)isSearchIndexingEnabled;
- (BOOL)_canTransitionToState:(long long)a0 error:(id *)a1;
- (BOOL)updateSavedLocaleIfNeeded;
- (void)initializeConstraintsDirector;
- (BOOL)disableiCPLForLibraryDeletionWithError:(id *)a0;
- (void)_startObservingLibraryStateCompletedAllOperations;
- (void)_initSyndicationPhotoLibrarySpecificServices;
- (void)refreshImportSessionCountForImportSessionIDs:(id)a0;
- (void)_invalidateQuickActionManager;
- (void)_cancelPendingOperations;
- (void)_dispatchExternalWaitersForState:(long long)a0;
- (void)_invalidateCacheDeleteSupport;
- (void)_invalidateSystemPhotoLibrarySpecificServices;
- (void)registerOutstandingTransactionsHandler:(id /* block */)a0;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (id)_libraryServicesStateNodeWithState:(long long)a0;
- (id)collectionShareBackendForKind:(short)a0;
- (id)initWithLibraryBundle:(id)a0 backgroundJobService:(id)a1 cacheDeleteRegistration:(id)a2 delegateClass:(Class)a3;
- (id)_newContainer:(Class)a0 scope:(id)a1;
- (void)_invalidateAvailabilityComputer;
- (void)shutdownLibraryWithDescription:(id)a0;
- (void)_invalidateRebuildJournalManager;
- (void)_invalidateAvailabilityProgressDelegate;
- (id)newDirectServerConfiguration;
- (id)newClientSideEncryptionManager;
- (void).cxx_destruct;
- (void)deactivateWithInvalidationError:(id)a0;
- (void)_invalidateCollectionShareCPLBackend;
- (void)_invalidateSyndicationPhotoLibrarySpecificServices;
- (id)newMomentGenerationDataManager;
- (BOOL)enqueueOperationWithName:(id)a0 requiredState:(long long)a1 executionBlock:(id /* block */)a2;
- (BOOL)willBecomeNonSyncablePhotoLibrary:(id *)a0;
- (void)_invalidateCollectionShareSharedStreamBackend;

@end
