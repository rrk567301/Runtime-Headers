@class ImageProcessor_VSA, NSString, VEScaler, Synthesis_Ext, NSDate, FlowUpscale, PseudoDepthGenerator;
@protocol MTLTexture, MTLDevice, MTLCommandQueue;

@interface MotionBlurEngine : NSObject {
    Synthesis_Ext *_synthesis;
    VEScaler *_scaler;
    PseudoDepthGenerator *_pseudoDepthGenerator;
    FlowUpscale *_flowUpscale;
    unsigned long long _width;
    unsigned long long _height;
    struct CGSize { double width; double height; } _effectiveFrameResolution;
    struct CGSize { double width; double height; } _effectiveFlowResolution;
    long long _firstRotation;
    long long _secondRotation;
    struct __CVBuffer { } *_flowForward;
    struct __CVBuffer { } *_flowBackward;
    unsigned long long _flowWidth;
    unsigned long long _flowHeight;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _lastFramePts;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _lastFrameDuration;
    unsigned long long _lastFramesToSynthesize;
    NSDate *_startTime;
    unsigned long long _totalFramesSynthesized;
    unsigned long long _totalFramePairsProcessed;
    BOOL _onDemandSynthesisBufferAllocation;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _maxTimeGap;
    ImageProcessor_VSA *_imageProcessor;
    struct __CVBuffer { } *_upscaleFlow;
    struct __CVBuffer { } *_remainedFlowErrorMask;
    struct __CVBuffer { } *_depth;
    id<MTLTexture> _flowForwardTexture;
    id<MTLTexture> _flowBackwardTexture;
    id<MTLTexture> _upscaleFlowTexture;
    id<MTLTexture> _remainedFlowErrorMaskTexture;
    id<MTLTexture> _depthTexture;
    id<MTLTexture> _downscaleFirstImageTexture;
    id<MTLTexture> _downscaleSecondImageTexture;
    id<MTLTexture> _fullresGuideImageTexture;
    BOOL _bindTexture;
    BOOL _firstFrame;
    BOOL _lastFrame;
    struct __CVBuffer { } *_prevBackwardFlow;
    id<MTLTexture> _prevBackwardFlowTexture;
    id<MTLDevice> _device;
    id<MTLCommandQueue> _commandQueue;
    long long _vsaPipeMode;
    BOOL _opticalFlowNeeded;
    BOOL _blurNeeded;
    BOOL _streamingModeChange;
}

@property (nonatomic) long long usage;
@property (nonatomic) struct CGAffineTransform { double a; double b; double c; double d; double tx; double ty; } preferredTransform;
@property (nonatomic) BOOL streamingMode;
@property (nonatomic) unsigned long long synthesisMode;
@property (nonatomic) BOOL EnableGpuWaitForComplete;
@property (retain, nonatomic) NSString *debugImage;
@property (nonatomic) long long stateExt;
@property (nonatomic) BOOL imageGuideUpscale;
@property (nonatomic) BOOL pseudoDepth;
@property (nonatomic) BOOL image2motion;
@property (nonatomic) BOOL useExternalFlow;
@property (nonatomic) BOOL useExternalDepth;
@property (nonatomic) BOOL flowFailureDetection;
@property (nonatomic) BOOL postprocessOutput;

- (void)dealloc;
- (long long)endSession;
- (void).cxx_destruct;
- (id)errorWithErrorCode:(long long)a0;
- (long long)allocateInternalBuffers;
- (long long)allocateSubmodulesBuffersWithFlowWidth:(unsigned long long)a0 flowHeight:(unsigned long long)a1 depthFactor:(unsigned long long)a2;
- (long long)bindWithMTLTextureFromDownscaledImage:(struct __CVBuffer { } *)a0 downscaledSecond:(struct __CVBuffer { } *)a1 forwardFlow:(struct __CVBuffer { } *)a2 backwardFlow:(struct __CVBuffer { } *)a3 prevBackwardFlow:(struct __CVBuffer { } *)a4 remianedErrorMask:(struct __CVBuffer { } *)a5 fullresImage:(struct __CVBuffer { } *)a6 upscaledFlow:(struct __CVBuffer { } *)a7 depth:(struct __CVBuffer { } *)a8 interleaveFactor:(unsigned long long)a9;
- (void)configureSynthesis;
- (long long)flowUpscalingAndPseudoDepthComputingWarmup:(BOOL)a0;
- (long long)getFrameRotation:(long long)a0;
- (void)initExtSubModules;
- (id)initWithWidth:(unsigned long long)a0 height:(unsigned long long)a1 vsaPipeMode:(long long)a2;
- (BOOL)motionBlurBetweenFirstFrame:(id)a0 secondFrame:(id)a1 forwardFlow:(struct __CVBuffer { } *)a2 backwardFlow:(struct __CVBuffer { } *)a3 depth:(struct __CVBuffer { } *)a4 shutterAngle:(id)a5 destination:(struct __CVBuffer { } *)a6 withError:(id *)a7;
- (BOOL)motionBlurForCurrentFrame:(id)a0 futureFrame:(id)a1 prevFrame:(id)a2 prevFlowPair:(struct { struct __CVBuffer *x0; struct __CVBuffer *x1; } *)a3 currFlowPair:(struct { struct __CVBuffer *x0; struct __CVBuffer *x1; } *)a4 shutterAngle:(id)a5 destination:(struct __CVBuffer { } *)a6 withError:(id *)a7;
- (void)releaseInternalBuffers;
- (void)setPropertiesFromDefaults;
- (BOOL)startSessionWithQualityMode:(long long)a0 useExternalFlow:(BOOL)a1 streamingMode:(BOOL)a2 pseudoDepth:(BOOL)a3 error:(id *)a4;
- (long long)synthesizeMotionBlurredFrameForTimeScale:(float)a0 destination:(struct __CVBuffer { } *)a1 scalerEnabled:(BOOL)a2 frameIndex:(unsigned long long)a3 lastFrame:(BOOL)a4;
- (long long)synthesizeMotionBlurredFrames:(id)a0 second:(id)a1 timeScale:(id)a2 destination:(struct __CVBuffer { } *)a3 scalerEnabled:(BOOL)a4;
- (void)updateLastFramePts:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 duration:(struct { long long x0; int x1; unsigned int x2; long long x3; })a1 toSynthesize:(unsigned long long)a2;
- (long long)warmpupComputationFromPrevFrame:(id)a0 currFrame:(id)a1 prevFlowPair:(struct { struct __CVBuffer *x0; struct __CVBuffer *x1; } *)a2;

@end
