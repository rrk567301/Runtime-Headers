@class CKContainerID, NSString, NSDate, NSData, NSUUID, NSMutableDictionary, CKDAccount, NSObject, CKDLogicalDeviceContext, NSMutableSet, CKDPCSIdentityManager;
@protocol CKDPCSKeySyncNotifierProtocol, OS_dispatch_queue, CKDContainerScopedUserIDProvider;

@interface CKDPCSManager : NSObject <CKDPCSTestOverrideProvider, CKDProtocolTranslatorIdentityDelegate>

@property (retain) CKDAccount *account;
@property (readonly, weak, nonatomic) id<CKDContainerScopedUserIDProvider> containerScopedUserIDProvider;
@property (readonly, nonatomic) CKContainerID *containerID;
@property (readonly, nonatomic) NSString *responsibleBundleID;
@property (readonly, nonatomic) BOOL forceEnableReadOnlyManatee;
@property (readonly, nonatomic) unsigned long long mmcsEncryptionSupport;
@property (readonly, nonatomic) BOOL useZoneWidePCS;
@property (readonly, weak, nonatomic) id<CKDPCSKeySyncNotifierProtocol> userKeySyncNotifier;
@property (retain, nonatomic) NSDate *lastMissingManateeIdentityErrorDateForCurrentService;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *synchronizeQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *callbackQueue;
@property (retain, nonatomic) NSMutableDictionary *pcsTestOverrides;
@property (readonly, nonatomic) CKDLogicalDeviceContext *deviceContext;
@property (readonly, nonatomic) CKDPCSIdentityManager *identityManager;
@property (retain, nonatomic) NSMutableSet *undecryptablePCSDataHashes;
@property (retain, nonatomic) NSData *boundaryKeyData;
@property (retain, nonatomic) NSUUID *uuid;
@property (readonly, nonatomic) NSString *pcsServiceName;
@property (readonly, nonatomic) BOOL currentServiceIsManatee;
@property (readonly, nonatomic) unsigned long long serviceTypeForSharing;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)noMatchingIdentityErrorForPCSError:(id)a0 withErrorCode:(long long)a1 description:(id)a2;
+ (id)_legacyServiceNameForContainerID:(id)a0;
+ (id)pcsOverrideKeys;
+ (id)allProtectionIdentifiersFromShareProtection:(struct _OpaquePCSShareProtection { } *)a0;
+ (id)etagFromPCSData:(id)a0;
+ (id)publicKeyIDFromIdentity:(struct _OpaquePCSShareProtection { } *)a0;
+ (id)protectionIdentifierFromShareProtection:(struct _OpaquePCSShareProtection { } *)a0;

- (id)dataFromSharingIdentity:(struct _PCSIdentityData { } *)a0 error:(id *)a1;
- (void)setPCSServiceNameOverwrite:(id)a0;
- (id)wrapEncryptedData:(id)a0 withPCS:(struct _OpaquePCSShareProtection { } *)a1 withContextString:(id)a2;
- (BOOL)isPreviouslyUndecryptablePCS:(id)a0;
- (struct _PCSIdentityData { } *)createRandomSharingIdentityWithError:(id *)a0;
- (BOOL)_isKeyRollingUnitTestContainerID:(id)a0;
- (id)copyAllPublicKeysForService:(unsigned long long)a0 withError:(id *)a1;
- (id)copyPublicKeyForService:(unsigned long long)a0 withError:(id *)a1;
- (BOOL)_checkAndClearPCSTestOverrideForKey:(id)a0;
- (id)updateServiceIdentityOnZonePCS:(struct _OpaquePCSShareProtection { } *)a0;
- (struct _PCSIdentityData { } *)debugSharingIdentity;
- (struct _PCSIdentityData { } *)createCombinedIdentityWithOutOfNetworkPrivateKey:(id)a0 publicSharingIdentity:(id)a1;
- (struct _PCSPublicIdentityData { } *)createPublicSharingIdentityFromPublicKey:(id)a0 error:(id *)a1;
- (id)updateZoneIdentityForRecordPCS:(struct _OpaquePCSShareProtection { } *)a0 usingZonePCS:(struct _OpaquePCSShareProtection { } *)a1 isZoneishRecord:(BOOL)a2 bypassAllowlistedContainers:(BOOL)a3;
- (id)initWithContainer:(id)a0 account:(id)a1;
- (id)dataFromSharePCS:(struct _OpaquePCSShareProtection { } *)a0 pcsBlobType:(unsigned long long)a1 error:(id *)a2;
- (struct _OpaquePCSShareProtection { } *)createRecordPCSWithZonePCS:(struct _OpaquePCSShareProtection { } *)a0 sharePCS:(struct _OpaquePCSShareProtection { } *)a1 createLite:(BOOL)a2 error:(id *)a3;
- (id)_pcsObjectKindForCKDPCSBlobType:(unsigned long long)a0;
- (struct _OpaquePCSShareProtection { } *)createSharePCSFromData:(id)a0 ofType:(unsigned long long)a1 withService:(unsigned long long)a2 error:(id *)a3;
- (BOOL)availableIdentityForService:(unsigned long long)a0 error:(id *)a1;
- (id)keyRollIfNeededForPerRecordPCS:(id)a0 needsRollAndCounterSign:(BOOL)a1 forOperation:(id)a2 didRoll:(BOOL *)a3;
- (BOOL)_checkUnitTestOverridesForDecryptionFailuresWithState:(BOOL)a0 error:(id *)a1;
- (BOOL)validateFullPublicKeySignature:(id)a0 forSignedData:(id)a1 error:(id *)a2;
- (void)setOwnerIdentity:(struct _PCSPublicIdentityData { } *)a0 onPCS:(struct _OpaquePCSShareProtection { } *)a1;
- (void)updateAccount:(id)a0 clearPCSCacheHandler:(id /* block */)a1;
- (struct _OpaquePCSShareProtection { } *)createSharePCSFromEncryptedData:(id)a0 error:(id *)a1;
- (id)replacePrimaryKeyInPCS:(struct _OpaquePCSShareProtection { } *)a0 ofType:(unsigned long long)a1;
- (void)dealloc;
- (BOOL)_addPublicIdentityForService:(unsigned long long)a0 toSharePCS:(struct _OpaquePCSShareProtection { } *)a1 withError:(id *)a2;
- (BOOL)removeParentZonePCSFromChildZonePCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (void)createZonePCSFromData:(id)a0 usingServiceIdentityWithType:(unsigned long long)a1 zonePCSModificationDate:(id)a2 requestorOperationID:(id)a3 completionHandler:(id /* block */)a4;
- (void)canDecryptInvitedProtectionData:(id)a0 participantProtectionInfo:(id)a1 serviceType:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (BOOL)recordProtectionDataNeedsCounterSign:(id)a0 error:(id *)a1;
- (id)counterSignRecordPCS:(struct _OpaquePCSShareProtection { } *)a0 zonePCS:(struct _OpaquePCSShareProtection { } *)a1;
- (struct _OpaquePCSShareProtection { } *)createRecordPCSWithEncryptedZonePCS:(struct __CFData { } *)a0 sharePCS:(struct _OpaquePCSShareProtection { } *)a1 createLite:(BOOL)a2 error:(id *)a3;
- (id)removePublicIdentity:(struct _PCSPublicIdentityData { } *)a0 fromSharePCS:(struct _OpaquePCSShareProtection { } *)a1;
- (struct _OpaquePCSShareProtection { } *)createSharePCSFromData:(id)a0 sharingIdentity:(struct _PCSIdentityData { } *)a1 logFailure:(BOOL)a2 error:(id *)a3;
- (unsigned long long)invitedPCSPermissionForParticipant:(id)a0 inShare:(id)a1 error:(id *)a2;
- (void)pcsDataFromFetchedShare:(id)a0 requestorOperationID:(id)a1 completionHandler:(id /* block */)a2;
- (void)_lockedGlobalPerUserBoundaryKeyDataWithCompletionHandler:(id /* block */)a0;
- (void)createZonePCSWithSyncKeyRegistryRetry:(BOOL)a0 requestorOperationID:(id)a1 createV2PCS:(BOOL)a2 completionHandler:(id /* block */)a3;
- (id)dataFromRecordPCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (id)etagFromZonePCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (id)decryptChainPCSForRecordPCS:(id)a0;
- (id)keyRollForZoneWideShareRecordPCS:(id)a0 sharedZonePCS:(id)a1 sharePCS:(id)a2 forOperation:(id)a3;
- (struct _OpaquePCSShareProtection { } *)createSharePCSFromData:(id)a0 sharePrivateKey:(id)a1 error:(id *)a2;
- (id)copyDiversifiedPublicKeyForService:(unsigned long long)a0 withError:(id *)a1;
- (id)createCloudKitFeaturesSignatureForData:(id)a0 forScope:(unsigned long long)a1 error:(id *)a2;
- (unsigned long long)removePCSKeys:(id)a0 fromPCS:(struct _OpaquePCSShareProtection { } *)a1 withProtectionEtag:(id)a2 forOperation:(id)a3;
- (BOOL)zonePCSNeedsKeyRolled:(struct _OpaquePCSShareProtection { } *)a0;
- (id)removePublicKeyID:(id)a0 fromPCS:(struct _OpaquePCSShareProtection { } *)a1;
- (id)keyRollForZoneWideShareWithZonePCS:(id)a0 sharePCS:(id)a1 forOperation:(id)a2;
- (struct _OpaquePCSShareProtection { } *)createSharePCSFromData:(id)a0 sharingIdentity:(struct _PCSIdentityData { } *)a1 error:(id *)a2;
- (void)decryptPCSDataOnSharePCS:(id)a0 shareModificationDate:(id)a1 requestorOperationID:(id)a2 completionHandler:(id /* block */)a3;
- (id)participantPublicKeyForServiceType:(unsigned long long)a0 error:(id *)a1;
- (BOOL)decryptSharedZonePCSData:(id)a0 withInvitedPCS:(struct _OpaquePCSShareProtection { } *)a1 error:(id *)a2;
- (id)removeEncryptedPCS:(id)a0 fromSharePCS:(struct _OpaquePCSShareProtection { } *)a1;
- (void)_locked_decryptCurrentPerParticipantPCSDataOnSharePCS:(id)a0 withPublicSharingKey:(id)a1 oonPrivateKey:(id)a2 shareModificationDate:(id)a3 requestorOperationID:(id)a4 completionHandler:(id /* block */)a5;
- (id)currentIdentityPublicKeyIDForServiceType:(unsigned long long)a0 error:(id *)a1;
- (long long)keyrollingErrorCodeForPCSOfType:(unsigned long long)a0;
- (unsigned long long)maxPcsBytes;
- (id)rollMasterKeyForRecordPCS:(struct _OpaquePCSShareProtection { } *)a0 isZoneishRecord:(BOOL)a1 bypassAllowlistedContainers:(BOOL)a2 forOperation:(id)a3;
- (BOOL)sharingFingerprintsContainPublicKeyWithData:(id)a0 error:(id *)a1;
- (unsigned long long)publicKeyVersionForServiceType:(unsigned long long)a0;
- (id)rollIdentityForSharePCS:(struct _OpaquePCSShareProtection { } *)a0 ofType:(unsigned long long)a1 removeAllExistingPrivateKeys:(BOOL)a2 error:(id *)a3;
- (id)unwrapEncryptedData:(id)a0 withPCS:(struct _OpaquePCSShareProtection { } *)a1 inContext:(id)a2;
- (BOOL)isSinglyWrappedRemindersZone:(struct _OpaquePCSShareProtection { } *)a0;
- (void)synchronizeUserKeyRegistryForSigningIdentitiesForRequestorOperationID:(id)a0 completionHandler:(id /* block */)a1;
- (struct _OpaquePCSShareProtection { } *)createEmptySignedSharePCSOfType:(unsigned long long)a0 forPCSServiceType:(unsigned long long)a1 withError:(id *)a2;
- (BOOL)addSharePCS:(struct _OpaquePCSShareProtection { } *)a0 toRecordPCS:(struct _OpaquePCSShareProtection { } *)a1 permission:(unsigned long long)a2 error:(id *)a3;
- (id)removePrivateKeysForKeyIDs:(id)a0 fromPCS:(struct _OpaquePCSShareProtection { } *)a1;
- (void)synchronizeUserKeyRegistryForServiceType:(unsigned long long)a0 resourceLastModifiedDate:(id)a1 outdatedPublicKeyID:(id)a2 shouldThrottle:(BOOL)a3 context:(id)a4 requestorOperationID:(id)a5 completionHandler:(id /* block */)a6;
- (void)createSharePCSFromData:(id)a0 ofType:(unsigned long long)a1 withService:(unsigned long long)a2 completionHandler:(id /* block */)a3;
- (void)_locked_createPCSFromData:(id)a0 ofType:(unsigned long long)a1 usingPCSServiceType:(unsigned long long)a2 tryDecryptingWithOtherServices:(BOOL)a3 withSyncKeyRegistryRetry:(BOOL)a4 lastModifiedDate:(id)a5 keySyncAnalytics:(id)a6 requestorOperationID:(id)a7 completionHandler:(id /* block */)a8;
- (BOOL)addRandomShareeToPCS:(struct _OpaquePCSShareProtection { } *)a0;
- (BOOL)canRollShareKeys;
- (id)wrapAssetKey:(id)a0 withRecordPCS:(struct _OpaquePCSShareProtection { } *)a1 inContext:(id)a2 withError:(id *)a3;
- (id)createProtectionInfoFromOONPrivateKey:(id)a0 privateToken:(id)a1 OONProtectionInfo:(id)a2 error:(id *)a3;
- (void)_locked_createZonePCSWithSyncKeyRegistryRetry:(BOOL)a0 requestorOperationID:(id)a1 keySyncAnalytics:(id)a2 createV2PCS:(BOOL)a3 completionHandler:(id /* block */)a4;
- (BOOL)containerSupportsEnhancedContext;
- (struct _OpaquePCSShareProtection { } *)createSharePublicPCSWithIdentity:(struct _PCSIdentityData { } *)a0 error:(id *)a1;
- (void)createZonePCSWithRequestorOperationID:(id)a0 createV2PCS:(BOOL)a1 completionHandler:(id /* block */)a2;
- (id)addIdentityForService:(unsigned long long)a0 toPCS:(struct _OpaquePCSShareProtection { } *)a1;
- (id)getCurrentIdentityExportedPrivateKey;
- (BOOL)serviceTypeIsManatee:(unsigned long long)a0;
- (id)unwrapAssetKey:(id)a0 withRecordPCS:(struct _OpaquePCSShareProtection { } *)a1 inContext:(id)a2 withError:(id *)a3;
- (struct _OpaquePCSShareProtection { } *)createChainPCSWithError:(id *)a0;
- (BOOL)zonePCSNeedsUpdate:(struct _OpaquePCSShareProtection { } *)a0;
- (void)pcsDataFromFetchedShare:(id)a0 withServiceType:(unsigned long long)a1 requestorOperationID:(id)a2 completionHandler:(id /* block */)a3;
- (id)generateOONPrivateKeyWithError:(id *)a0;
- (id)addPublicIdentity:(struct _PCSPublicIdentityData { } *)a0 toSharePCS:(struct _OpaquePCSShareProtection { } *)a1 permission:(unsigned int)a2;
- (void)createIngestedPPPCSDataFromInvitationData:(id)a0 shareModificationDate:(id)a1 requestorOperationID:(id)a2 completionHandler:(id /* block */)a3;
- (BOOL)updateSigningIdentityOnPCS:(struct _OpaquePCSShareProtection { } *)a0 usingSignedPCS:(struct _OpaquePCSShareProtection { } *)a1;
- (void)markUndecryptablePCS:(id)a0;
- (struct _PCSPublicIdentityData { } *)copyDiversifiedPublicIdentityForService:(unsigned long long)a0 withError:(id *)a1;
- (struct _OpaquePCSShareProtection { } *)createSharePCSFromData:(id)a0 ofType:(unsigned long long)a1 withService:(unsigned long long)a2 logFailure:(BOOL)a3 error:(id *)a4;
- (BOOL)removeSharePCS:(struct _OpaquePCSShareProtection { } *)a0 fromRecordPCS:(struct _OpaquePCSShareProtection { } *)a1 error:(id *)a2;
- (BOOL)_checkPCSTestOverrideForKey:(id)a0;
- (id)_addIdentity:(struct _PCSIdentitySetData { } *)a0 withService:(unsigned long long)a1 toPCS:(struct _OpaquePCSShareProtection { } *)a2;
- (void)globalPerUserBoundaryKeyDataWithCompletionHandler:(id /* block */)a0;
- (BOOL)zonePCSNeedsKeyRolled:(struct _OpaquePCSShareProtection { } *)a0 isZoneishZone:(BOOL)a1 bypassAllowlistedContainers:(BOOL)a2;
- (id)unwrapEncryptedData:(id)a0 withPCS:(struct _OpaquePCSShareProtection { } *)a1 withContextString:(id)a2;
- (void)_createPCSFromData:(id)a0 ofType:(unsigned long long)a1 usingPCSServiceType:(unsigned long long)a2 tryDecryptingWithOtherServices:(BOOL)a3 withSyncKeyRegistryRetry:(BOOL)a4 lastModifiedDate:(id)a5 requestorOperationID:(id)a6 completionHandler:(id /* block */)a7;
- (void)_onSynchronizeQueue:(id /* block */)a0;
- (id)updateIdentityAndRollKeyForZonePCS:(struct _OpaquePCSShareProtection { } *)a0 usingServiceIdentityWithType:(unsigned long long)a1 forOperation:(id)a2;
- (id)referenceIdentifierStringFromAssetKey:(id)a0;
- (BOOL)validateSignature:(id)a0 forSignedData:(id)a1 usingIdentityType:(unsigned long long)a2 error:(id *)a3;
- (struct _PCSPublicIdentityData { } *)copyPublicAuthorshipIdentityFromPCS:(struct _OpaquePCSShareProtection { } *)a0;
- (struct _OpaquePCSShareProtection { } *)createSharePCSOfType:(unsigned long long)a0 forPCSServiceType:(unsigned long long)a1 error:(id *)a2;
- (id)rollMasterKeyForRecordPCS:(struct _OpaquePCSShareProtection { } *)a0 forOperation:(id)a1;
- (BOOL)isPCSTooBigForKeyRoll:(struct _OpaquePCSShareProtection { } *)a0;
- (id)publicKeyFromSignature:(id)a0 error:(id *)a1;
- (BOOL)removePublicKeys:(id)a0 fromPCS:(struct _OpaquePCSShareProtection { } *)a1;
- (BOOL)addSharePCS:(struct _OpaquePCSShareProtection { } *)a0 toRecordPCS:(struct _OpaquePCSShareProtection { } *)a1 error:(id *)a2;
- (struct _OpaquePCSShareProtection { } *)createPCSObjectFromData:(id)a0 ofType:(unsigned long long)a1 sharedToPCS:(struct _OpaquePCSShareProtection { } *)a2 error:(id *)a3;
- (void)pcsDataFromFetchedShare:(id)a0 withPublicSharingKey:(id)a1 oonPrivateKey:(id)a2 withServiceType:(unsigned long long)a3 requestorOperationID:(id)a4 completionHandler:(id /* block */)a5;
- (id)dataFromZonePCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (void)markCurrentUserParticipantViaPublicKeyMatchingForShare:(id)a0;
- (void)_locked_pcsDataFromFetchedShare:(id)a0 withPublicSharingKey:(id)a1 oonPrivateKey:(id)a2 withServiceType:(unsigned long long)a3 requestorOperationID:(id)a4 completionHandler:(id /* block */)a5;
- (id)etagFromSharePCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (void)_locked_decryptPCSDataOnSharePCS:(id)a0 shareModificationDate:(id)a1 withPublicSharingKey:(id)a2 oonPrivateKey:(id)a3 requestorOperationID:(id)a4 completionHandler:(id /* block */)a5;
- (struct _OpaquePCSShareProtection { } *)createPCSObjectFromData:(id)a0 ofType:(unsigned long long)a1 sharedToPCS:(struct _OpaquePCSShareProtection { } *)a2 trusts:(id)a3 error:(id *)a4;
- (id)generateAnonymousCKUserIDForCurrentUserInShare:(id)a0 containerID:(id)a1 acceptA2AShareUsingVersionOneAnonymousIdentifier:(BOOL)a2;
- (id)removeSharingIdentity:(struct _PCSIdentityData { } *)a0 fromSharePCS:(struct _OpaquePCSShareProtection { } *)a1;
- (id)getAllPublicKeysForExportedData:(id)a0 error:(id *)a1;
- (void)addEntriesForUnitTestOverrides:(id)a0;
- (id)_unwrapEncryptedData:(id)a0 usingKeyID:(id)a1 forPCS:(struct _OpaquePCSShareProtection { } *)a2 withContextString:(id)a3;
- (struct _OpaquePCSShareProtection { } *)createPCSObjectFromData:(id)a0 ofType:(unsigned long long)a1 sharedToPCS:(struct _OpaquePCSShareProtection { } *)a2 logFailure:(BOOL)a3 error:(id *)a4;
- (BOOL)_isAllowlistedKeyRollingContainerID:(id)a0;
- (id)generateOctopusAnonymousUserID;
- (struct _OpaquePCSShareProtection { } *)createEmptySharePCSOfType:(unsigned long long)a0 error:(id *)a1;
- (void)findSelfParticipantOnShareMetadata:(id)a0 invitationToken:(id)a1 completionHandler:(id /* block */)a2;
- (id)addIdentityBackToPCS:(struct _OpaquePCSShareProtection { } *)a0;
- (id)createSignatureWithIdentity:(struct _PCSIdentityData { } *)a0 dataToBeSigned:(id)a1 forScope:(unsigned long long)a2 error:(id *)a3;
- (unsigned long long)sizeOfPCS:(struct _OpaquePCSShareProtection { } *)a0;
- (id)sharingIdentityDataFromPCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (struct _OpaquePCSShareProtection { } *)createPCSObjectFromData:(id)a0 ofType:(unsigned long long)a1 sharedToPCS:(struct _OpaquePCSShareProtection { } *)a2 logFailure:(BOOL)a3 trusts:(id)a4 error:(id *)a5;
- (void).cxx_destruct;
- (BOOL)addParentZonePCS:(struct _OpaquePCSShareProtection { } *)a0 toChildZonePCS:(struct _OpaquePCSShareProtection { } *)a1 error:(id *)a2;
- (id)addSharingIdentity:(struct _PCSIdentityData { } *)a0 toSharePCS:(struct _OpaquePCSShareProtection { } *)a1 permission:(unsigned long long)a2;
- (id)wrapEncryptedData:(id)a0 withPCS:(struct _OpaquePCSShareProtection { } *)a1 inContext:(id)a2;
- (id)_pcsTestOverrideForKey:(id)a0;
- (struct _PCSIdentityData { } *)createSharingIdentityFromData:(id)a0 error:(id *)a1;
- (id)createNewSharePCSDataForShareWithID:(id)a0 withPublicSharingKey:(id)a1 addDebugIdentity:(BOOL)a2 error:(id *)a3;
- (id)publicKeyDataFromPCS:(struct _OpaquePCSShareProtection { } *)a0 error:(id *)a1;
- (void)_locked_markMissingIdentitiesFromFailedDecryptError:(id)a0 serviceName:(id)a1;
- (BOOL)isPCSSizeTooBigForKeyRoll:(unsigned long long)a0;

@end
