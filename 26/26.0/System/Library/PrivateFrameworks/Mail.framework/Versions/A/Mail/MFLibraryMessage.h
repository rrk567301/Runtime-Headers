@class NSDictionary, EMCategory, EMFollowUp, EMGeneratedSummary, NSString, ECSubject, MFLibraryCalendarEvent, ECAngleBracketIDHash, EMReadLater, ECSignatureInfo, NSArray, NSSet, EMSearchableMessageID, NSData, MFLibraryStore, MFMailAccount, MFMailbox, ECMessageFlags, NSUUID, NSURL, NSDate, EDPersistedMessageID;
@protocol EDAccount, ECMimeBody, ECMessageHeaders, IMAPMessageDataSource;

@interface MFLibraryMessage : MCMessage <IMAPPersistedMessage, EDPersistedMessage> {
    EDPersistedMessageID *_persistedMessageID;
    MFLibraryStore *_dataSource;
    NSString *_remoteID;
    unsigned int _uid;
    _Atomic long long _senderBucket;
    NSData *_brandIndicator;
    NSURL *_brandIndicatorLocation;
    BOOL _hasSetCalendarEvent;
    BOOL _hasSetReferences;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _dataDetectionLock;
}

@property unsigned long long messageSize;
@property BOOL isBeingChanged;
@property unsigned int primitiveOptions;
@property (copy) NSString *summary;
@property (readonly, nonatomic) long long libraryID;
@property long long conversationID;
@property (readonly, copy, nonatomic) EMSearchableMessageID *searchableMessageID;
@property (retain) MFLibraryCalendarEvent *calendarEvent;
@property long long mailboxID;
@property unsigned int options;
@property BOOL isPartial;
@property (readonly) BOOL isRead;
@property BOOL partsHaveBeenCached;
@property BOOL hasRetriedDownload;
@property BOOL isCompacted;
@property (readonly) BOOL shouldIndexAttachmentsForSpotlight;
@property (readonly, nonatomic) BOOL shouldSnipAttachmentData;
@property struct { unsigned char x0; unsigned char x1; unsigned char x2; } messageColor;
@property (readonly, nonatomic) MFMailbox *mailbox;
@property (readonly, nonatomic) MFMailAccount *account;
@property (nonatomic) long long unsubscribeType;
@property (readonly, nonatomic) BOOL isInInbox;
@property (nonatomic) long long senderBucket;
@property long long authenticationState;
@property long long businessID;
@property (copy) NSString *businessLogoID;
@property (retain) EMCategory *category;
@property (nonatomic) BOOL isUrgent;
@property (readonly, nonatomic) ECSignatureInfo *signatureInfo;
@property (copy) NSString *remoteID;
@property (copy) NSArray *appleRemoteLinks;
@property unsigned int uid;
@property (readonly) id<IMAPMessageDataSource> dataSource;
@property (readonly, copy, nonatomic) NSString *messageID;
@property (readonly, copy) ECSubject *subject;
@property (readonly) NSDate *dateReceived;
@property (readonly, copy, nonatomic) NSString *mailboxName;
@property (readonly, nonatomic) BOOL hasAttachments;
@property (readonly, nonatomic) BOOL shouldDeferBodyDownload;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, copy, nonatomic) NSString *persistentID;
@property (readonly, copy, nonatomic) EDPersistedMessageID *persistedMessageID;
@property (readonly, nonatomic) long long globalMessageID;
@property (copy) EMGeneratedSummary *generatedSummary;
@property (readonly) unsigned long long conversationFlags;
@property (retain) NSDate *displayDate;
@property (retain) EMReadLater *readLater;
@property (retain) NSDate *sendLaterDate;
@property (readonly, nonatomic) id<EDAccount> accountForSender;
@property (retain) EMFollowUp *followUp;
@property (readonly, nonatomic) NSURL *brandIndicatorLocation;
@property (readonly, nonatomic) NSData *brandIndicator;
@property (readonly, copy, nonatomic) NSDictionary *dataDetectionAttributes;
@property (readonly, nonatomic) NSURL *mailboxURL;
@property (readonly, nonatomic) NSURL *basePath;
@property (readonly, nonatomic) BOOL isJournaled;
@property (readonly, nonatomic, getter=isMessageContentLocallyAvailable) BOOL messageContentLocallyAvailable;
@property (readonly, nonatomic) NSString *notificationID;
@property (readonly, copy) ECSubject *subjectIfAvailable;
@property (readonly, nonatomic) unsigned long long fileSize;
@property (readonly, copy) NSArray *bccIfAvailable;
@property (readonly) unsigned long long attachmentCount;
@property (readonly) BOOL messageColorIsHighlight;
@property (readonly) long long priority;
@property (readonly) BOOL wasActedOnByExtension;
@property (readonly, copy) NSArray *from;
@property (readonly, copy) NSArray *to;
@property (readonly, copy) NSArray *cc;
@property (readonly, copy) NSArray *bcc;
@property (readonly, copy) NSArray *senders;
@property (readonly) NSDate *dateSent;
@property (readonly, copy) NSArray *listUnsubscribe;
@property (readonly, nonatomic) BOOL isServerSearchResult;
@property (readonly, nonatomic) ECMessageFlags *flags;
@property (readonly, nonatomic, getter=isPartOfExistingThread) BOOL partOfExistingThread;
@property (readonly, nonatomic) id<ECMimeBody> mimeBody;
@property (readonly, copy, nonatomic) NSDictionary *headersDictionary;
@property (readonly, copy, nonatomic) NSString *messageIDHeader;
@property (readonly) ECAngleBracketIDHash *messageIDHeaderHash;
@property (readonly) NSSet *labels;
@property (readonly, nonatomic) id<ECMessageHeaders> headers;
@property (readonly, nonatomic) id<ECMessageHeaders> headersIfAvailable;
@property (readonly, copy, nonatomic) NSArray *references;
@property (readonly, copy) NSUUID *documentID;
@property (readonly) unsigned long long numberOfAttachments;
@property (readonly, nonatomic) ECAngleBracketIDHash *listIDHash;

+ (void)initialize;
+ (id)messageWithURL:(id)a0;
+ (id)_addMessageToResidentMessages:(id)a0 overridingPreviousMessage:(BOOL)a1;
+ (void)_removeMessageFromResidentMessagesWithLibraryID:(long long)a0;
+ (void)_removeMessagesFromResidentMessages:(id)a0;
+ (id)_residentMessageForLibraryID:(long long)a0;
+ (id)messageIDFromMessageURL:(id)a0;
+ (id)messageWithLibraryID:(long long)a0;
+ (id)messageWithPersistentID:(id)a0;
+ (id)messagesWithURL:(id)a0;
+ (void)removeMessagesFromResidentMessagesWithLibraryIDs:(id)a0;
+ (id)residentMessages;
+ (void)test_removeAllMessagesFromResidentMessages;

- (void)commit;
- (id)sender;
- (id)subjectString;
- (void)setFlags:(long long)a0;
- (void)dealloc;
- (char)type;
- (void)reload;
- (id)path;
- (id)init;
- (void)setDataSource:(id)a0;
- (void)setColor:(id)a0;
- (BOOL)isEqual:(id)a0;
- (void).cxx_destruct;
- (id)initWithLibraryID:(long long)a0;
- (void)setBrandIndicatorLocation:(id)a0 andData:(id)a1;
- (void)_commitLater;
- (void)_setDateReceivedFromHeaders:(id)a0;
- (void)_setRemoteID:(id)a0;
- (id)_unlockedMessageStore;
- (void)_updateUID;
- (void)appendMimeData:(id)a0 partNumber:(id)a1;
- (void)beginChanging;
- (double)displayDateAsTimeIntervalSince1970;
- (BOOL)endChanging:(BOOL)a0 immediately:(BOOL)a1;
- (BOOL)isPartialMessageBodyAvailable;
- (BOOL)loadOptionsSuffice:(unsigned int)a0;
- (id)messageDataFetchIfNotAvailable:(BOOL)a0 newDocumentID:(id)a1;
- (id)primitiveDataSource;
- (id)referencesHashes;
- (void)retryDownloadIfNecessary;
- (id)searchableItemWithHTML:(id)a0 messageBody:(id)a1 updatableAttributesOnly:(BOOL)a2;
- (void)setAttachmentMetadata:(id)a0;
- (void)setCachedSummary:(id)a0;
- (void)setColor:(id)a0 hasBeenEvaluated:(BOOL)a1 flags:(long long)a2 mask:(long long)a3;
- (void)setColorHasBeenEvaluated:(BOOL)a0;
- (void)setConversationFlags:(unsigned long long)a0;
- (void)setData:(id)a0 isPartial:(BOOL)a1;
- (void)setDataDetectionAttributes;
- (void)setMessageFlags:(long long)a0 mask:(long long)a1;
- (void)setReferencesHashes:(id)a0;
- (void)setRemoteID:(id)a0 documentID:(id)a1 flags:(long long)a2 size:(unsigned long long)a3 mailboxID:(long long)a4 color:(struct { unsigned char x0; unsigned char x1; unsigned char x2; })a5 conversationID:(long long)a6 conversationFlags:(unsigned long long)a7;
- (BOOL)updateSubjectFromEncryptedContent;

@end
