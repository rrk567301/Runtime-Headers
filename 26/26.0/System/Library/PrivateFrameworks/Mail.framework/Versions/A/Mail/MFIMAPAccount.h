@class NSLock, NSMutableDictionary, MFMailbox, NSDate, MCInvocationQueue, NSDictionary, ACAccount, ECIMAPAccount, NSString, MFLibraryIMAPStore, NSMutableSet, NSOperationQueue, NSArray, NSError, ECAuthScheme;
@protocol IMAPTaskManager;

@interface MFIMAPAccount : MFRemoteStoreAccount <IMAPAccount> {
    NSArray *_lastKnownCapabilities;
    NSMutableSet *_namespacePrivatePrefixes;
    NSMutableSet *_namespacePublicPrefixes;
    NSMutableSet *_namespaceSharedPrefixes;
    NSString *_separatorChar;
    NSString *_serverPathPrefixWithFilesystemSeparator;
    NSString *_serverPathPrefixAsFilesystemPath;
    NSLock *_fsPrefixLock;
    NSLock *_mailboxListingLock;
    NSMutableSet *_mailboxURLsToSynchronize;
    NSMutableDictionary *_IMAPMailboxes;
    NSMutableDictionary *_IMAPQuotaRoots;
    id _allMailLock;
    MFMailbox *_allMailMailbox;
    MFMailbox *_serverDefinedArchiveMailbox;
    id _serverDefinedArchiveMailboxLock;
    MFMailbox *_serverDefinedDraftsMailbox;
    id _serverDefinedDraftsMailboxLock;
    MFMailbox *_serverDefinedJunkMailbox;
    id _serverDefinedJunkMailboxLock;
    MFMailbox *_serverDefinedSentMailbox;
    id _serverDefinedSentMailboxLock;
    MFMailbox *_serverDefinedTrashMailbox;
    id _serverDefinedTrashMailboxLock;
    id _propertyDiscoveryLock;
    BOOL _currentlySynchronizingMailboxList;
    BOOL _synchronizingMailboxListNeedToRetryOnFailure;
    id _synchronizeMailboxListingLock;
    NSMutableSet *_labelsBeingCleanedUp;
}

@property (class, readonly, nonatomic) MCInvocationQueue *invocationQueue;
@property (class, readonly, nonatomic) NSOperationQueue *backgroundQueue;
@property (class, readonly, copy) NSString *accountTypeString;
@property (class, readonly, nonatomic) NSString *csAccountTypeString;

@property (retain) MFLibraryIMAPStore *idleStore;
@property double lastMailboxListFetchTime;
@property (nonatomic) BOOL lastConnectionFailed;
@property (nonatomic) BOOL shouldIncludePrefixInPath;
@property (retain, nonatomic) ECIMAPAccount *baseAccount;
@property (readonly, nonatomic) id<IMAPTaskManager> taskManager;
@property BOOL hasServerDefinedAllMailMailbox;
@property BOOL hasServerDefinedArchiveMailbox;
@property BOOL hasServerDefinedDraftsMailbox;
@property BOOL hasServerDefinedJunkMailbox;
@property BOOL hasServerDefinedSentMailbox;
@property BOOL hasServerDefinedTrashMailbox;
@property (readonly) MFMailbox *serverDefinedArchiveMailbox;
@property (readonly) MFMailbox *serverDefinedDraftsMailbox;
@property (readonly) MFMailbox *serverDefinedJunkMailbox;
@property (readonly) MFMailbox *serverDefinedSentMailbox;
@property (readonly) MFMailbox *serverDefinedTrashMailbox;
@property BOOL ignoreServerDefinedArchiveMailbox;
@property BOOL ignoreServerDefinedDraftsMailbox;
@property BOOL ignoreServerDefinedJunkMailbox;
@property BOOL ignoreServerDefinedSentMailbox;
@property BOOL ignoreServerDefinedTrashMailbox;
@property BOOL shouldUseGmailLabelStores;
@property (readonly) BOOL shouldUseGmailLabelStoresIsSet;
@property BOOL needsGmailLabelsCleanup;
@property (readonly, copy) NSArray *lastKnownCapabilities;
@property (readonly) BOOL supportsIDLE;
@property BOOL compactWhenClosingMailboxes;
@property (readonly) BOOL isOffline;
@property (retain) NSError *connectionError;
@property (copy) NSDictionary *serverID;
@property (readonly) BOOL allowsPartialDownloads;
@property (readonly) BOOL shouldMoveDeletedMessagesToTrash;
@property (readonly, copy, nonatomic) NSArray *allBackgroundMailboxNames;
@property BOOL supportsQuickResynchronization;
@property (readonly, nonatomic) BOOL supportsMove;
@property (readonly, nonatomic) BOOL supportsAppleRemoteLinks;
@property (copy) NSString *serverPathPrefix;
@property (readonly) NSDate *credentialExpiryDate;
@property long long cachePolicy;
@property (readonly, nonatomic) NSOperationQueue *remoteTaskQueue;
@property (readonly, nonatomic) NSOperationQueue *remoteFetchQueue;
@property (readonly, nonatomic) BOOL isGmailAccount;
@property (readonly, copy) NSString *accountTypeString;
@property (readonly) BOOL isYahooAccount;
@property (readonly, copy, nonatomic) NSString *saslProfileName;
@property BOOL configureDynamically;
@property BOOL allowInsecureAuthentication;
@property (copy) NSString *canonicalEmailAddress;
@property long long portNumber;
@property (readonly, copy, nonatomic) NSArray *standardPorts;
@property (readonly, copy, nonatomic) NSArray *standardSSLPorts;
@property long long securityLayerType;
@property (copy) NSString *authenticationScheme;
@property (retain) ECAuthScheme *preferredAuthScheme;
@property (copy) NSString *password;
@property (readonly, copy) NSString *applePersonID;
@property (readonly, copy) NSString *appleAuthenticationToken;
@property (readonly, copy) NSString *machineID;
@property (readonly, copy) NSString *oneTimePassword;
@property (readonly, copy) NSString *clientInfo;
@property (readonly, copy) NSString *base64EncodedAppleAuthenticationToken2;
@property (readonly, copy) NSString *oauthToken;
@property (readonly, copy, nonatomic) NSDate *expiryDate;
@property (readonly, nonatomic) BOOL requiresAuthentication;
@property BOOL shouldUseAuthentication;
@property BOOL usesSSL;
@property (copy) NSString *externalHostname;
@property (readonly, copy) NSString *username;
@property (readonly, copy) NSString *hostname;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, copy) NSString *identifier;
@property (readonly, copy) NSString *altDSID;
@property (readonly) ACAccount *systemAccount;
@property (readonly, copy, nonatomic) NSString *statisticsKind;
@property (readonly) BOOL primaryiCloudAccount;
@property (readonly) BOOL isActive;
@property (copy) NSString *displayName;
@property (readonly, copy) NSArray *emailAddressStrings;
@property (readonly, nonatomic, getter=isManaged) BOOL managed;

+ (id)standardSSLPorts;
+ (id)standardPorts;
+ (void)_deleteQueuedMailboxes:(id)a0;
+ (id)_mailboxNameForPathComponent:(id)a0;
+ (id)_pathComponentForMailboxName:(id)a0;
+ (void)test_waitForOperationQueuesToFinish;

- (void)doRoutineCleanup;
- (id)initWithSystemAccount:(id)a0;
- (long long)defaultPortNumber;
- (long long)defaultSecurePortNumber;
- (void)dealloc;
- (id)init;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (void).cxx_destruct;
- (void)setIsOffline:(BOOL)a0;
- (id)IMAPMailboxForMailbox:(id)a0 createIfNeeded:(BOOL)a1;
- (id)IMAPMailboxForMailboxName:(id)a0 createIfNeeded:(BOOL)a1;
- (id)_addIMAPMailboxForMailbox:(id)a0 name:(id)a1;
- (id)nameForMailbox:(id)a0;
- (id)IMAPMailboxForMailbox:(id)a0 name:(id)a1 createIfNeeded:(BOOL)a2;
- (BOOL)_deleteMailbox:(id)a0 reflectToServer:(BOOL)a1;
- (void)_writeCustomInfoToMailboxCache:(id)a0;
- (void)clearQuotaRoots;
- (BOOL)handleResponseCodeFromResponse:(id)a0;
- (id)mailboxForName:(id)a0;
- (id)URLPersistenceScheme;
- (void)_allegedHighestModificationSequenceDidChangeForIMAPMailbox:(id)a0;
- (BOOL)_askToChangePathPrefixToCreateMailbox:(id)a0 displayName:(id)a1;
- (BOOL)_cleanUpMessagesInGmailLabel:(id)a0;
- (void)_cleanUpMessagesInGmailLabels;
- (void)_clearAllPathBasedCachesAndDelete:(BOOL)a0;
- (id)_colorByMessageFromColorByMessageDigest:(id)a0;
- (id)_copyMailboxWithParent:(id)a0 name:(id)a1 pathComponent:(id)a2 attributes:(unsigned long long)a3 existingMailbox:(id)a4;
- (id)_fileSystemServerPathPrefix:(BOOL)a0;
- (id)_fullIMAPPathForPath:(id)a0 relativeToMailbox:(id)a1;
- (id)_infoForMatchingURL:(id)a0;
- (id)_listingForMailbox:(id)a0 listAllChildren:(BOOL)a1;
- (id)_listingForMailbox:(id)a0 listAllChildren:(BOOL)a1 onlySubscribed:(BOOL)a2;
- (void)_loadEntriesFromFileSystemPath:(id)a0 parent:(id)a1;
- (void)_loadMailboxListingIntoCache:(id)a0 parent:(id)a1 addedMailboxes:(id)a2 removedMailboxes:(id)a3 updatingSourceMailbox:(BOOL)a4;
- (id)_mailboxNameForLabelName:(id)a0;
- (id)_mailboxPathPrefix:(BOOL)a0;
- (void)_mailboxesWereRemovedFromTree:(id)a0 withFileSystemPaths:(id)a1 names:(id)a2;
- (void)_migrateColorsForGmail;
- (id)_namespacePrefixesForPrivate:(BOOL)a0 public:(BOOL)a1 shared:(BOOL)a2;
- (BOOL)_parentSystemAccountDidUpdateProperties:(id)a0 changedSystemAccount:(BOOL *)a1;
- (void)_performDiagnostics:(id)a0;
- (void)_readCustomInfoFromMailboxCache:(id)a0;
- (id)_recursivelyFilterMailboxList:(id)a0 accordingToList:(id)a1 removed:(long long *)a2;
- (void)_recursivelyModifySubscriptions:(BOOL)a0 forMailbox:(id)a1 children:(id)a2;
- (void)_releaseAllConnectionsAndCallSuper:(BOOL)a0 saveOfflineCache:(BOOL)a1;
- (void)_removeIMAPMailboxWithName:(id)a0;
- (void)_renameIMAPMailboxWithMailbox:(id)a0 fromName:(id)a1 toName:(id)a2;
- (id)_serverDefinedMailboxWithAttribute:(unsigned long long)a0;
- (BOOL)_setChildren:(id)a0 forMailbox:(id)a1;
- (void)_setFileSystemServerPathPrefix;
- (id)_specialMailboxWithType:(int)a0 create:(BOOL)a1 isLocal:(BOOL)a2;
- (void)_startObserving:(BOOL)a0 IMAPMailbox:(id)a1;
- (BOOL)_synchronizeMailboxList;
- (void)_synchronizeMailboxListDuringMailCheck;
- (void)_synchronouslyLoadListingForParent:(id)a0;
- (void)_unseenCount:(unsigned int)a0 didChangeForIMAPMailbox:(id)a1;
- (void)_updateIdleMailbox;
- (void)_updateSpecialMailboxes;
- (BOOL)_useNewIMAPStack;
- (void)_validateConnections;
- (void)_waitForMailboxListingLoadToComplete;
- (id)allMailMailbox;
- (id)authenticatedConnection;
- (BOOL)canMailboxBeDeleted:(id)a0;
- (void)cleanUpMessagesInGmailLabel:(id)a0;
- (void)completeDeferredInitialization;
- (BOOL)connectAndAuthenticate:(id)a0;
- (id)createMailboxWithParent:(id)a0 displayName:(id)a1 localizedDisplayName:(id)a2;
- (id)createTaskManager;
- (id)dataSourceForMailbox:(id)a0 createIfNeeded:(BOOL)a1;
- (id)dataSourceForMailboxName:(id)a0 createIfNeeded:(BOOL)a1;
- (id)dataSourceForMailboxURL:(id)a0 createIfNeeded:(BOOL)a1;
- (BOOL)deleteMailbox:(id)a0 reflectToServer:(BOOL)a1;
- (void)detectAllMailMailboxWithConnection:(id)a0;
- (void)didConnectToServerWithServerInterface:(id)a0;
- (BOOL)discoverSettings;
- (void)expungeMailboxWithName:(id)a0 URLStringToCompact:(id)a1 ifSelected:(BOOL)a2;
- (void)fetchAsynchronouslyIsAuto:(BOOL)a0;
- (id)gmailLabelWithName:(id)a0;
- (void)handleAlertResponse:(id)a0;
- (void)insertInMailboxes:(id)a0 atIndex:(unsigned long long)a1;
- (void)invalidateMailboxWithName:(id)a0 expunge:(BOOL)a1 URLStringToCompact:(id)a2;
- (id)mailboxForRelativePath:(id)a0 isFilesystemPath:(BOOL)a1 create:(BOOL)a2;
- (id)mailboxPathExtension;
- (id)messageActionsAfterActionID:(long long)a0;
- (unsigned int)messageCaching;
- (void)messageDeliveryWillBegin:(id)a0;
- (BOOL)needToSynchronizeMailboxCaches;
- (BOOL)needsToDiscoverSettings;
- (void)needsToUpdateMailboxList;
- (id)newConnectedConnectionDiscoveringBestSettings:(BOOL)a0 withConnectTimeout:(double)a1 readWriteTimeout:(double)a2;
- (id)primaryMailbox;
- (id)quotaRootForName:(id)a0 createIfNeeded:(BOOL)a1;
- (void)refreshMailboxListingRootedAtMailbox:(id)a0;
- (void)releaseAllConnections;
- (BOOL)renameMailbox:(id)a0 newDisplayName:(id)a1 parent:(id)a2;
- (void)resetNeedToSynchronizeMailboxCaches;
- (BOOL)resetSpecialMailboxes;
- (id)separatorCharFetchIfNeeded:(BOOL)a0;
- (BOOL)setMailbox:(id)a0 forSpecialMailboxType:(int)a1;
- (BOOL)setMailboxTitle:(id)a0 forSpecialMailboxType:(int)a1;
- (void)setMessageCaching:(unsigned int)a0;
- (void)setSeparatorChar:(id)a0;
- (void)setStoreDraftsOnServer:(BOOL)a0;
- (void)setStoreJunkOnServer:(BOOL)a0;
- (void)setStoreSentMessagesOnServer:(BOOL)a0;
- (void)setStoreTrashOnServer:(BOOL)a0;
- (void)setSupportsModificationSequences:(BOOL)a0 forMailboxName:(id)a1;
- (BOOL)shouldFetch;
- (BOOL)shouldFetchRemoteLinksWithDateReceived:(id)a0;
- (void)stopAccountActivity;
- (Class)storeClassForMailbox:(id)a0;
- (id)storeForMailbox:(id)a0;
- (BOOL)storesUnseenCount;
- (void)syncFileSystemWithServerPathPrefix;
- (void)test_stopAllWork;
- (id)validNameForMailbox:(id)a0 fromDisplayName:(id)a1 error:(id *)a2;
- (void)validateConnections;

@end
