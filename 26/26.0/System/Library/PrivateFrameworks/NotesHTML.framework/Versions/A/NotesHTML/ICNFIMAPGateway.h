@class NSString, NSRecursiveLock, ICNFIMAPClientOperationQueue, ICNFIMAPConnectionPool, NSOperationQueue, NSCondition, ICNFIMAPConnection, NSMapTable;

@interface ICNFIMAPGateway : NSObject {
    NSOperationQueue *_checkInQueue;
    NSCondition *_connectionAvailabilityCondition;
    NSRecursiveLock *_clientOperationsLock;
    BOOL _operationQueueCanCheckInConnection;
    NSMapTable *_clientOperations;
    NSMapTable *_savedQualityOfServiceForClientOperations;
    long long _savedOperationQueueQualityOfService;
}

@property (retain) ICNFIMAPConnection *primitiveConnection;
@property (weak) ICNFIMAPConnectionPool *connectionPool;
@property (retain) ICNFIMAPConnection *connection;
@property (retain) ICNFIMAPClientOperationQueue *operationQueue;
@property BOOL primaryClientAllowsYielding;
@property (readonly) BOOL hasClients;
@property BOOL canYield;
@property (readonly) BOOL okToYield;
@property (readonly, nonatomic) BOOL isDeserted;
@property BOOL remainedDeserted;
@property BOOL needsSelect;
@property BOOL isSealedShut;
@property (readonly, copy, nonatomic) NSString *mailboxName;
@property (readonly, nonatomic) BOOL isExpensive;

+ (void)initialize;
+ (double)IMAPIdleRefreshDelay;
+ (id)sharedKeySetForMessageInfo;
+ (void)_addIdleGateway:(id)a0;
+ (void)_checkIdleGateways;
+ (void)_removeIdleGateway:(id)a0;

- (void)noop;
- (BOOL)supportsCapability:(unsigned long long)a0;
- (void)checkIn;
- (id)debugDescription;
- (void)dealloc;
- (void)suspend;
- (id)init;
- (void)close;
- (void).cxx_destruct;
- (void)waitUntilAllOperationsAreFinished;
- (BOOL)check:(id *)a0;
- (void)yield;
- (BOOL)expunge;
- (void)unselect;
- (void)logout;
- (BOOL)checkOut;
- (BOOL)deleteMailbox:(id)a0;
- (BOOL)createMailbox:(id)a0;
- (void)fetchQuotaRootNamesForMailboxes:(id)a0;
- (BOOL)listingForMailbox:(id)a0 options:(long long)a1 listingInfo:(id)a2;
- (BOOL)renameMailbox:(id)a0 toMailbox:(id)a1;
- (BOOL)subscribeMailbox:(id)a0;
- (BOOL)subscribedListingForMailbox:(id)a0 options:(long long)a1 listingInfo:(id)a2;
- (BOOL)unsubscribeMailbox:(id)a0;
- (void)closeAndLogout;
- (void)fetchTotalSizeAndMessageCount;
- (BOOL)getQuotaForRootName:(id)a0;
- (id)mailboxNameIfSelected:(BOOL)a0;
- (BOOL)startIdle;
- (void)_waitForDelayedSelectOperation:(id)a0;
- (BOOL)appendData:(id)a0 toMailboxNamed:(id)a1 flags:(id)a2 dateReceived:(id)a3 messageInfo:(id)a4 error:(id *)a5;
- (BOOL)examineMailbox:(id)a0;
- (void)fetchFlagsForMaxRecentMessages:(unsigned long long)a0;
- (BOOL)storeGmailLabels:(id)a0 state:(BOOL)a1 forUids:(id)a2;
- (BOOL)_addSelectOperationForMailbox:(id)a0 class:(Class)a1;
- (void)_allowClientOperationThrough:(id)a0;
- (void)_checkInForOperation:(id)a0;
- (unsigned long long)_clientCount;
- (BOOL)_completeSelectOperation:(id)a0;
- (void)_executeSuspend:(id)a0;
- (BOOL)_expunge:(BOOL)a0 orStoreFlags:(id)a1 orStoreGmailLabels:(id)a2 state:(BOOL)a3 forUids:(id)a4;
- (BOOL)_expungeUids:(id)a0 mailboxName:(id)a1;
- (void)_finishQueueIdlingAndSuspend:(BOOL)a0;
- (void)_setError:(id *)a0 fromOperation:(id)a1;
- (void)_setErrorFromOperation:(id)a0 overwriteExistingError:(BOOL)a1;
- (BOOL)_storeFlags:(id)a0 state:(BOOL)a1 forUids:(id)a2 mailboxName:(id)a3;
- (BOOL)_storeGmailLabels:(id)a0 state:(BOOL)a1 forUids:(id)a2 mailboxName:(id)a3;
- (void)_tryToCheckInConnectionAndTryToIdle:(BOOL)a0;
- (BOOL)addClientOperation:(id)a0 toQueueAndWaitUntilFinished:(BOOL)a1;
- (void)allowClientOperationThrough:(id)a0;
- (void)checkInAsynchronously;
- (void)configureForMailboxName:(id)a0;
- (BOOL)copyUids:(id)a0 toMailboxNamed:(id)a1 messageInfo:(id)a2 error:(id *)a3;
- (BOOL)deleteMessagesOlderThanNumberOfDays:(long long)a0 settingFlags:(id)a1;
- (BOOL)expungeUids:(id)a0;
- (void)fetchAllFlags;
- (void)fetchStatusForMailboxes:(id)a0 dataItems:(unsigned long long)a1;
- (id)initWithIMAPConnection:(id)a0 mailbox:(id)a1 pool:(id)a2;
- (id)namespacesWithSeparatorChar:(id)a0;
- (void)operationQueueDidIdle;
- (void)refreshDone:(BOOL)a0 withOperation:(id)a1;
- (void)refreshIdle;
- (void)restoreSavedQualityOfService;
- (void)resumeWithConnection:(id)a0 reselect:(BOOL)a1;
- (BOOL)saveCurrentQualityOfServiceAndBoostTo:(long long)a0;
- (void)sealShutAndCompact:(BOOL)a0 allowNetworking:(BOOL)a1;
- (id)searchUidRange:(struct { unsigned long long x0; unsigned long long x1; })a0 forNewMessageIDs:(id)a1;
- (id)searchUidRange:(struct { unsigned long long x0; unsigned long long x1; })a0 forTerms:(id)a1;
- (unsigned int)searchedUidNextForMessageNumber:(unsigned long long)a0;
- (BOOL)selectMailbox:(id)a0;
- (void)setServerPathPrefixOnAccount:(id)a0 withSeparatorChar:(id)a1;
- (id)statusForMailbox:(id)a0 dataItems:(unsigned long long)a1;
- (BOOL)storeFlags:(id)a0 state:(BOOL)a1 forUids:(id)a2;
- (BOOL)synchronouslyExecuteDoneWithSequence:(unsigned long long)a0 session:(unsigned long long)a1;
- (BOOL)synchronouslyExecuteSelect:(id)a0;
- (void)waitUntilClientOperationIsFinished:(id)a0;

@end
