@class NetworkExtensionStateRelay, NSMutableDictionary, NSMutableData, NSDate, NSObject, ImpoExpoService, NSMutableArray, WiFiShim, NWActivityHelper, NWPathEvaluator, NSString, SystemSettingsRelay, NSData, NetworkAnalyticsModel;
@protocol OS_os_transaction, OS_dispatch_queue;

@interface NetworkAnalyticsEngine : AnalyticsEngineCore <WiFiShimDelegate> {
    id trafficObserver;
    id dnsObserver;
    id dataStallObserver;
    id captivityRedirectsObserver;
    id certErrorObserver;
    id limObserver;
    NSMutableDictionary *activeEpochs;
    struct __NStatManager { } *routeManager;
    id /* block */ routeMetricsRefreshCompletionBlock;
    NSMutableDictionary *liveDefaultRoutes;
    int lastScoreExit[5];
    BOOL xpcShutdown;
    NSDate *lastEpochRemoved;
    NSDate *lastKnownGoodNotified;
    NSDate *pendedRssiEdge;
    unsigned long long pendedRssiEdgeTarget;
    int lastReportedRrcValue;
    NSString *lastReportedRrcInterface;
    int combinedCellDNSCounts;
    int combinedWifiDNSCounts;
    NSMutableDictionary *snapshots;
    NSMutableData *journalRecords;
    NSMutableArray *memoryJournalRecords;
    ImpoExpoService *ieService;
    NSDate *journalLastFlushed;
    NWPathEvaluator *cellPathEvaluator;
    NWPathEvaluator *wifiPathEvaluator;
    NWPathEvaluator *etherPathEvaluator;
    NWPathEvaluator *companionPathEvaluator;
    NWPathEvaluator *primaryPathEvaluator;
    NSObject<OS_dispatch_queue> *notificationQueueWithElevatedPriority;
    unsigned long long cellSPIType;
    NetworkAnalyticsModel *model;
    WiFiShim *_wifiShim;
    SystemSettingsRelay *systemSettingsRelay;
    NetworkExtensionStateRelay *_neStateRelay;
    BOOL _wifiShimFastLQMUpdates;
    BOOL _isABCEnabled;
    BOOL _isInternalBuild;
    NSData *_hashSalt;
    NWActivityHelper *_nwActivityHelper;
}

@property (nonatomic) BOOL delegateToProxyAnalytics;
@property (nonatomic) BOOL removeOldRecordsNow;
@property (retain, nonatomic) NSObject<OS_os_transaction> *activeEpochTransaction;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)sharedInstance;
+ (id)hashPrimaryKey:(id)a0;
+ (long long)mapLinkQuality:(int)a0;
+ (id)getNetworkExtensionStateRelay;
+ (id)mapRadioTechnologyTypeToString:(unsigned char)a0;
+ (void)awdCaptureIn:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
+ (int)getLoadedLQMOn:(unsigned char)a0;
+ (id)mapNrFrequencyBandToString:(char)a0;
+ (id)hashPrimaryKey:(id)a0 withSalt:(id)a1;
+ (void)estimatedTransferTimeOn:(unsigned char)a0 forPayloadInfo:(id)a1 queue:(id)a2 reply:(id /* block */)a3;
+ (void)didReceiveProtocolSnapshot:(id)a0;
+ (BOOL)performNetAttachmentQueryOn:(unsigned char)a0 reply:(id /* block */)a1;
+ (BOOL)getDNSCountsOn:(unsigned char)a0 total:(long long *)a1 impacted:(long long *)a2;
+ (void)hasNetworkAttachmentOn:(unsigned char)a0 isAny:(BOOL)a1 isBuiltin:(BOOL)a2 scopedToLOI:(long long)a3 hasCustomSignature:(id)a4 queue:(id)a5 reply:(id /* block */)a6;
+ (id)queue;
+ (id)fetchHashSaltFromJournalUsingImpoExpoService:(id)a0;
+ (void)getAuditableLoadedLQMOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
+ (id)concurrentEpochs;
+ (long long)mapPowerCost:(unsigned char)a0;
+ (BOOL)hasAnyNetworkAttachmenOnLOI:(long long)a0;
+ (long long)mapRadioTechnology:(unsigned char)a0;
+ (void)performPersistentStoreHealthCheckWithReply:(id /* block */)a0;
+ (id)skimMemoryJournalFor:(unsigned char)a0;
+ (void)layer2MetricsOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
+ (unsigned int)_constructRxSignalExemptionsBitmapFromHint:(BOOL)a0 reasons:(id)a1;

- (void)shutdown;
- (id)_hashPrimaryKey:(id)a0;
- (void)_estimatedTransferTimeOn:(unsigned char)a0 forPayloadInfo:(id)a1 queue:(id)a2 reply:(id /* block */)a3;
- (void)createSnapshotFor:(id)a0 pred:(id)a1 actions:(id)a2 reply:(id /* block */)a3;
- (id)_getNetworkExtensionStateRelay;
- (BOOL)_primaryKeyChange:(id)a0 interfaceName:(id)a1 interfaceType:(unsigned char)a2 roamingEvent:(BOOL)a3;
- (id)_naIdentifierToMajor:(id)a0;
- (void)resetDataFor:(id)a0 nameKind:(id)a1;
- (void)_handleRouteClosing:(struct __NStatSource { } *)a0;
- (void)_refreshRouteMetricsComplete;
- (void)_insertEpoch:(id)a0 forInterfaceType:(unsigned char)a1;
- (id)_skimMemoryJournalFor:(unsigned char)a0;
- (void)dealloc;
- (id)_scoringDuty:(id)a0 forType:(int)a1 withRetCode:(int *)a2 oldestTime:(id *)a3;
- (unsigned int)_getCellSPIType;
- (id)_adviceToNSString:(int)a0;
- (id)_createNetworkAttachmentIdentifierExclusionList;
- (int)performQueryOnEntityFromCache:(id)a0 pred:(id)a1 altpred:(id *)a2 actions:(id)a3 found:(id *)a4;
- (void)setProhibitNetworkAgentsForNWParameters:(id)a0;
- (void)_certError:(id)a0;
- (void)_computeAndApplyLoadedLqmFrom:(int)a0 oldLqm:(int)a1 onInterfaceType:(unsigned char)a2 loadedLqmAuditRecords:(id)a3;
- (id)_hashPrimaryKey:(id)a0 withSalt:(id)a1;
- (BOOL)_populateLIMJournalRecord:(struct { struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } x0; char x1[24]; unsigned long long x2; unsigned long long x3; unsigned long long x4; unsigned long long x5; unsigned long long x6; unsigned long long x7; unsigned long long x8; unsigned long long x9; unsigned char x10; unsigned char x11; unsigned char x12; } *)a0 fromKernelDict:(id)a1;
- (void)wifiShim_BSSIDChangedForInterface:(id)a0;
- (void)_fetchHashSaltFromJournal;
- (void)_refreshRouteMetrics;
- (void)_observeNetworkFramework;
- (void)_captivityRedirects:(id)a0;
- (void)_hasNetworkAttachmentOn:(unsigned char)a0 isAny:(BOOL)a1 isBuiltin:(BOOL)a2 scopedToLOI:(long long)a3 hasCustomSignature:(id)a4 queue:(id)a5 reply:(id /* block */)a6;
- (void)_recoverFromSystemCriticalErrors;
- (void)_createJournalRecordOfType:(unsigned char)a0 forInterface:(long long)a1 fromDict:(id)a2;
- (void)_wifiKnownNetworksDeleted:(id)a0;
- (BOOL)_recordOfActiveFatalSuspector:(long long)a0;
- (void)_scoringTrampoline;
- (id)_model;
- (void)_awdCaptureIn:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
- (void)_armFatalSuspector:(id)a0 isActive:(BOOL)a1;
- (void)_disarmFatalSuspector:(id)a0 withEventAt:(id)a1 by:(id)a2;
- (void)_setScalarValueInNetworkAttachments:(id)a0 targetKeyPath:(id)a1 basedOn:(id)a2 matchingKeyPath:(id)a3 matchValue:(id)a4 noMatchValue:(id)a5;
- (void)_wifiNetworkChange:(id)a0;
- (void)clientTransactionsRelease;
- (void)_armDOASuspector:(id)a0;
- (void)wifiShim_RSSIChangedTo:(long long)a0 forInterface:(id)a1 bssid:(id)a2;
- (void)didReceiveProtocolSnapshot:(id)a0;
- (void)_actUponLoadedLqmChangeFrom:(int)a0 to:(int)a1 onInterfaceType:(unsigned char)a2;
- (BOOL)_determineIfThisIsWiFiFirstAttachment:(id)a0;
- (void)_updateAdviceForInterfaceType:(unsigned char)a0;
- (void)wifiShim_HintForFallback:(BOOL)a0 reasons:(id)a1;
- (id)_epochForInterfaceType:(unsigned char)a0;
- (void)wifiNetworkChangedForInterface:(id)a0 roaming:(BOOL)a1;
- (BOOL)_hashPrimaryKeyInPlace:(char *)a0 withSalt:(id)a1;
- (int)_combinedDNSCountForEpoch:(id)a0;
- (void)wifiShim_L2NewMetrics:(id)a0 forInterface:(id)a1;
- (id)getOption:(id)a0;
- (BOOL)_appendJournalRecord:(id)a0 withPreamble:(struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } *)a1;
- (void)wifiShim_InfraAdminDisable:(id)a0 bssid:(id)a1;
- (BOOL)handlesEntity:(id)a0;
- (void)_computeAndApplyLoadedLqmFrom:(int)a0 oldLqm:(int)a1 onInterfaceType:(unsigned char)a2;
- (void)_updateAdviceForEpoch:(id)a0;
- (id)lastScoreExits;
- (void)_disarmLowQDisconnectSuspector:(id)a0;
- (void)_dumpStats;
- (BOOL)_flushAllJournalRecords;
- (void)wifiShim_NetworkForgottenWithSSID:(id)a0;
- (id)lastScoreDate;
- (BOOL)_performNetAttachmentQueryOn:(unsigned char)a0 reply:(id /* block */)a1;
- (BOOL)_isRadioTechnologySubpar:(unsigned char)a0;
- (void)_setLastScoreDate:(id)a0;
- (void)performPersistentStoreHealthCheckComplete:(id)a0 error:(id)a1;
- (BOOL)_populateInterfaceTimelineJournalRecord:(struct { struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } x0; union { unsigned long long x0; struct { unsigned char x0 : 1; unsigned char x1 : 1; unsigned short x2; unsigned int x3; } x1; } x1; } *)a0 forInterface:(long long)a1 fromDict:(id)a2;
- (void)_establishLqmBaselineOn:(BOOL)a0 interfaceName:(id)a1 lqmPtr:(int *)a2;
- (void)_setDefrouteMonitoring:(unsigned int)a0 ofInterfaceType:(unsigned char)a1 roamingEvent:(BOOL)a2 family:(unsigned char)a3 retries:(int)a4;
- (void)_informKernelOfCellRrc:(int)a0 forInterface:(id)a1;
- (void)_trackRealTimeLqmLastUpdatedOnInterfaceType:(unsigned char)a0;
- (void)wifiShim_L2TriggerDisconnectEdge:(BOOL)a0 forInterface:(id)a1;
- (void)_trainModelAndScore:(BOOL)a0;
- (void)performQueryOnEntity:(id)a0 fetchRequestProperties:(id)a1 pred:(id)a2 sort:(id)a3 actions:(id)a4 service:(id)a5 connection:(id)a6 reply:(id /* block */)a7;
- (void)_retrieveDNSServersForEpoch:(id)a0;
- (BOOL)_getDNSCountsOn:(unsigned char)a0 total:(long long *)a1 impacted:(long long *)a2;
- (id)_concurrentEpochs;
- (int)_generateAdviceForEpoch:(id)a0 relativeTo:(id)a1;
- (void)_dnsWithSymptoms:(id)a0;
- (struct __NStatSource { } *)_newDefRouteForInterface:(id)a0 saFamily:(unsigned char)a1;
- (void)_removeOldRouteRecords;
- (void)_armLowQDisconnectSuspector:(id)a0;
- (void)wifiShim_LQMAsystoleDetected:(double)a0;
- (void)performQueryPostProcessing:(id)a0 actions:(id)a1 processOutcome:(id)a2;
- (void)_removeEpochForInterfaceType:(unsigned char)a0;
- (void)_delayedKnownGoodNetworkAlert;
- (void)_setRadioTechnology:(unsigned char)a0 forInterfaceType:(unsigned char)a1;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (void)_performPeriodicTasks:(BOOL)a0;
- (void)_initializeWorkspace;
- (void)_processLIM:(id)a0;
- (void)_getAuditableLoadedLQMOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
- (void)_initializeInternals;
- (void)_informKernelOfLIMUplink:(BOOL)a0 downlink:(BOOL)a1 forInterface:(const char *)a2;
- (void)_handleRouteData:(struct __NStatSource { } *)a0;
- (void)_layer2MetricsOn:(unsigned char)a0 queue:(id)a1 reply:(id /* block */)a2;
- (void)_updateCombinedDNSCounts;
- (void)_idleExitTransactionCheck;
- (id)_determineSporadicForType:(int)a0 withRetCode:(int *)a1;
- (BOOL)_shouldAcceptRouteSource:(struct __NStatSource { } *)a0;
- (void)_awdCaptureInstant:(id)a0 replyQueue:(id)a1 reply:(id /* block */)a2;
- (id)initWithWorkspace:(id)a0 params:(id)a1 queue:(id)a2;
- (void)_dataStall:(id)a0;
- (void)_disarmDOASuspector:(id)a0;
- (void).cxx_destruct;
- (void)_processNWActivityMetrics;
- (BOOL)_populateLQMJournalRecord:(struct { struct { unsigned char x0; unsigned char x1; struct { unsigned char x0 : 1; unsigned char x1 : 7; } x2; unsigned char x3; unsigned int x4; long long x5; } x0; char x1[64]; unsigned char x2 : 8; unsigned char x3; char x4; unsigned char x5; unsigned char x6; } *)a0 fromCellFingerprint:(BOOL)a1 key:(const char *)a2 atLOI:(long long)a3 ofInterfaceType:(long long)a4 lqm:(int)a5 isFaulty:(unsigned int)a6;
- (void)_refreshRouteMetricsWithCallbackOnQueue:(id)a0 completionBlock:(id /* block */)a1;
- (id)setOption:(id)a0;

@end
