@class CKUploadRequestManager, NSLock, CKEntitlements, NSHashTable, NSObject, NSError, CKPersona, NSMutableArray, CKContainerID, CKRecordID, NSString, CKContainerOptions, CKDatabaseImplementation, NSOperationQueue, NSNumber, CKXPCConnection, NSXPCConnection, CKContainer, CKContainerSetupInfo;
@protocol OS_dispatch_queue, CKXPCContainerScopedDaemon, NSObject;

@interface CKContainerImplementation : NSObject <CKXPCContainerScopedClient, NSDiscardableContent> {
    CKUploadRequestManager *_uploadRequestManager_locked;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _uploadRequestManagerLock;
    CKRecordID *_containerScopedUserID_locked;
    CKRecordID *_orgAdminUserID_locked;
    NSString *_sourceApplicationBundleIdentifier_locked;
    NSString *_sourceApplicationSecondaryIdentifier_locked;
    BOOL _hasValidContainerScopedDaemonProxyCreator;
    BOOL _hasValidDiscretionaryXPCConnection;
    BOOL _hasReportedPersonaAdoptionError;
    id<CKXPCContainerScopedDaemon> _containerScopedDaemonProxyCreator;
    id<NSObject> _connectionInterruptedObserver;
    NSOperationQueue *_convenienceOperationQueue;
    NSMutableArray *_sandboxExtensionHandles;
    NSLock *_daemonConnectionLock;
    NSHashTable *_sharingUIObservers;
    long long _accountAccessAuthorization;
    NSError *_personaResolutionError;
}

@property (weak, nonatomic) CKContainer *unconfiguredWrappingContainer;
@property (readonly, copy, nonatomic) CKContainerID *containerID;
@property (readonly, copy, nonatomic) CKContainerOptions *options;
@property (readonly, nonatomic) CKDatabaseImplementation *privateCloudDatabaseImplementation;
@property (readonly, nonatomic) CKDatabaseImplementation *publicCloudDatabaseImplementation;
@property (readonly, nonatomic) CKDatabaseImplementation *sharedCloudDatabaseImplementation;
@property (readonly, nonatomic) CKDatabaseImplementation *organizationCloudDatabaseImplementation;
@property (readonly, nonatomic) NSMutableArray *codeServiceImplementations;
@property (readonly, nonatomic) NSXPCConnection *discretionaryXPCConnection;
@property (readonly, nonatomic) NSOperationQueue *throttlingOperationQueue;
@property (readonly, nonatomic) NSOperationQueue *backgroundThrottlingOperationQueue;
@property (readonly, nonatomic) NSOperationQueue *discretionaryThrottlingOperationQueue;
@property (readonly, nonatomic) int statusReportToken;
@property (readonly, nonatomic) CKContainerSetupInfo *cachedSetupInfo;
@property (nonatomic) BOOL hasCachedSetupInfo;
@property (readonly, nonatomic) CKEntitlements *resolvedEntitlements;
@property (copy) NSNumber *fakeDeviceToDeviceEncryptionAvailability;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *underlyingDispatchQueue;
@property (copy) CKRecordID *containerScopedUserID;
@property (copy) NSString *pushEnvironment;
@property (readonly, copy, nonatomic) NSString *containerIdentifier;
@property (copy) CKRecordID *orgAdminUserID;
@property (copy) CKPersona *persona;
@property (readonly, nonatomic) CKXPCConnection *connection;

+ (void)initialize;
+ (void)unregisterForDaemonNotificationsWithToken:(int)a0;
+ (int)registerForDaemonNotificationsWithKey:(id)a0 callback:(id /* block */)a1;

- (void)fetchAllLongLivedOperationIDsWithCompletionHandler:(id /* block */)a0;
- (BOOL)getPersona:(id *)a0 error:(id *)a1;
- (id)deviceContext;
- (void)manuallyTriggerUploadRequests;
- (void)getPersona:(id /* block */)a0;
- (void)getNewWebSharingIdentityDataWithCompletionHandler:(id /* block */)a0;
- (void)clearPILSCacheForLookupInfos:(id)a0;
- (void)resetAllApplicationPermissionsWithCompletionHandler:(id /* block */)a0;
- (void)statusGroupsForApplicationPermission:(unsigned long long)a0 completionHandler:(id /* block */)a1;
- (void)getCloudCoreSessionValidityError:(id /* block */)a0;
- (void)getRegisteredItemCountWithCompletionHandler:(id /* block */)a0;
- (void)setApplicationPermission:(unsigned long long)a0 enabled:(BOOL)a1 completionHandler:(id /* block */)a2;
- (void)serverPreferredPushEnvironmentWithCompletionHandler:(id /* block */)a0;
- (void)requestApplicationPermission:(unsigned long long)a0 completionHandler:(id /* block */)a1;
- (void)tossConfigWithCompletionHandler:(id /* block */)a0;
- (void)reloadAccountWithCompletionHandler:(id /* block */)a0;
- (id)CKStatusReportArray;
- (void)dropDetachedContainersWithCompletionHandler:(id /* block */)a0;
- (void)accountInfoWithCompletionHandler:(id /* block */)a0;
- (id)sourceApplicationSecondaryIdentifier;
- (id)applicationBundleIdentifierForPush;
- (void)submitEventMetric:(id)a0;
- (void)getOutstandingOperationCountWithCompletionHandler:(id /* block */)a0;
- (void)clearContainerFromMetadataCache;
- (void)representativeDataclassEnabledWithCompletionHandler:(id /* block */)a0;
- (void)fetchLongLivedOperationWithID:(id)a0 wrappingContainer:(id)a1 completionHandler:(id /* block */)a2;
- (void)endContentAccess;
- (void)unregisterFromUploadRequests;
- (void)acceptShareMetadata:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)consumeSandboxExtensions:(id)a0 reply:(id /* block */)a1;
- (id)codeServiceImplementationWithName:(id)a0 serviceInstanceURL:(id)a1;
- (void)fetchFrameworkCachesDirectoryWithCompletionHandler:(id /* block */)a0;
- (id)sourceApplicationBundleIdentifier;
- (id)serverPreferredPushEnvironmentWithError:(id *)a0;
- (void)setFakeError:(id)a0 forNextRequestOfClassName:(id)a1;
- (void)decryptPersonalInfoOnShare:(id)a0 completionHandler:(id /* block */)a1;
- (void)dealloc;
- (void)fetchServerEnvironment:(id /* block */)a0;
- (void)setFakeResponseOperationResult:(id)a0 forNextRequestOfClassName:(id)a1 forItemID:(id)a2 withLifetime:(int)a3;
- (BOOL)isContentDiscarded;
- (void)addOperation:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2;
- (BOOL)__preflightAccountAccessAuthorization:(long long *)a0;
- (BOOL)beginContentAccess;
- (void)fetchFullNameAndPrimaryEmailOnAccountWithCompletionHandler:(id /* block */)a0;
- (void)discardContentIfPossible;
- (void)registerForPackageUploadRequests:(id /* block */)a0;
- (void)setSourceApplicationSecondaryIdentifier:(id)a0;
- (void)fetchShareMetadataWithURL:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)performBlock:(id /* block */)a0;
- (id)CKPropertiesDescription;
- (void)cancelUploadRequests;
- (void)dumpDaemonStatusReportToFileHandle:(id)a0 completionHandler:(id /* block */)a1;
- (id)_discretionaryDaemonMachServiceConnection;
- (void)discoverAllIdentitiesWithWrappingContainer:(id)a0 convenienceConfiguration:(id)a1 completionHandler:(id /* block */)a2;
- (id)codeServiceImplementationWithName:(id)a0 databaseScope:(long long)a1;
- (void)discoverUserIdentityWithEmailAddress:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)fetchSignatureGeneratorForCurrentUserBoundaryKeyWithCompletionHandler:(id /* block */)a0;
- (void)_submitEventMetric:(id)a0 completionHandler:(id /* block */)a1;
- (void)wipeAllCachesAndDie;
- (void)fetchCurrentDeviceIDWithCompletionHandler:(id /* block */)a0;
- (void)setSourceApplicationBundleIdentifier:(id)a0;
- (void)handleAttributesChangedForZone:(id)a0;
- (id)initWithContainerID:(id)a0 options:(id)a1;
- (void)fetchShareParticipantWithLookupInfo:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)fetchShareParticipantWithPhoneNumber:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)pushEnvironmentWithCompletionHandler:(id /* block */)a0;
- (void)fetchShareParticipantWithEmailAddress:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)addPreparedOperationToBackgroundThrottlingOperationQueue:(id)a0;
- (void)registerForAssetRequests:(id /* block */)a0 packageRequests:(id /* block */)a1 machServiceName:(id)a2;
- (id)description;
- (void)addPreparedOperationToDiscretionaryThrottlingOperationQueue:(id)a0;
- (void)registerForPackageUploadRequests:(id /* block */)a0 machServiceName:(id)a1;
- (void)submitEventMetric:(id)a0 completionHandler:(id /* block */)a1;
- (void)simulateMemoryPressure:(long long)a0 completionHandler:(id /* block */)a1;
- (id)networkTransferEndpointWithError:(id *)a0;
- (void)discoverUserIdentityWithPhoneNumber:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)serverPreferredPushEnvironmentSynchronous:(BOOL)a0 withCompletionHandler:(id /* block */)a1;
- (id)recordChangeProvider;
- (void)handleSharingUIUpdatedShare:(id)a0 recordID:(id)a1 isDeleted:(BOOL)a2 error:(id)a3 reply:(id /* block */)a4;
- (void)handleRecordChanged:(id)a0 changeType:(long long)a1 record:(id)a2 error:(id)a3;
- (void)accountStatusWithCompletionHandler:(id /* block */)a0;
- (void)fetchShareParticipantWithUserRecordID:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)dumpDaemonStatusReport;
- (void)fetchGlobalPerUserBoundaryKeyWithCompletionHandler:(id /* block */)a0;
- (void)unregisterFromUploadRequestsWithMachServiceName:(id)a0;
- (void)fetchFullNameAndFormattedUsernameOfAccountWithCompletionHandler:(id /* block */)a0;
- (void)_addPreparedConvenienceOperation:(id)a0;
- (id)codeServiceImplementationWithName:(id)a0 databaseScope:(long long)a1 serviceInstanceURL:(id)a2;
- (void)requestAccessToShareURLs:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (id)untrustedEntitlements;
- (void)_refreshAccountAccessAuthorizationWithCompletionHandler:(id /* block */)a0;
- (id)primaryIdentifier;
- (void)registerForAssetUploadRequests:(id /* block */)a0;
- (id)targetPersonaForPersona:(id)a0;
- (void)resolvePersonaValues:(id)a0;
- (id)accountInfoFetchQueue;
- (void)withUploadManager:(int)a0 performBlock:(id /* block */)a1;
- (void)addPreparedOperationToThrottlingOperationQueue:(id)a0;
- (void)noteSessionInvalidation:(id)a0;
- (void)registerForAssetUploadRequests:(id /* block */)a0 machServiceName:(id)a1;
- (void)fetchUserRecordIDWithCompletionHandler:(id /* block */)a0;
- (void)fetchOrgAdminUserRecordIDWithCompletionHandler:(id /* block */)a0;
- (id)codeServiceImplementationWithName:(id)a0;
- (void)statusForApplicationPermission:(unsigned long long)a0 completionHandler:(id /* block */)a1;
- (id)setupInfo;
- (void).cxx_destruct;
- (void)discoverUserIdentityWithUserRecordID:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2 completionHandler:(id /* block */)a3;
- (void)_scheduleConvenienceOperation:(id)a0 wrappingContainer:(id)a1 convenienceConfiguration:(id)a2;

@end
