@class NSMenuItem, NSString, NSView, NSMenu, NSWindow, NSObject, NSMutableSet, NSMutableArray, NSResponder, NSEvent;
@protocol NSSubmenuPresenting, NSMenuTrackingSessionDelegate;

@interface NSMenuTrackingSession : NSObject {
    NSResponder<NSSubmenuPresenting> *_rootImpl;
    NSResponder<NSSubmenuPresenting> *_trackedImpl;
    NSResponder<NSSubmenuPresenting> *_keyboardTrackedImpl;
    NSResponder<NSSubmenuPresenting> *_lastPresentedSubmenu;
    NSResponder<NSSubmenuPresenting> *_cachedImpl;
    NSView *_menuViewOnEntry;
    NSView *_previousMenuView;
    NSEvent *_cachedMouseExitedEvent;
    struct __CFRunLoopTimer { } *_classicTrackingTimer;
    struct __CFRunLoopTimer { } *_predictiveTrackingTimeoutTimer;
    struct __CFRunLoopTimer { } *_autodismissalTimer;
    long long _activeMenuTrackingMode;
    unsigned int _oldEventMask;
    unsigned int _focusTheftID;
    unsigned int _typingFocusTheftID;
    struct CGPoint { double x; double y; } _mousePointOnEntry;
    struct CGPoint { double x; double y; } _predictiveTrackingPreviousMouseLocation;
    struct CGPoint { double x; double y; } _mouseLocationOnMouseDown;
    double _previousTime;
    BOOL _isTrackingActive;
    BOOL _didLeaveOriginalItemSinceTrackingStarted;
    BOOL _isMonitoringEvents;
    BOOL _isPredictiveTrackingActive;
    BOOL _isRunningEventLoop;
    BOOL _isEventLoopCanceled;
    BOOL _isAboutToDismissByMouseUp;
    BOOL _isDismissing;
    BOOL _needsRestoreEventMask;
    BOOL _needsRestoreFocus;
    NSMenu *_rootMenu;
    NSMutableSet *_closedImpls;
    NSMutableSet *_dismissedImpls;
    NSMutableSet *_reuseSet;
    NSMenuItem *_itemAwaitingPerformAction;
    NSEvent *_reasonForPerformAction;
    unsigned long long _invocationTypeAwaitingPerformAction;
    NSMutableArray *_eventsDuringDismissal;
    NSEvent *_finalMouseUp;
    struct OpaqueEventHandlerRef { } *_appSwitchHandler;
    NSWindow *_rememberedKeyWindow;
    const long long *_rememberedWindowOrdering;
    long long _keyWindowProperties;
    unsigned long long _rememberedWindowOrderingCount;
    struct OpaqueTSMDocumentID { } *_savedTSMDocument;
    BOOL _isPrecededByMouseDown;
    BOOL _didRepostEventForContextualClick;
}

@property (class, weak, nonatomic) NSMenuTrackingSession *currentSession;

@property (weak) NSObject<NSMenuTrackingSessionDelegate> *delegate;
@property (readonly, nonatomic) double startTime;
@property (nonatomic) NSString *runLoopMode;
@property (readonly, nonatomic) NSMenuItem *selectedMenuItem;
@property (readonly) BOOL isDismissing;
@property (readonly, weak) NSMenu *rootMenu;
@property (readonly) BOOL allowsTracking;
@property BOOL trackingCanceledBeforeStarted;

+ (BOOL)allowsKeyMatchingWithoutModifiers;
+ (void)disableAutoDismissal;
+ (void)enableAutoDismissal:(double)a0;
+ (BOOL)performKeyboardNavigation:(id)a0;

- (void)dismissAnimated:(BOOL)a0;
- (BOOL)handleEvent:(id)a0;
- (id)initWithImpl:(id)a0;
- (void)dealloc;
- (void)startMonitoringEvents:(id)a0;
- (BOOL)mouseExited:(id)a0;
- (void).cxx_destruct;
- (void)_invalidateClassicTrackingTimer;
- (BOOL)_mouseMovedDraggedEventHandler:(id)a0;
- (void)classicTrackingThresholdReached;
- (BOOL)_arrowDownKeyEventHandler:(long long)a0;
- (BOOL)_arrowLeftKeyEventHandler;
- (BOOL)_arrowLeftTabEventHandler;
- (BOOL)_arrowRightKeyEventHandler;
- (BOOL)_arrowRightTabEventHandler;
- (BOOL)_arrowUpKeyEventHandler:(long long)a0;
- (void)_autoDismissalTimerCallback;
- (BOOL)_autodismissalAllowed;
- (BOOL)_beginPredictiveTrackingAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)_cancelPredictiveTracking;
- (BOOL)_cancelPredictiveTrackingWithEvent:(id)a0;
- (BOOL)_classicTypeSelectWithEvent:(id)a0;
- (void)_clearPreviousKeyWindowProperties;
- (BOOL)_defaultActionEventHandler:(id)a0;
- (void)_disableAutoDismissal;
- (void)_enableAutoDismissal:(double)a0;
- (id)_findKeyWindowToRestoreFromSavedProperties;
- (id)_firstContextualImpl;
- (void)_handleAppDeactivateIfNeeded;
- (void)_invalidateAutodismissalTimer;
- (void)_invalidateCurrentSession;
- (void)_invalidatePredictiveTrackingTimeoutTimer;
- (BOOL)_keyDownEventHandler:(id)a0;
- (BOOL)_keyUpEventHandler:(id)a0;
- (BOOL)_modifierFlagsChanged:(id)a0;
- (BOOL)_mouseDownEventHandler:(id)a0;
- (BOOL)_mouseEnteredExitedEventHandler:(id)a0;
- (BOOL)_mouseUpEventHandler:(id)a0;
- (void)_performPreDispatchDismissalActions;
- (void)_recordPreviousKeyWindowProperties;
- (BOOL)_repostMouseDownDueToSpecialCaseIfNeeded:(id)a0;
- (void)_resetClassicTrackingTimer;
- (void)_restorePreviousKeyWindowFromSavedProperties;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })_screenRectForView:(id)a0;
- (void)_sendMouseMovedDragged:(id)a0;
- (void)_setupMenuTracking;
- (BOOL)_shouldContinueTypeSelect:(id)a0;
- (void)_stopIntrusionDetection;
- (BOOL)_tabSelectsAdjacentMenu;
- (void)_tearDownMenuTracking;
- (void)_updateTrackedImplForKeyboardTracking;
- (void)addToReuseQueue:(id)a0;
- (BOOL)beginRemoteTrackingWithEvent:(id)a0;
- (void)beginTrackingSession;
- (void)disableWindowReusePurgingCache;
- (void)enableWindowReuse;
- (void)endRemoteTracking;
- (BOOL)handleServiceHostedCustomViewEvent:(id)a0;
- (BOOL)isWindowReuseAvailable;
- (BOOL)mouseEntered:(id)a0 window:(id)a1;
- (void)performActionUponDismissal:(id)a0;
- (void)removeFromReuseQueue:(id)a0;
- (void)sendBeginTrackingNotifications;
- (void)sendEndTrackingNotifications;
- (void)sendMenuClosedUponDismissal:(id)a0;
- (void)setMenuRepresentationUponDismissal:(id)a0;
- (void)startRunningMenuEventLoop:(id)a0;
- (void)stopMonitoringEvents;
- (id)windowFromReuseQueue;

@end
