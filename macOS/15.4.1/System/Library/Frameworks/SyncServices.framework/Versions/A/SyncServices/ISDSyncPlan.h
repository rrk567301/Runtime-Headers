@class NSMutableDictionary, ISDMingler, NSDictionary, ISDDataManager, NSMutableArray, NSException, NSString, NSSet, NSTimer, NSTask, NSMutableSet, NSArray, NSCalendarDate;
@protocol ISyncMinglerProtocol;

@interface ISDSyncPlan : NSObject {
    ISDDataManager *_dataManager;
    id _delegate;
    NSString *_uuid;
    NSMutableArray *_participants;
    NSMutableDictionary *_removedClientIdentifiers;
    NSMutableSet *_cancelledClientIdentifiers;
    NSMutableArray *_toBeMingled;
    NSArray *_syncingClientIdentifiers;
    NSSet *_syncingEntityNamesSet;
    NSMutableDictionary *_unapprovedUncontestedPushers;
    NSMutableDictionary *_uncontestedPushers;
    NSMutableDictionary *_confusedPushers;
    NSMutableDictionary *_contestedPushers;
    NSMutableDictionary *_winningPushers;
    BOOL _waitingToNegotiate;
    BOOL _pushersHaveBeenNegotiated;
    BOOL _isPullOnly;
    NSMutableSet *_unpushedResetEntityNames;
    int _phase;
    unsigned int _syncGeneration;
    NSCalendarDate *_createDate;
    NSCalendarDate *_startDate;
    NSCalendarDate *_endDate;
    NSTimer *_watchdog;
    ISDMingler *_mingler;
    id<ISyncMinglerProtocol> _minglerProcess;
    NSTask *_minglerTask;
    BOOL _isCancelled;
    NSException *_minglerException;
    NSDictionary *_entitiesMapping;
    NSSet *_dataClassesWithRecordsInTruth;
    NSMutableArray *_entitiesToMarkAsRefreshedAfterPushPhase;
    NSArray *_closureOfEntitiesBeingMingled;
    NSDictionary *_clientIdTypeMapping;
    NSDictionary *_entityNameToEntityMapping;
    BOOL _isOneShotPlan;
    BOOL _isSyncAfterPlan;
    BOOL _skipSyncAfterClients;
    BOOL _participantRequiresMingle;
    NSString *_dataDirectory;
    NSArray *_allClients;
    NSMutableDictionary *_negotiatedClientModes;
}

@property struct { unsigned int val[8]; } auditToken;

+ (void)initialize;

- (void)dealloc;
- (id)description;
- (void)encodeWithCoder:(id)a0;
- (unsigned int)generation;
- (id)initWithCoder:(id)a0;
- (id)endDate;
- (BOOL)isCancelled;
- (id)replacementObjectForPortCoder:(id)a0;
- (id)startDate;
- (void)addParticipant:(id)a0;
- (id)participants;
- (BOOL)isSyncing;
- (void)setWatchdog:(id)a0;
- (id)watchdog;
- (void)setIsCancelled:(BOOL)a0;
- (void)startSyncing;
- (id)pendingParticipants;
- (id)planIdentifier;
- (id)createDate;
- (BOOL)canStartSyncing;
- (BOOL)_shouldTransitionToPushingPhase;
- (BOOL)isSyncAfterPlan;
- (id)_contestingTruthPushersForEntityName:(id)a0;
- (void)_computeUnpushedEntitiesToReset;
- (id)_buildEntityNamesForDatabaseRebuildNoticeForEntityNames:(id)a0;
- (void)_didFinishMingling;
- (id)_mingledEntityNamesSet;
- (void)_minglerProcessDied:(id)a0;
- (void)_negotiateTruthPushingForParticipant:(id)a0;
- (void)_notifyParticipantToBeginSyncing:(id)a0 truthPullers:(id)a1;
- (int)_participantsSyncPhase;
- (void)_postNotificationWithObject:(id)a0 entityNames:(id)a1 timeStamp:(id)a2 syncPlanStatus:(id)a3;
- (void)_prepareToSyncParticipant:(id)a0;
- (void)_removeAllParticipants:(id)a0;
- (BOOL)_removeAllPendingParticipants;
- (void)_removeParticipant:(id)a0 didFinishSyncing:(BOOL)a1 notifyClient:(BOOL)a2 reason:(id)a3;
- (void)_setRecoverySyncModesForParticipantFromNegotiatedSyncStates:(id)a0;
- (BOOL)_shouldCancelPlanForRemovedParticipant:(id)a0 didFinishSyncing:(BOOL)a1;
- (void)_skipMingling;
- (id)_syncingClientIdentifiers;
- (void)_updateRecoverySyncModesForParticipantAfterPushing:(id)a0;
- (id)_updateSyncModesForAllClientsAfterCatestrophicMinglerFailure:(id)a0;
- (void)_updateSyncModesForAllParticipantsAfterMingling;
- (void)_updateSyncModesForParticipant:(id)a0 afterFinishing:(BOOL)a1;
- (void)_whackTruthAndBarf:(id)a0 clientIds:(id)a1;
- (BOOL)canAcceptMoreParticipants;
- (BOOL)canStartMingling;
- (void)cancelMinglerProcessWaitUntil:(id)a0;
- (void)cancelSyncing:(id)a0;
- (id)cancelledClients;
- (id)clientIdentifiersInPlan;
- (BOOL)clientWithIdentifierWasRemovedFromPlan:(id)a0;
- (id)closureOfEntityNamesBeingMingled;
- (void)computeClosureOfEntityNamesBeingMingled;
- (BOOL)creatorMayPush;
- (void)doneNegotiatingTruthPushers:(id)a0;
- (id)entityNamesSet;
- (id)fastParticipants;
- (id)fastPlanIdentifier;
- (void)finishSyncing;
- (void)forgetThatClientWithIdentifierWasRemovedFromPlan:(id)a0;
- (id)initWithDataManager:(id)a0 delegate:(id)a1;
- (BOOL)isBeforeMingling;
- (BOOL)isMingling;
- (BOOL)isOneShotPlan;
- (BOOL)isPullOnly;
- (BOOL)isSyncingAnyEntityWithNameInSet:(id)a0;
- (BOOL)makeSureTruthPushersAreNegotiated;
- (id)minglerException;
- (id)minglerProcess;
- (id)negotiatedClientModes;
- (void)notifyObserversAboutMinglingStart;
- (void)notifyObserversAboutPlanCancellation:(id)a0;
- (void)notifyObserversAboutPlanCancellationStart:(id)a0;
- (void)notifyObserversAboutPlanEnd:(id)a0;
- (void)notifyObserversAboutPullingStart;
- (void)notifyObserversAboutPushingStart;
- (void)notifyObserversAboutRemovedParticipant:(id)a0;
- (void)participantDidBeginPushingChanges:(id)a0 negotiatedSyncStates:(id)a1;
- (void)participantDidEndPushingChanges:(id)a0;
- (id)participantEntityNames:(id)a0 usingEntityNames:(id)a1;
- (BOOL)participantRequiresMingle;
- (BOOL)participantWantsToBeginRightNow:(id)a0;
- (id)participantWithClientId:(id)a0;
- (void)performGrowlNotification:(id)a0 title:(id)a1 msgFormat:(id)a2;
- (void)recordNegotiatedModes:(id)a0 forClientId:(id)a1;
- (void)removeParticipant:(id)a0 didFinishSyncing:(BOOL)a1 notifyClient:(BOOL)a2 reason:(id)a3;
- (void)resetPushersForCancelledPlan;
- (void)setIsOneShotPlan:(BOOL)a0;
- (void)setIsPullOnly:(BOOL)a0;
- (void)setIsSyncAfterPlan:(BOOL)a0;
- (void)setMinglerException:(id)a0;
- (void)setMinglerProcess:(id)a0;
- (void)setParticipantRequiresMingle:(BOOL)a0;
- (void)setSkipSyncAfterClients:(BOOL)a0;
- (BOOL)skipSyncAfterClients;
- (void)startMinglerProcess;
- (void)startMingling;
- (void)startPullingChanges;
- (int)syncPhase;

@end
