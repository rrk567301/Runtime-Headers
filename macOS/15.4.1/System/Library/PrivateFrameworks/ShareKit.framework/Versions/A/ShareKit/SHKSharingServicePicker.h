@class NSDictionary, NSMenu, NSAlert, SHKShareSheetRemoteViewController, SFShareSheetSessionManager, NSMutableArray, NSString, SFShareSheetSessionTestingSnapshot, NSArray, SHKSharingService, NSSharingServicePicker, NSSet, NSWindow, NSOperationQueue, NSSharingCollaborationModeRestriction, SFCollaborationPerformer, NSObject, NSView, SHKSharingServicePickerMenuItemConfig, SHKSharingServicePickerMenuLatencyMetric, CSAddParticipantsViewController, NSPopover, SFCollaborationItemsProvider, SHKCollaborationService, NSUUID;
@protocol OS_dispatch_source, SHKMenuControllerDelegate;

@interface SHKSharingServicePicker : NSObject <SFCollaborationCreationDelegate, SFCollaborationPerformerDelegate, CSAddParticipantsViewControllerDelegate, SFCollaborationItemsProviderDelegate, SFCollaborationItemChangeObserver, NSPopoverDelegate, NSMenuDelegate> {
    NSArray *_items;
    BOOL _itemsReady;
    NSMenu *_menu;
    NSMutableArray *_sharingServices;
    NSObject<OS_dispatch_source> *_fetchingKeepTimer;
    BOOL _menuAvailable;
}

@property (class, readonly) unsigned long long useCount;

@property (retain, nonatomic) SFCollaborationItemsProvider *collaborationItemsProvider;
@property (retain, nonatomic) SFCollaborationPerformer *collaborationPerformer;
@property (retain, nonatomic) SHKCollaborationService *collaborationService;
@property (retain, nonatomic) SFShareSheetSessionManager *sessionManager;
@property (retain, nonatomic) NSSharingCollaborationModeRestriction *collaborationModeRestriction;
@property BOOL isCollaborationMode;
@property (weak, nonatomic) NSView *presentingView;
@property (retain) NSMutableArray *processedCollaborationItems;
@property (nonatomic) long long completedProviderCount;
@property (retain) NSUUID *currentMenuItemsQueryID;
@property BOOL hasActionServices;
@property (retain) NSArray *menuItems;
@property BOOL menuItemsComplete;
@property BOOL usesMetricsAppearance;
@property long long menuIndentationLevel;
@property (retain) SHKSharingServicePickerMenuLatencyMetric *menuLatencyMetric;
@property (retain) SHKSharingService *selectedSharingService;
@property (retain, nonatomic) NSArray *serviceItemProviderOperations;
@property (retain, nonatomic) NSOperationQueue *serviceItemProviderOperationQueue;
@property (nonatomic) long long totalProviderCount;
@property BOOL didSelectService;
@property BOOL didLoadMetadata;
@property BOOL isWaitingForSendCopyLoad;
@property (retain, nonatomic) NSPopover *shareSheetPopover;
@property (retain, nonatomic) SHKShareSheetRemoteViewController *shareSheetRemoteViewController;
@property (copy) id /* block */ shareSheetCompletion;
@property (copy, nonatomic) NSArray *headerMetadata;
@property (copy, nonatomic) NSArray *popoverSharingServices;
@property (copy, nonatomic) NSArray *popoverActionServices;
@property (copy, nonatomic) NSArray *popoverCollaborativeSharingServices;
@property (copy, nonatomic) NSArray *popoverCollaborativeActionServices;
@property (retain, nonatomic) SHKSharingServicePickerMenuItemConfig *menuItemConfig;
@property (copy, nonatomic) NSSet *restrictedSharingServices;
@property (copy, nonatomic) NSMutableArray *hiddenSharingServices;
@property (retain, nonatomic) CSAddParticipantsViewController *addParticipantsViewController;
@property (retain, nonatomic) NSWindow *addParticipantsWindow;
@property (nonatomic) struct _NSModalSession { } *addParticipantsModalSession;
@property (retain, nonatomic) NSUUID *addParticipantsCollaborationItemIdentifier;
@property (copy) id /* block */ addParticipantsCompletionBlock;
@property (retain, nonatomic) NSAlert *progressView;
@property (retain, nonatomic) SFShareSheetSessionTestingSnapshot *testingSnapshot;
@property (weak) NSSharingServicePicker *nsSharingServicePicker;
@property (weak) id<SHKMenuControllerDelegate> delegate;
@property (retain) NSArray *items;
@property (copy) NSArray *applicationServices;
@property (copy) NSArray *excludedSharingServiceNames;
@property (retain) NSDictionary *info;
@property long long style;
@property unsigned long long collaborationMode;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)incrementUseCount;
+ (id)createShareTransportsFromSharingServices:(id)a0;
+ (id)flattenServices:(id)a0;

- (void).cxx_destruct;
- (id)menu;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (void)dismiss;
- (id)_alternateItemIdentifierFromRepresentedObject:(id)a0;
- (id)_serviceFromRepresentedObject:(id)a0;
- (id)_titleAttributes;
- (id)emptyMenuImage;
- (id)initWithItems:(id)a0;
- (id)menuItemFromService:(id)a0;
- (void)menuWithCompletion:(id /* block */)a0;
- (void)popoverDidClose:(id)a0;
- (void)showPopoverRelativeToRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 ofView:(id)a1 preferredEdge:(unsigned long long)a2 completion:(id /* block */)a3;
- (void)showRelativeToRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 ofView:(id)a1 preferredEdge:(unsigned long long)a2;
- (id)standardShareMenuItem;
- (id)standardShareMenuItemRelativeToRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 ofView:(id)a1 preferredEdge:(unsigned long long)a2;
- (BOOL)worksWhenModal;
- (void)addParticipantsAllowedForCollaborationItem:(id)a0 completionHandler:(id /* block */)a1;
- (void)canManageShareForDocumentInSharedFolderWithCompletionHandler:(id /* block */)a0;
- (void)canShareFolderContainingExistingSharedItemsWithCompletionHandler:(id /* block */)a0;
- (id)collaborationItemsProvider:(id)a0 resolveActivityItem:(id)a1;
- (id)collaborationServiceForItemsProvider:(id)a0;
- (void)createSharingURLForCollaborationRequest:(id)a0 completionHandler:(id /* block */)a1;
- (void)createSharingURLWithParticipantsForCollaborationRequest:(id)a0 completionHandler:(id /* block */)a1;
- (void)didBeginCreationForCollaborationPerformer:(id)a0;
- (void)didCancelCreationForCollaborationPerformer:(id)a0;
- (void)didFailCreationForCollaborationPerformer:(id)a0 error:(id)a1;
- (void)didFinishCreationForCollaborationPerformer:(id)a0;
- (void)manageShareForDocumentInSharedFolder;
- (void)observable:(id)a0 didChange:(unsigned long long)a1;
- (void)shareStatusForURL:(id)a0 completionHandler:(id /* block */)a1;
- (void)_dismissProgressViewIfNecessary;
- (id)moreButtonImage;
- (void)_populateNSMenu;
- (void)handlePickerQueryWithID:(id)a0 completedWithMenuItems:(id)a1 sharingServices:(id)a2;
- (void)_addCopyRepresentationParameterForCopyRepresentationURL:(id)a0;
- (id)_collaborationItems;
- (id)_collaborationModeRestriction;
- (void)_configureShareSheetRemoteViewController:(id)a0;
- (void)_createFinalCollaborationResultForSharingService:(id)a0;
- (void)_createItemsForLegacySupportedCollaboration;
- (id)_createLegacyMessagesCollaborationTextWithShare:(id)a0 url:(id)a1;
- (id)_delimiterAttributes;
- (void)_dismissAttachedSheet;
- (id)_filterRestrictedSharingServices:(id)a0;
- (id)_findPresentingWindowIfNecessary;
- (void)_handleAddParticipantsCompletedSharingWithShareURL:(id)a0 ckShare:(id)a1;
- (void)_handleAddParticipantsFailedToSaveShareWithError:(id)a0;
- (void)_handleItemsReady;
- (void)_handleMessagesPreloadWithShare:(id)a0 setupInfo:(id)a1;
- (id)_itemsForSharingService:(id)a0 collaborative:(BOOL)a1;
- (BOOL)_itemsNeedPromptToMoveFile;
- (BOOL)_itemsSupportsCollaboration;
- (void)_loadCollaborationParameters;
- (void)_loadSendCopyRepresentationIfNecessaryWithCompletionHandler:(id /* block */)a0;
- (void)_loadShareWithProgressUI;
- (void)_performActionWithIdentifier:(id)a0;
- (void)_performItemLoadsIfNecessary;
- (void)_performItemOperationsIfNecessary;
- (void)_performSelectedService;
- (void)_performShareTransportWithIdentifier:(id)a0;
- (void)_performSharingService:(id)a0;
- (void)_performStandardShareMenuItem:(id)a0;
- (void)_performSuggestionRequest:(id)a0;
- (id)_placeholderItemForActivityItem:(id)a0;
- (id)_placeholderItemsForCollaborative:(BOOL)a0;
- (void)_populateCollaborativeSharingServicesForPopoverPresentation;
- (void)_populateNonCollaborativeSharingServicesForPopoverPresentation;
- (void)_populateSharingServicesForPopoverPresentation;
- (BOOL)_presentAddParticipantsViewController;
- (BOOL)_promptToMoveFileIfNecessaryForService:(id)a0;
- (BOOL)_queueBackgroundOperations;
- (id)_representedObjectForService:(id)a0 alternateItemIdentifier:(id)a1 touchBarImage:(id)a2;
- (id)_requestHeaderMetadataWithURLRequests:(id)a0 completionHandler:(id /* block */)a1;
- (id)_resolveItemSource:(id)a0 forSharingServiceName:(id)a1;
- (id)_resolvedItemsForItems:(id)a0 sharingService:(id)a1;
- (id)_sanitizeInitialMetadataForUnloadedMetadata:(id)a0;
- (void)_setupCollaborationProperties;
- (void)_setupSessionManagerIfNeeded;
- (void)_shareServiceSelected:(id)a0;
- (BOOL)_shouldDefaultToCollaboration;
- (BOOL)_shouldUseCollaborationItemsForService:(id)a0;
- (void)_showErrorViewAndCancelCollaborationPerformerForError:(id)a0;
- (void)_showProgressView;
- (id)_subjectForSharingService:(id)a0;
- (id)_subjectForSharingService:(id)a0 withItems:(id)a1;
- (id)_subtitleAttributes;
- (unsigned long long)_supportedCollaborationModes;
- (void)_updateCanAddPeopleForCollaborationItem:(id)a0;
- (void)_updateOptionsForCollaborationItem:(id)a0 skipInitialUpdate:(BOOL)a1;
- (void)_updatePopoverHeaderMetadataIfNecessary;
- (void)_updateRestrictedSharingServices;
- (void)_updateShareSheetServicesForCollaborative:(BOOL)a0;
- (id)_urlItems;
- (void)addGroupedRecentServices:(id)a0 withTitle:(id)a1 toMenuItems:(id)a2 menuItemServices:(id)a3;
- (void)addParticipantsViewController:(id)a0 completedSharingWithShareURL:(id)a1 ckShare:(id)a2;
- (void)addParticipantsViewController:(id)a0 failedToSaveShareWithError:(id)a1;
- (void)addRecentServices:(id)a0 toMenuItems:(id)a1 menuItemServices:(id)a2;
- (id)applicationServicesWithType:(long long)a0;
- (void)cleanUpMenu;
- (void)collaborationPerformer:(id)a0 requestParticipantsWithCompletionHandler:(id /* block */)a1;
- (id)collapsedSharingMenuItemWithSubmenu:(id)a0;
- (BOOL)displayAsPopover;
- (void)ensureFetchingKeepTimerStopped;
- (void)ensureNSSharingServicePickerIsSet;
- (id)fetchingMenuItem;
- (void)handleFetchingKeepTimerFired;
- (void)handleMenuItemsAvailable;
- (id)menuItemFromService:(id)a0 includeImage:(BOOL)a1;
- (struct CGPoint { double x0; double x1; })menuLocationForRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 view:(id)a1 preferredEdge:(unsigned long long)a2;
- (void)modifyViewModel:(id)a0 forShareOptionsFromCollaborationItem:(id)a1;
- (id)moreButtonTouchBarImage;
- (id)moreMenuItem;
- (id)newPickerMenu;
- (void)notifyDidChooseSharingService:(id)a0;
- (void)openAppExtensionsPrefpane;
- (id)orderAndGroupActionServices:(id)a0;
- (BOOL)peopleSuggestionsSupported;
- (id)pickerMenuItemsForShareExtensions:(id)a0 actionExtensions:(id)a1 menuItemServices:(id *)a2 enforceOnMainQueue:(BOOL)a3;
- (id)pickerServicesForServices:(id)a0 withMask:(unsigned long long)a1 enforceOnMainQueue:(BOOL)a2;
- (id)pickerServicesForServices:(id)a0 withMask:(unsigned long long)a1 forPopover:(BOOL)a2 forCollaborationMode:(BOOL)a3 enforceOnMainQueue:(BOOL)a4;
- (void)queryPickerMenuItemsAndServicesWithCompletion:(id /* block */)a0;
- (void)setupMenuLatencyMeasurement;
- (id)sharingMenuItemsForShareServices:(id)a0 menuItemsServices:(id *)a1 enforceOnMainQueue:(BOOL)a2;
- (void)startFetchingKeepTimer;
- (id)tintedImageWithSize:(struct CGSize { double x0; double x1; })a0 fraction:(double)a1 fromImage:(id)a2;
- (void)updatePopoverContentAndIfNecessaryPresentRelativeToRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 ofView:(id)a1 preferredEdge:(unsigned long long)a2;

@end
