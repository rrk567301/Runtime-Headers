@class CPKCategoriesView, STKEmojiGenerationViewController, NSDictionary, CPKCharactersView, CPKSearchView, NSMutableArray, CPKDividerLine, NSRemoteViewController, NSString, CPSearchManager, CPKCategoriesPickerView, CPKPopover, NSArray, CPKBottomView, CPKDataProvider, CPKTestWindow;

@interface CPKPopoverController : NSViewController <CPKCharactersViewDelegate, CPKCharactersViewDataSource, CPKSearchViewDelegate, NSSearchFieldDelegate, NSWindowDelegate, CPKGenerationUIRemoteProtocol, CPKCategoriesPickerViewDelegate> {
    CPKBottomView *_bottomView;
    CPSearchManager *_searchManager;
    CPKCategoriesView *_categoriesView;
    CPKDividerLine *_dividerLine;
    STKEmojiGenerationViewController *_creationVC;
    long long _lastCategoryIndex;
    NSMutableArray *_categorySectionTitle;
    NSDictionary *_wholeCharCache;
    long long _maxSearchCount;
    long long _numberOfRecentsCategories;
    BOOL _searchViewShown;
    BOOL _madeSelectionWhileSearching;
    BOOL _symbolCategoriesInitialized;
    BOOL _isTemporarilyClosed;
    struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } _popoverContentsFrame;
    NSString *_searchFieldContents;
}

@property (nonatomic) BOOL currentlyDoingSecondaryInitialization;
@property (retain, nonatomic) NSDictionary *categoryToDataSectionMapping;
@property (retain, nonatomic) NSDictionary *dataSectionToCategoryMapping;
@property (nonatomic) BOOL didDoInitialStickersCountCalculation;
@property (nonatomic) BOOL nowSearching;
@property (retain, nonatomic) CPKDataProvider *pendingDataProvider;
@property (nonatomic) BOOL popoverDidPerformInitialPositioning;
@property (retain, nonatomic) NSRemoteViewController *generationRemoteViewController;
@property (retain, nonatomic) CPKTestWindow *testWindow;
@property (nonatomic) struct CGPoint { double x; double y; } storedScrollPosition;
@property (readonly) CPKDataProvider *dataProvider;
@property (readonly) CPKCharactersView *charactersView;
@property (readonly) CPKCategoriesPickerView *categoriesPickerView;
@property (readonly) CPKSearchView *searchView;
@property (retain) NSArray *lastSearchResult;
@property (nonatomic) BOOL detachedWindow;
@property (nonatomic, getter=isEnabled) BOOL enabled;
@property (readonly) BOOL isEmojiIMMode;
@property (nonatomic) BOOL isEmojiCreationMode;
@property (copy) NSArray *savedRecents;
@property CPKPopover *enclosingPopover;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (void)dealloc;
- (id)init;
- (id)initWithController:(id)a0;
- (long long)numberOfSections;
- (id)serviceViewControllerProxy;
- (void)setDataProvider:(id)a0;
- (void)setupUI;
- (void)scrollPositionUpdatedTo:(struct CGPoint { double x0; double x1; })a0 sender:(id)a1;
- (void)temporarilyClosePopoverOrWindow;
- (void)setupCreationUI;
- (long long)_categoryFromDataSection:(long long)a0;
- (void)_characterViewerButtonClicked:(id)a0;
- (long long)_dataSectionFromCategory:(long long)a0;
- (long long)_dataSectionFromTableSection:(long long)a0;
- (void)_handleConfirmCharacterInfo:(id)a0;
- (BOOL)_isEmojiCategoriesIndex:(long long)a0 withDataSource:(id)a1;
- (BOOL)_isEmojiCategory:(long long)a0;
- (BOOL)_isEmojiFontPreferredSection:(long long)a0;
- (BOOL)_isEmojiSection:(long long)a0;
- (void)_lastPhasedInitialization;
- (void)_rootCategorySelected:(long long)a0 scrollCharacters:(BOOL)a1 clearSearch:(BOOL)a2 forceUpdate:(BOOL)a3 initiatedByUser:(BOOL)a4;
- (void)_searchFieldTextDidChange:(id)a0;
- (void)_setupInitialFirstResponder;
- (void)_showSkinToneHelpWithCharacterInfo:(id)a0;
- (void)_symbolCategoriesInitializationSync;
- (id)categoriesPicker;
- (void)categoriesPickerView:(id)a0 didChangeSelectionToIndex:(unsigned long long)a1 fromUserInput:(BOOL)a2;
- (void)categoriesPickerView:(id)a0 willChangeSelectionFromIndex:(unsigned long long)a1 fromUserInput:(BOOL)a2;
- (id)categoriesView;
- (void)categoryMatrixSelectionDidChangeWithIndex:(unsigned long long)a0 byUser:(BOOL)a1 sender:(id)a2;
- (void)categoryMatrixSelectionDidChanged:(id)a0;
- (void)categoryMatrixSelectionWillChangeWithIndex:(unsigned long long)a0 byUser:(BOOL)a1 sender:(id)a2;
- (void)categoryMatrixSelectionWillChanged:(id)a0;
- (id)characterAtIndex:(long long)a0 ofSection:(long long)a1 withSpecificFont:(id *)a2;
- (void)characterDidSelectedInController:(id)a0;
- (void)charactersView:(id)a0 didChangedHighlightToIndex:(long long)a1 ofSection:(long long)a2 byMouse:(BOOL)a3;
- (void)charactersView:(id)a0 didConfirmCharacter:(id)a1 withFont:(id)a2 byDrag:(BOOL)a3;
- (void)charactersView:(id)a0 didConfirmInlineAttachment:(struct CGImage { } *)a1 entity:(id)a2 byDrag:(BOOL)a3;
- (void)charactersView:(id)a0 didScrolledToSection:(long long)a1 fromSection:(long long)a2;
- (void)charactersViewDidCancelOperation:(id)a0;
- (void)charactersViewDidOpenCreationViewController:(id)a0 withPrompt:(id)a1;
- (void)cleanUpIfNotTemporarilyClosed;
- (void)cleanUpOnDefiniteClosure;
- (void)clearSearchStatusWhenNoResults;
- (void)closeCreationView;
- (void)closeCreationView:(id)a0;
- (void)confirmSticker:(id)a0 byDrag:(BOOL)a1;
- (unsigned long long)contentTypeForIndex:(unsigned long long)a0;
- (id)contentsView;
- (void)contextMenuDisplayDidUpdate:(id)a0;
- (void)createEmojiButtonPressed:(id)a0;
- (id)creationUIViewController;
- (void)didAddGenerativeEmoji:(id)a0;
- (void)didAddGenerativeEmojiToDatabase:(id)a0;
- (void)didClickTestButton:(id)a0;
- (void)didRequestDismissal:(id)a0;
- (void)didRequestOnboardingToClose:(id)a0;
- (void)didRequestRestoration:(id)a0;
- (void)didUpdateViewAfterStickersCount:(id)a0;
- (void)dismissTestWindow:(id)a0;
- (id)entityAtIndex:(long long)a0 ofSection:(long long)a1;
- (void)expansionButtonClicked;
- (id)getDetachedCPKWindow;
- (BOOL)hasDetachedWindow;
- (BOOL)hasShownDiversityAlert;
- (BOOL)hasSkinToneVariantsAtIndex:(long long)a0 ofSection:(long long)a1 hasSelected:(BOOL *)a2;
- (id)initWithEmojiCreationMode:(BOOL)a0 popover:(id)a1;
- (id)initWithUICreation:(BOOL)a0 emojiCreationMode:(BOOL)a1 popover:(id)a2;
- (BOOL)isEmojiCategorySelectedInLastState:(id)a0 withDataSource:(id)a1;
- (BOOL)isNonSymbolsCategory:(unsigned long long)a0;
- (BOOL)isValidIndex:(long long)a0 ofSection:(long long)a1;
- (void)moveCreationUIFromController:(id)a0;
- (BOOL)needsSecondaryDataSourcePreparation;
- (long long)numberOfCharactersOfSection:(long long)a0;
- (void)openExternalCharacterViewerWindow;
- (void)popoverDidClosed;
- (void)popoverDidOpened;
- (void)popoverWillClosed;
- (id)preferredFontsOfSection:(long long)a0 fallbackType:(long long *)a1;
- (void)prefsUpdatedExternally:(id)a0;
- (void)prepareForCreationMode;
- (void)prepareRelease;
- (void)refreshCharactersView:(id)a0;
- (void)reopenPopoverOrWindow;
- (void)reopenWindowsOnNextRunOfTheRunLoopAndSetFirstResponder;
- (void)searchFieldDidFocused:(id)a0;
- (void)searchFieldTextChangedImmediately:(id)a0;
- (void)searchViewGenmojiButtonPressed:(id)a0 searchFieldContents:(id)a1;
- (unsigned long long)sectionTypeForTitle:(id)a0;
- (void)setHasShownDiversityAlert;
- (void)setupCreationUIWithPrompt:(id)a0;
- (void)setupCreationViewRemotely:(BOOL)a0 withPrompt:(id)a1;
- (void)setupGridUI;
- (void)showCreationView:(id)a0;
- (void)tearDownExistingRemoteViewController;
- (id)titleOfSection:(long long)a0 localized:(BOOL)a1;
- (void)updateCategoryPickerItems;
- (void)updateDataSectionToCategoryMapping;
- (void)updateWithCurrentDataProvider;

@end
