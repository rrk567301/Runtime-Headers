@class EDPersistenceDatabaseConnection, NSMutableSet, NSMutableDictionary, NSHashTable, MFLibraryMessage, NSData, EFSQLPreparedStatement;

@interface MFConversationCalculationContext : NSObject {
    NSHashTable *_participants;
}

@property (retain, nonatomic) NSHashTable *participants;
@property (retain, nonatomic) EFSQLPreparedStatement *messageHasReferencesStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *messageHasMessageIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationIDOfCloneStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationIDOfAutomatedAncestorWithReferencesStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationIDOfAutomatedPeerWithReferencesStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationIDOfAutomatedMessageWithoutReferencesStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationIDOfClosestAncestorStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *peersOfMessageStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *messagesInConversationStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *descendantsToSplitFromConversationStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *descendantsOfMessageStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *descendantBelongsToSameConversationAsAncestorStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *peersToSplitFromConversationStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *fuzzyMessagesWithSameSubjectStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *candidateMessagesForFuzzyMatchingStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *fuzzyMessagesToSplitFromConversationStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *recipientsForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *dateReceivedForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *senderForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationIDForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *setFuzzyAncestorForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *subjectForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *automatedConversationTypeForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *clonesForRowIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *countOfDistinctAutomatedConversationTypesForConversationIDStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationPositionOfClosestDescendantStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *conversationPositionOfClosestAncestorStatement;
@property (nonatomic) long long rowID;
@property (retain, nonatomic) MFLibraryMessage *message;
@property (nonatomic) long long subjectID;
@property (nonatomic) unsigned long long subjectLength;
@property (nonatomic) int rootStatus;
@property (nonatomic) BOOL hasReferences;
@property (retain, nonatomic) NSData *messageIDHeader;
@property (nonatomic) long long conversationID;
@property (nonatomic) unsigned long long conversationFlags;
@property (nonatomic) char messageType;
@property (nonatomic) long long mailbox;
@property (nonatomic) long long senderID;
@property (nonatomic) int dateReceived;
@property (nonatomic) int automatedConversationType;
@property (readonly, nonatomic) EDPersistenceDatabaseConnection *connection;
@property (readonly, nonatomic) BOOL didTearDown;
@property (nonatomic) BOOL conversationsWereReset;
@property (nonatomic) BOOL recordConversationCalculationPerformanceMetrics;
@property (nonatomic) BOOL logConversationCalculationTrace;
@property (retain, nonatomic) NSMutableSet *addedConversations;
@property (retain, nonatomic) NSMutableSet *removedConversations;
@property (retain, nonatomic) NSMutableSet *updatedConversations;
@property (retain, nonatomic) NSMutableDictionary *oldConversationIDByMessage;
@property (retain, nonatomic) NSMutableDictionary *currentConversationIDByMessage;
@property (retain, nonatomic) EFSQLPreparedStatement *createConversationStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *addMessageToConversationStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *messagesMissingConversationPositionStatement;
@property (retain, nonatomic) EFSQLPreparedStatement *updateConversationPositionStatement;
@property (nonatomic) double messageHasReferencesTime;
@property (nonatomic) double messageHasMessageIDTime;
@property (nonatomic) double conversationIDOfCloneTime;
@property (nonatomic) double conversationIDOfClosestAncestorTime;
@property (nonatomic) double descendantsOfMessagesTime;
@property (nonatomic) double peersOfMessagesTime;
@property (nonatomic) double fuzzyDescendantsToSplitTime;
@property (nonatomic) double conversationIDOfFuzzyAncestorTime;
@property (nonatomic) double descendantsOfMessageToSplitTime;
@property (nonatomic) double createNewConversationFromMessageTime;
@property (nonatomic) double addMessageToConversationTime;
@property (nonatomic) double mergeConversationsTime;
@property (nonatomic) double calculateConversationForMessageTotalTime;
@property (nonatomic) double conversationIDOfAutomatedMessageWithReferencesTime;
@property (nonatomic) double conversationIDOfAutomatedMessageWithoutReferencesTime;
@property (nonatomic) double fixupConversationPositionsTime;
@property (nonatomic) unsigned long long cloneCount;
@property (nonatomic) unsigned long long closestAncestorCount;
@property (nonatomic) unsigned long long descendantsFoundCount;
@property (nonatomic) unsigned long long peersFoundCount;
@property (nonatomic) unsigned long long fuzzyDescendantsToSplitCount;
@property (nonatomic) unsigned long long fuzzyAncestorCount;
@property (nonatomic) unsigned long long descendantsToSplitCount;
@property (nonatomic) unsigned long long newConversationCount;
@property (nonatomic) unsigned long long addMessageToConversationCount;
@property (nonatomic) unsigned long long conversationsSplitCount;
@property (nonatomic) unsigned long long conversationsMergeCount;
@property (nonatomic) unsigned long long messagesMergedCount;
@property (nonatomic) unsigned long long fuzzyMatchesCacheHits;
@property (nonatomic) unsigned long long fuzzyMatchesCacheMisses;
@property (nonatomic) unsigned long long automatedMessagesWithReferencesCount;
@property (nonatomic) unsigned long long automatedMessagesWithoutReferencesCount;
@property (nonatomic) unsigned long long conversationPositionInvalidRangeCount;
@property (nonatomic) unsigned long long conversationPositionInsertionPointUnavailableCount;
@property (nonatomic) unsigned long long conversationPositionRangeNormalCount;
@property (nonatomic) unsigned long long conversationPositionAdjustedForAncestorCount;
@property (nonatomic) unsigned long long conversationPositionAdjustedForDescendantCount;
@property (readonly, nonatomic) BOOL messageHasReferences;
@property (readonly, nonatomic) BOOL messageHasMessageID;

+ (void)addMessagesInDictionary:(id)a0 toDictionary:(id)a1;

- (void)dealloc;
- (id)description;
- (id)init;
- (void).cxx_destruct;
- (id)initWithConnection:(id)a0;
- (void)tearDown;
- (id)_messagesInConversations:(id)a0 count:(unsigned long long *)a1;
- (id)clonesForRowID:(long long)a0;
- (long long)conversationIDOfCloneWithRowID:(long long *)a0;
- (long long)_conversationIDUsingFuzzyHeuristicOfRowID:(long long)a0 withSubject:(long long)a1 subjectLength:(unsigned long long)a2 sender:(long long)a3 rootStatus:(int)a4 participantsByRowID:(id)a5 conversationIDByRowID:(id)a6 dateReceivedByRowID:(id)a7 resultRowID:(long long *)a8 abortOnMatchBetterThanRowID:(long long)a9;
- (id)_conversationsWithFuzzyDescendantsExcludingConversations:(id)a0;
- (int)_dateReceivedForRowID:(long long)a0;
- (BOOL)_descendant:(long long)a0 belongsToSameConversationAsAncestor:(long long)a1;
- (unsigned long long)_messagesWithSubject:(long long)a0 participantsByRowID:(id)a1 conversationIDByRowID:(id)a2 dateReceivedByRowID:(id)a3;
- (id)_participantsForRowID:(long long)a0;
- (id)_recipientsForRowID:(long long)a0;
- (id)_recursiveDescendantsInConversations:(id)a0;
- (long long)_rowIDOfBestFuzzyAncestorForMessage:(long long)a0 subjectID:(long long)a1 subjectLength:(unsigned long long)a2 dateReceived:(int)a3 senderID:(long long)a4 rootStatus:(int)a5 participantsByRowID:(id)a6 conversationIDByRowID:(id)a7 dateReceivedByRowID:(id)a8 currentFuzzyAncestor:(long long)a9 abortOnMatchBetterThanRowID:(long long)a10 conversationIDOfBestFuzzyAncestor:(long long *)a11;
- (long long)_senderForRowID:(long long)a0;
- (void)_setFuzzyAncestor:(long long)a0 forRowID:(long long)a1;
- (int)automatedConversationTypeForRowID:(long long)a0;
- (BOOL)automatedConversationTypeIsConsistentForConversation:(long long)a0;
- (long long)conversationIDForRowID:(long long)a0;
- (long long)conversationIDOfAutomatedMessageWithReferencesWithRowIDsToConversationType:(id *)a0;
- (long long)conversationIDOfClosestAncestorWithRowID:(long long *)a0;
- (long long)conversationIDOfClosestDescendantExcludingConversationID:(long long)a0;
- (long long)conversationIDOfFuzzyAncestorWithRowID:(long long *)a0;
- (void)conversationWasAdded:(long long)a0;
- (void)conversationWasRemoved:(long long)a0;
- (void)conversationWasUpdated:(long long)a0;
- (id)descendantsOfMessageExcludingConversationID:(long long)a0;
- (id)descendantsOfMessageToSplit;
- (id)fuzzyDescendantsToSplitExcludingConversationIDs:(id)a0;
- (id)peersOfMessageExcludingAncestorConversationID:(long long)a0 descendantConversationID:(long long)a1;
- (void)resetForNewRow;
- (unsigned long long)subjectLengthForRowID:(long long)a0;
- (id)summaryForConversation:(long long)a0;

@end
