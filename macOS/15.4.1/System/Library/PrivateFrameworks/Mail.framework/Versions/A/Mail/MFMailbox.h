@class NSURL, MFMessageStore, NSDate, NSObject, MFCriterion, EMMailboxObjectID, NSEnumerator, NSDictionary, NSMutableIndexSet, MFMailAccount, EMSmartMailbox, NSString, NSImage, MFMailboxCountUpdater, MFMessageCounts, NSOperationQueue, NSArray, NSMutableSet, NSError;
@protocol OS_os_log, OS_dispatch_queue;

@interface MFMailbox : NSObject <EFLoggable, ECGmailLabel, MCMailbox, MFUIMailbox, EDIndexableMailbox, EFPubliclyDescribable, MFMailboxDisplayCountUpdater> {
    MFMailAccount *_account;
    NSMutableSet *_reservedPathComponents;
    id _countsLock;
    unsigned long long _displayCount;
    unsigned long long _unseenCount;
    unsigned long long _deletedCount;
    BOOL _countsWereLoaded;
    struct __CFTree { } *_tree;
    NSString *_pendingNameChange;
    id _criteriaLock;
    NSArray *_criteria;
    long long _criteriaState;
    MFCriterion *_cachedCriterion;
    NSString *_realFullPath;
    unsigned long long _numberOfVisibleChildren;
    NSMutableIndexSet *_visibleChildrenIndexes;
    NSArray *_sortedChildren;
    BOOL _sortedChildrenAreUpToDate;
    BOOL _failedToOpen;
    NSError *_openFailureError;
    id _displayIndexLock;
    unsigned long long _displayIndex;
    BOOL _isManuallySorted;
    BOOL _isVisibleFlaggedMailbox;
    id _dontIndexFlagLock;
    BOOL _dontIndexFlagWritten;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _mailboxTypeAndRepresentedAccountLock;
    MFMailAccount *_representedAccount;
    int _mailboxType;
    id _attributesLock;
    unsigned long long _attributes;
    id _deletionLock;
    BOOL _deletionInProgress;
    id _statusCountsLock;
    BOOL _useStatusCounts;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _cachedDisplayNameLock;
    struct EFAtomicObject { _Atomic long long cfObject; } _URLStringObject;
}

@property (class, readonly, nonatomic) NSObject<OS_os_log> *flagNameSyncLog;
@property (class, readonly) NSObject<OS_os_log> *log;

@property (copy, nonatomic) NSString *mailboxName;
@property (readonly, copy, nonatomic) NSArray *messages;
@property BOOL storeIsReadOnly;
@property (copy) NSString *pathComponent;
@property BOOL uuidUpdatedInDatabase;
@property BOOL needsToSaveMailboxName;
@property (retain) NSOperationQueue *statusCountsQueue;
@property (retain, nonatomic) MFMessageCounts *savedDatabaseMessageCounts;
@property (nonatomic) BOOL displayCountHasEverBeenSet;
@property (retain, nonatomic) NSString *cachedDisplayNameWithoutPIIExtended;
@property (copy) NSString *name;
@property (retain) EMSmartMailbox *emSmartMailbox;
@property BOOL respectsMailboxExclusions;
@property unsigned long long attributes;
@property (readonly, nonatomic) BOOL hasMessages;
@property (copy) NSString *syncId;
@property (readonly) MFCriterion *criterion;
@property (copy) NSArray *criteria;
@property BOOL allCriteriaMustBeSatisfied;
@property unsigned long long displayIndex;
@property BOOL isManuallySorted;
@property BOOL isVisibleFlaggedMailbox;
@property (readonly) unsigned long long deletedCount;
@property BOOL isPublicOrShared;
@property BOOL isFirstTimeSync;
@property (retain) NSDate *lastSyncDate;
@property (readonly) MFMailAccount *account;
@property (readonly) BOOL hasFirstTimeSyncBeenDetermined;
@property (readonly, nonatomic) BOOL isRootMailbox;
@property (readonly, nonatomic, getter=isCustomNamedFlagMailbox) BOOL customNamedFlagMailbox;
@property (copy) NSString *uuid;
@property (readonly) long long databaseID;
@property (readonly, nonatomic) EMMailboxObjectID *objectID;
@property (copy) NSString *flagColor;
@property long long unreadCountQueryObserverID;
@property (retain) MFMailAccount *representedAccount;
@property (readonly, copy, nonatomic) NSString *genericDisplayName;
@property (readonly, nonatomic) BOOL canBeRenamed;
@property (readonly) BOOL isSpecialMailbox;
@property (readonly, nonatomic) BOOL isGeneric;
@property (readonly, nonatomic) BOOL isSmartMailboxOrFolder;
@property (readonly, nonatomic) BOOL isJunk;
@property (readonly, nonatomic) BOOL isOutbox;
@property (readonly, nonatomic) BOOL isSentMailbox;
@property (readonly, nonatomic) BOOL isDraftsMailbox;
@property (copy) MFMailbox *parent;
@property (readonly, nonatomic) NSEnumerator *childEnumerator;
@property (readonly, nonatomic) NSEnumerator *depthFirstEnumerator;
@property (readonly) BOOL isValid;
@property (readonly, nonatomic) BOOL isStoreConvertibleToFolder;
@property (readonly, copy, nonatomic) NSString *fullPath;
@property (readonly, copy) NSString *realFullPath;
@property (readonly, copy, nonatomic) NSString *accountRelativeFilesystemPath;
@property (readonly, copy, nonatomic) NSString *accountRelativePath;
@property (readonly, nonatomic) NSURL *URL;
@property (readonly, copy, nonatomic) NSString *syncableURLString;
@property (readonly, nonatomic) char preferredMessageType;
@property (readonly, nonatomic) BOOL isVisible;
@property (readonly, nonatomic) BOOL isIndexable;
@property (copy) NSDictionary *userInfoDictionary;
@property (readonly, nonatomic) MFMessageStore *store;
@property (readonly, nonatomic) BOOL failedToOpen;
@property (readonly) NSError *openFailureError;
@property (readonly, nonatomic) BOOL displayIndexCanBeModified;
@property (readonly, nonatomic) BOOL isValidDestinationMailbox;
@property (readonly, nonatomic) BOOL isAllMailMailbox;
@property (readonly, copy, nonatomic) NSString *coreSpotlightIdentifier;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *storeCreationQueue;
@property (readonly, copy, nonatomic) NSArray *expandedUnifiedMailboxes;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) NSString *persistentID;
@property (readonly, copy, nonatomic) NSString *labelName;
@property (readonly) BOOL isGmailImportantLabel;
@property (readonly) BOOL isGmailStarredLabel;
@property (readonly, copy, nonatomic) NSString *displayName;
@property (readonly, copy, nonatomic) NSString *displayNameWithoutPII;
@property (readonly, copy, nonatomic) NSString *extendedDisplayName;
@property (readonly, copy, nonatomic) NSString *extendedDisplayNameWithoutPII;
@property (readonly, copy, nonatomic) NSString *URLString;
@property (readonly) unsigned long long unseenCount;
@property (readonly) BOOL unseenCountIsKnown;
@property BOOL useStatusCounts;
@property (readonly, nonatomic) BOOL useTotalInsteadOfUnread;
@property (readonly) long long type;
@property int mailboxType;
@property (readonly, copy, nonatomic) NSString *persistentUIIdentifier;
@property (readonly, nonatomic) BOOL isContainer;
@property (readonly) unsigned long long displayCount;
@property (readonly) unsigned long long numberOfChildren;
@property (readonly) BOOL hasChildren;
@property (readonly, copy) NSArray *children;
@property (readonly, nonatomic) BOOL isStore;
@property (readonly, nonatomic) BOOL isSpotlightMailbox;
@property (readonly, copy, nonatomic) NSString *accountURLString;
@property (readonly, nonatomic) BOOL isPlaceholder;
@property (readonly, nonatomic) BOOL isLocal;
@property (readonly, nonatomic) BOOL isAccountActive;
@property (readonly, nonatomic) NSImage *accountIcon;
@property (readonly, copy, nonatomic) NSString *ef_publicDescription;
@property (readonly, copy, nonatomic) NSString *ef_shortPublicDescription;
@property (retain, nonatomic) MFMailboxCountUpdater *displayCountUpdater;

+ (void)initialize;
+ (BOOL)mailboxTypeAllowsDeduplication:(int)a0;
+ (void)_switchMailboxTypesToPersistedTypesForMailboxDictionary:(id)a0 isRoot:(BOOL)a1;
+ (id)mailboxForDisplayForMessageMailbox:(id)a0 gmailLabels:(id)a1 mailboxCriteria:(id)a2;
+ (BOOL)mailboxTypeAllowsConversations:(int)a0;
+ (id)_mailboxesFromCriterion:(id)a0;
+ (void)_removeLocalProperties:(id)a0 fromSmartMailboxes:(id)a1;
+ (id)_smartMailboxWithIdentifier:(id)a0 inArray:(id)a1;
+ (void)_switchMailboxTypesFromPersistedTypesForMailboxDictionary:(id)a0;
+ (BOOL)logMailboxUUIDErrors;
+ (id)mailboxForDisplayForMessage:(id)a0 mailboxCriteria:(id)a1;
+ (id)mailboxFromPath:(id)a0;
+ (BOOL)mailboxTypeIsAlwaysUnread:(int)a0;
+ (id)mailboxWithIdentifier:(id)a0;
+ (void)queueUpdateCountsForMailboxes:(id)a0;
+ (void)reimportJunk;
+ (void)setCanMarkUserInfoAsDirty:(BOOL)a0;
+ (void)setShouldIndexJunk:(BOOL)a0;
+ (void)setShouldIndexTrash:(BOOL)a0;
+ (void)setSmartMailboxes:(id)a0;
+ (id)smartMailboxWithIdentifier:(id)a0;
+ (id)smartMailboxes;
+ (void)test_cancelPersistingUserInfo;
+ (void)test_waitForMessageCountUpdatesToFinish;

- (void)dealloc;
- (id)copyWithZone:(struct _NSZone { } *)a0;
- (id)init;
- (void).cxx_destruct;
- (void)invalidate;
- (void)setUserInfoObject:(id)a0 forKey:(id)a1;
- (id)objectSpecifier;
- (id)childAtIndex:(unsigned long long)a0;
- (id)dictionaryRepresentation;
- (BOOL)setChildren:(id)a0;
- (id)initWithAccount:(id)a0;
- (void)prepareForDeletion;
- (id)deepCopy;
- (void)setDisplayCount:(unsigned long long)a0;
- (unsigned long long)indexOfChild:(id)a0;
- (id)_loadUserInfo;
- (BOOL)_userInfoIsDirty;
- (id)childWithName:(id)a0;
- (id)initWithMailbox:(id)a0;
- (void)_bucketMailbox:(id)a0 sortedIntoTopSection:(id)a1 appendedToRemainingSection:(id)a2;
- (id)_displayNameWithoutPIIExtended:(BOOL)a0;
- (void)_saveMailboxesWithDirtyUserInfo;
- (id)sortedChildAtIndex:(unsigned long long)a0 hidingGmail:(BOOL)a1;
- (id)_URLStringIsSyncable:(BOOL)a0;
- (id)_URLStringWithAccount:(id)a0;
- (void)_VIPSendersChanged:(id)a0;
- (id)_abGroupsUsedInCriteria;
- (void)_addressBookDidChange:(id)a0;
- (id)_ancestralAccount;
- (id)_displayNameForAccount:(id)a0 type:(int)a1 name:(id)a2;
- (void)_enqueueUnreadCountChangeNotification;
- (id)_gmailWhiteMailboxChild;
- (void)_invalidateVisibleChildrenCaches;
- (BOOL)_isVisibleMailboxType:(int)a0;
- (id)_mailboxExclusionCriteria;
- (id)_privacySafeDescription;
- (void)_registerForCriteriaNotificationsForSpotlightMailbox;
- (void)_resetCachedURLString;
- (void)_saveMailboxNameIfNeeded;
- (void)_saveMailboxesWithDirtyUserInfoWithDelay;
- (void)_setDisplayCountWithMessageCounts:(id)a0;
- (id)_stringByAppendingPathComponentsToAccountPath:(id)a0 relativeToTree:(struct __CFTree { } *)a1 generateFileSystemPath:(BOOL)a2;
- (void)_updateDontIndexFlagFile;
- (void)_updateSortedChildrenIfNeeded;
- (void)_userInfoDidLoad:(id)a0;
- (id)_vipSendersCriterion:(id)a0;
- (id)applescriptAccount;
- (id)applescriptChildren;
- (id)applescriptContainer;
- (void)assignNewUUID;
- (void)cancelUnreadCountQuery;
- (id)childEnumeratorIncludingHiddenChildren:(BOOL)a0;
- (id)childWithPathComponent:(id)a0;
- (BOOL)criteriaAreValid:(id *)a0;
- (id)dictionaryRepresentationIncludePII:(BOOL)a0;
- (id)displayNameUsingAccountNameIfSpecial:(BOOL)a0;
- (id)displayNameUsingAccountNameIfSpecial:(BOOL)a0 allowOrphanedAlertString:(BOOL)a1;
- (void)enumerateDescendantsInOrder:(long long)a0 usingBlock:(id /* block */)a1;
- (void)enumerateVisibleChildrenHidingGmail:(BOOL)a0 usingBlock:(id /* block */)a1;
- (void)flushCriteria;
- (void)forceSaveUserInfo;
- (unsigned long long)indexToInsertChildMailbox:(id)a0;
- (id)initWithDictionaryRepresentation:(id)a0 copyUUID:(BOOL)a1;
- (id)initWithName:(id)a0 attributes:(unsigned long long)a1 forAccount:(id)a2;
- (id)initWithName:(id)a0 pathComponent:(id)a1 attributes:(unsigned long long)a2 forAccount:(id)a3;
- (void)invalidateChildren;
- (BOOL)isDescendantOfMailbox:(id)a0;
- (BOOL)isDescendantOfMailboxWithType:(int)a0;
- (BOOL)isEqualToSmartMailbox:(id)a0;
- (BOOL)isGmailWhiteMailboxOrDescendant:(BOOL)a0;
- (BOOL)isPointedToByCriterion:(id)a0 traversedMailboxes:(id)a1;
- (BOOL)isPointedToBySmartMailbox:(id)a0;
- (BOOL)isPointedToBySmartMailbox:(id)a0 traversedMailboxes:(id)a1;
- (BOOL)isStoreReadOnlyCreateIfNeeded:(BOOL)a0;
- (id /* block */)mailboxComparatorWithAccount:(id)a0;
- (id)modifiedVIPCriterionForInboxOnly;
- (id)mutableCopyOfChildren;
- (id)mutableCopyOfChildrenIncludingHiddenChildren:(BOOL)a0 hidingGmail:(BOOL)a1;
- (void)notifyForUnreadCount:(unsigned long long)a0 andOldUnreadCount:(unsigned long long)a1;
- (unsigned long long)numberOfSortedChildrenHidingGmail:(BOOL)a0;
- (unsigned long long)numberOfVisibleChildrenHidingGmail:(BOOL)a0;
- (id)pathRelativeToMailbox:(id)a0;
- (void)queueUpdateDisplayCountFromStatus:(unsigned long long)a0;
- (void)removeFromMessagesAtIndex:(unsigned long long)a0;
- (void)saveUserInfo;
- (id)selfOrOnlyVisibleChildHidingGmail:(BOOL)a0;
- (void)setFailedToOpen:(BOOL)a0 error:(id)a1;
- (void)setMessageCounts:(id)a0;
- (void)setName:(id)a0 pathComponent:(id)a1;
- (void)setPendingNameChange:(id)a0;
- (void)setPrimitiveAttributes:(unsigned long long)a0;
- (void)setUserInfoBool:(BOOL)a0 forKey:(id)a1;
- (void)setUserInfoIsDirty:(BOOL)a0;
- (void)sortChildren;
- (id)storeCreateIfNeeded:(BOOL)a0;
- (unsigned long long)suggestedDisplayIndexForChildMailbox:(id)a0 hidingGmail:(BOOL)a1;
- (id)unusedChildPathComponent:(id)a0;
- (BOOL)userInfoBoolForKey:(id)a0;
- (id)userInfoObjectForKey:(id)a0;
- (id)valueInMessagesWithUniqueID:(id)a0;
- (id)visibleChildAtIndex:(unsigned long long)a0;

@end
