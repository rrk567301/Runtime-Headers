@class NSMenu, VKCImageSubjectContext, NSString, NSImageView, VKCImageVisualSearchView, VKCImageCustomHighlightView, VKCImageAnalysisResult, VKCRemoveBackgroundRequestHandler, VKCAnalysisDebugMenuProvider, NSArray, VKCVisualSearchResultItem, NSTextField, NSAttributedString, NSObject, VKCActionInfoButton, VKCImageDataDetectorView, VKCActionInfoView, NSView, VKCImageTranslationView, NSScrollView, VKCRemoveBackgroundRequest, VKCImageTextSelectionView, NSImage, CALayer, VKCImageSubjectHighlightView, VKTextRange, NSIndexSet, NSNumber;
@protocol OS_dispatch_queue, VKCImageAnalysisBaseViewDelegate;

@interface VKCImageAnalysisBaseView : VKCImageBaseOverlayView <VKCImageBaseOverlayViewDelegate, VKCImageDataDetectorViewDelegate, VKCImageTextSelectionViewDelegate, VKCImageVisualSearchViewDelegate, VKCImageCustomHighlightViewDelegate, VKCImageSubjectHighlightViewDelegate, VKCImageSubjectBaseViewDelegate, VKAnalysisDebugInfoProvider, VKCActionInfoButtonDelegate, NSMenuDelegate, NSMenuItemValidation>

@property (retain, nonatomic) NSObject<OS_dispatch_queue> *backgroundQueue;
@property (retain, nonatomic) VKCImageTextSelectionView *textSelectionView;
@property (retain, nonatomic) VKCImageDataDetectorView *dataDetectorView;
@property (retain, nonatomic) VKCImageVisualSearchView *visualSearchView;
@property (retain, nonatomic) VKCImageTranslationView *translationView;
@property (retain, nonatomic) VKCImageCustomHighlightView *regexHighlightView;
@property (retain, nonatomic) VKCImageSubjectHighlightView *subjectHighlightView;
@property (readonly, nonatomic) VKCImageCustomHighlightView *regexHighlightViewIfExists;
@property (readonly, nonatomic) NSArray *keyPathsAffectingContentMode;
@property (nonatomic) BOOL didLogContentsRectError;
@property (nonatomic) unsigned long long checkForQuickActionsIndex;
@property (nonatomic) BOOL visibleTextAreaInfoIsValid;
@property (nonatomic) struct VKVisibleTextAreaInfo { double boundingBoxArea; double averageQuadHeight; double maxQuadHeight; double minQuadHeight; unsigned long long dataDetectors; } visibleTextAreaInfo;
@property (nonatomic) BOOL isAnalysisVisible;
@property (nonatomic) BOOL _hasActiveTextSelection;
@property (retain, nonatomic) NSArray *highlightStrings;
@property (retain, nonatomic) NSIndexSet *highlightStringsIndexSet;
@property (nonatomic) BOOL stringHighlightsActive;
@property (retain, nonatomic) NSImageView *debugImageView;
@property (retain, nonatomic) VKCRemoveBackgroundRequestHandler *removeBackgroundRequestHandler;
@property (retain, nonatomic) VKCRemoveBackgroundRequest *inProcessMaskRemoveBackgroundRequest;
@property (nonatomic) BOOL clientDidSetNormalizedRect;
@property (nonatomic) BOOL subjectHighlightFeatureFlagEnabled;
@property (nonatomic) BOOL highlightedMenuItemUpdateScheduled;
@property (retain, nonatomic) VKCActionInfoButton *copyAllQuickAction;
@property (retain, nonatomic) VKCActionInfoButton *translateQuickAction;
@property (retain, nonatomic) NSTextField *textInfoView;
@property (nonatomic) BOOL needsDataDetectorUnhideAfterDragImageRender;
@property (nonatomic) struct CGPoint { double x; double y; } currentMenuOpenPoint;
@property (nonatomic) BOOL isMenuOpen;
@property (weak, nonatomic) NSMenu *currentMenu;
@property (retain, nonatomic) NSNumber *menuInvokedVisualSearchPreActiveTypes;
@property (retain, nonatomic) VKCAnalysisDebugMenuProvider *debugMenuProvider;
@property (weak, nonatomic) NSScrollView *scrollViewToObserve;
@property (nonatomic) long long scrollViewToObserveCount;
@property (nonatomic) BOOL actionInfoHiddenForZoomAnimation;
@property (readonly, nonatomic) double currentExtraOffsetForViewScale;
@property (weak, nonatomic) VKCVisualSearchResultItem *vsItemPresentedFromMenu;
@property (weak, nonatomic) CALayer *layerForObservingContentsRect;
@property (weak, nonatomic) id loggingParentObject;
@property (weak, nonatomic) id<VKCImageAnalysisBaseViewDelegate> delegate;
@property (nonatomic) unsigned long long activeInteractionTypes;
@property (retain, nonatomic) VKCImageAnalysisResult *analysisResult;
@property (readonly, nonatomic) NSString *text;
@property (readonly, nonatomic) NSString *selectedText;
@property (readonly, nonatomic) NSAttributedString *selectedAttributedText;
@property (retain, nonatomic) NSArray *selectedRanges;
@property (nonatomic) BOOL isPublicAPI;
@property (nonatomic) BOOL highlightSelectableItems;
@property (nonatomic) BOOL subjectHighlightActive;
@property (readonly, nonatomic) BOOL isSubjectHighlightAvailable;
@property (readonly, nonatomic) BOOL isSubjectAnalysisComplete;
@property (readonly, nonatomic) BOOL subjectInteractionInProgress;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } subjectFrame;
@property (retain, nonatomic) NSImage *customImageForRemoveBackground;
@property (copy, nonatomic) NSIndexSet *activeSubjectIndexSet;
@property (readonly, nonatomic) NSIndexSet *allSubjectsIndexSet;
@property (nonatomic) BOOL subjectViewUserInteractionDisabled;
@property (nonatomic) BOOL inhibitSubjectDimmingAndLiftView;
@property (nonatomic) BOOL longPressDataDetectorsInTextMode;
@property (nonatomic) BOOL wantsAutomaticContentsRectCalculation;
@property (readonly, nonatomic) BOOL hasActiveTextSelection;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } visibleImageRect;
@property (readonly, nonatomic) NSArray *quickActions;
@property (nonatomic) unsigned long long dataDetectorTypes;
@property (weak, nonatomic) NSView *viewForObservingContentMode;
@property (retain, nonatomic) VKCActionInfoView *actionInfoView;
@property (readonly, nonatomic) NSArray *filteredNormalizedRectangleQuads;
@property (readonly, nonatomic) NSArray *filteredRectangleQuads;
@property (readonly, nonatomic) NSArray *rawRectangleObservations;
@property (nonatomic) BOOL isShowingTranslation;
@property (nonatomic) BOOL usesLightDimmingViewInLightMode;
@property (nonatomic) BOOL didAddVisualSearchCornerView;
@property (readonly, nonatomic) NSString *customAnalyticsIdentifier;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } contentsRect;
@property (readonly, nonatomic) VKTextRange *selectedRange;
@property (readonly, nonatomic) double totalQuadTextArea;
@property (readonly, nonatomic) double totalBoundingBoxTextArea;
@property (readonly, nonatomic) unsigned long long subjectRequestStatus;
@property (readonly, nonatomic) VKCImageSubjectContext *subjectContext;

+ (id)keyPathsForValuesAffectingHasActiveTextSelection;

- (void)dealloc;
- (id)init;
- (void).cxx_destruct;
- (void)layout;
- (void)observeValueForKeyPath:(id)a0 ofObject:(id)a1 change:(id)a2 context:(void *)a3;
- (id)hitTest:(struct CGPoint { double x0; double x1; })a0;
- (void)menu:(id)a0 willHighlightItem:(id)a1;
- (void)menuDidClose:(id)a0;
- (id)menuForEvent:(id)a0;
- (void)menuNeedsUpdate:(id)a0;
- (void)menuWillOpen:(id)a0;
- (void)mouseDown:(id)a0;
- (void)setBounds:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)setContentsRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)setFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)updateTrackingAreas;
- (void)viewDidMoveToWindow;
- (id)summaryDescription;
- (void)_copyImage:(id)a0;
- (void)clearSelection;
- (void)selectAll;
- (void)resetSelection;
- (BOOL)analysisContainsTextAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)beginImageSubjectAnalysisIfNecessary;
- (void)loadImageSubjectIfAvailableWithCompletion:(id /* block */)a0;
- (id)visualSearchResultItems;
- (void)loadImageSubjectWithIndexes:(id)a0 completion:(id /* block */)a1;
- (void)scrollViewDidZoomToUnitRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)convertButtonPressed:(id)a0;
- (void)beginImageSubjectAnalysisIfNecessaryWithCompletion:(id /* block */)a0;
- (void)highlightSubjectAtIndexSet:(id)a0 showCallout:(BOOL)a1 showBurst:(BOOL)a2 burstPoint:(struct CGPoint { double x0; double x1; })a3 animated:(BOOL)a4;
- (void)test_activateTranslationOverlay;
- (void)updateAndNotifyAfterValidNormalizedVisibleRectChangeIfNecessary;
- (void)clearTranslationViewIfNecessary;
- (BOOL)containsInteractiveItemAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)_logVisualSearchHintAvailabilityUpdate;
- (void)_shareImage:(id)a0;
- (void)_updateAnalysisVisibility;
- (void)actionInfoButtonDidActivatePrimaryAction:(id)a0;
- (void)addMetadataToVSFeedbackItem:(id)a0;
- (void)analysisDidUpdateForTypes:(unsigned long long)a0;
- (BOOL)analysisIsAllDataDetectors;
- (void)automaticallyShowVisualSearchResultsIfApplicable;
- (void)beginImageSubjectAnalysisWithDelayIfNecessary;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })calculateNormalizedVisibleRect;
- (struct VKVisibleTextAreaInfo { double x0; double x1; double x2; double x3; unsigned long long x4; })calculateVisibleTextAreaInfo;
- (void)checkForTranslationResultsWithCompletion:(id /* block */)a0;
- (void)clearDataDetectorViewIfNecessary;
- (void)clearRegexHighlightsAnimated:(BOOL)a0 updateActiveTypes:(BOOL)a1;
- (void)clearStringHighlightsAnimated:(BOOL)a0;
- (void)clearTextSelectionViewIfNecessary;
- (void)clearVisualSearchViewIfNecessary;
- (void)configureForActiveTypes:(unsigned long long)a0;
- (void)configureForCurrentActiveInteractionTypes;
- (BOOL)containsActionInfoItemAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (BOOL)containsImageSubjectAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (BOOL)containsTextAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (BOOL)containsVisualSearchItemAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)copyAllToClipboard;
- (void)copyButtonPressed:(id)a0;
- (id)copyImageMenuItem;
- (id)dataDetectorElementAtPoint:(struct CGPoint { double x0; double x1; })a0 fromTextSelectionView:(id)a1;
- (id)dataDetectorElementPoint:(struct CGPoint { double x0; double x1; })a0 requestingView:(id)a1;
- (unsigned long long)dataDetectorTypeAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)dataDetectorView:(id)a0 analyticsEventOccured:(id)a1;
- (void)dataDetectorView:(id)a0 showContextMenuWithEvent:(id)a1 element:(id)a2 locationInWindow:(struct CGPoint { double x0; double x1; })a3 eventType:(long long)a4;
- (void)debugButtonDidTap:(id)a0;
- (void)deleteDisposableFiles;
- (id)disposableFolderPath;
- (id)disposableSubjectPNGURLWithTitle:(id)a0;
- (id)generateSubjectImage;
- (void)generateTextualVisualSearchResultForQueryInfo:(id)a0 completionHandler:(id /* block */)a1;
- (void)generateVisualSearchResultForItems:(id)a0 queryID:(unsigned long long)a1 completionHandler:(id /* block */)a2;
- (void)highlightMatchesWithString:(id)a0 animated:(BOOL)a1;
- (void)highlightSubjectIfNecessaryForCurrentHighlightedItem;
- (void)highlightSubjectIfNecessaryForMenuItem:(id)a0;
- (id)highlightView:(id)a0 selectionRectsForRanges:(id)a1;
- (id)imageSubjectPathWithIndexes:(id)a0;
- (id)indexOfSubjectAtPoint:(struct CGPoint { double x0; double x1; })a0;
- (void)invalidateVisibleTextAreaInfo;
- (void)loadQuickActionsIfNecessary;
- (id)menuForCurrentTypesWithEvent:(id)a0;
- (id)nonTextNormalizedHighlightAllQuadsForTextSelectionView:(id)a0;
- (void)observedScrollViewContentBoundsDidChange:(id)a0;
- (BOOL)performTextActionWithSelector:(SEL)a0;
- (BOOL)presentVisualSearchForItem:(id)a0;
- (id)previewForDataDetectorElementView:(id)a0;
- (id)previewImageForDataDetectorElementView:(id)a0;
- (void)selectSubjectAtPointIfNecessary:(struct CGPoint { double x0; double x1; })a0;
- (void)sendActiveInteractionTypesDidChangeAnalyticsEvent;
- (void)sendAnalysisDidChangeAnalyticsEvent;
- (void)sendQuickActionAnalyticsWithDidBecomeVisible:(BOOL)a0;
- (void)sendVisualSearchAnalyticsWithDidBecomeActive:(BOOL)a0;
- (void)setHighlightSelectableItems:(BOOL)a0 animated:(BOOL)a1;
- (void)setIdentifierIndex:(long long)a0;
- (void)setNormalizedVisibleRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)setQuickActions:(id)a0;
- (id)shareImageMenuItem;
- (void)showMenuDebugOverlaysIfNecessary;
- (void)showTopVisualSearchResult;
- (void)subjectBaseView:(id)a0 analyticsEventOccurred:(id)a1;
- (void)subjectBaseViewDidBeginSubjectAnalysis:(id)a0;
- (void)subjectBaseViewGlowLayerActiveDidChange:(id)a0;
- (void)subjectBaseViewViewDidCompletePath:(id)a0;
- (void)subjectBaseViewViewDidCompleteSubjectAnalysis:(id)a0;
- (BOOL)subjectHighlightView:(id)a0 shouldBeginInteractionAtPoint:(struct CGPoint { double x0; double x1; })a1 withType:(unsigned long long)a2;
- (void)submitVisualSearchUserFeedbackForReportIdentifier:(id)a0 userFeedbackPayload:(id)a1 sfReportData:(id)a2;
- (void)tearDownQuickActions;
- (id)tempPNGURLForSubjectHighlightView:(id)a0;
- (void)textSelectionView:(id)a0 analyticsEventOccured:(id)a1;
- (void)textSelectionView:(id)a0 boundsDidChangeFromRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1 toRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a2;
- (id)textSelectionView:(id)a0 closestVisualSearchItemForRange:(id)a1;
- (BOOL)textSelectionView:(id)a0 dataDetectorExistsAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (void)textSelectionView:(id)a0 requestsDataDetectorActivationAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (void)textSelectionView:(id)a0 selectionDidChange:(id)a1;
- (BOOL)textSelectionView:(id)a0 shouldBeginAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (BOOL)textSelectionView:(id)a0 shouldHandleKeyDownEvent:(id)a1;
- (BOOL)textSelectionView:(id)a0 shouldHandleShareWithRanges:(id)a1 boundingRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a2 selectedText:(id)a3 selectedAttributedText:(id)a4;
- (BOOL)textSelectionView:(id)a0 shouldShowMenuForEvent:(id)a1;
- (BOOL)textSelectionView:(id)a0 shouldUpdateCursorForEvent:(id)a1;
- (id)textSelectionView:(id)a0 updateAttributedStringForCopy:(id)a1;
- (id)textSelectionView:(id)a0 updateStringForCopy:(id)a1;
- (void)textSelectionViewDidRenderDragImage:(id)a0;
- (void)textSelectionViewWillRenderDragImage:(id)a0;
- (void)translateButtonPressed:(id)a0;
- (void)triggerTapToRadar;
- (void)updateAndNotifyAfterValidNormalizedVisibleRectChange;
- (void)updateCurrentDisplayedViewContentsRect;
- (void)updateDebugButtonIfNecessary;
- (void)updateNormalizedVisibleRect;
- (void)updateNormalizedVisibleRectIfNecessary;
- (void)updateScrollViewToObserveIfNecessary;
- (void)updateSubjectHighlightForAnalysisCompletionIfNecessary;
- (void)updateSubviewsToMatchBounds;
- (id)viewForImageSnapshotForTextSelectionView:(id)a0;
- (void)visualSearchItemView:(id)a0 didTapVisualSearchIndicatorWithNormalizedBoundingBox:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1;
- (BOOL)visualSearchItemView:(id)a0 shouldBeginAtPoint:(struct CGPoint { double x0; double x1; })a1;
- (BOOL)visualSearchItemView:(id)a0 shouldShowMenuForEvent:(id)a1;
- (void)visualSearchItemViewDidActivateVSItem:(id)a0;
- (void)visualSearchItemViewDidDismissController:(id)a0;
- (void)visualSearchView:(id)a0 analyticsEventOccured:(id)a1;
- (id)visualSearchView:(id)a0 normalizedPathForSubjectAtNormalizedPoint:(struct CGPoint { double x0; double x1; })a1;
- (BOOL)visualSearchView:(id)a0 shouldShowDotForItem:(id)a1 allItems:(id)a2;
- (BOOL)visualSearchView:(id)a0 shouldShowMenuForEvent:(id)a1;
- (void)visualSearchView:(id)a0 showItemVSFromMenu:(id)a1;

@end
