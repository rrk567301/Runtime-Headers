@class NSArray, NSMutableDictionary, NSPointerArray, NSMapTable, NSMutableSet, NSURL;

@interface SafariAppExtensionsController : SafariExtensionsController <SFSafariExtensionHostDelegate, ExtensionToolbarItemProviding> {
    NSMutableDictionary *_contentBlockerToAssociatedAppExtensionMap;
    NSPointerArray *_extensionContexts;
    NSMapTable *_extensionToReusableContextMap;
    NSMutableDictionary *_extensionToReusableContextTimeout;
    NSMutableDictionary *_extensionToQueuedConnectionBlocks;
    NSMutableSet *_migratedPermissionExtensionIdentifiers;
    NSURL *_settingsFileURL;
}

@property (class, readonly, nonatomic) long long toolbarItemIdealPointSize;

@property (readonly, nonatomic) NSArray *appExtensionsForPerSitePreferences;

+ (id)_composedIdentifierForStateOfExtensionWithBundleIdentifier:(id)a0 developerIdentifier:(id)a1;
+ (id)_extensionsCrashReporterMessage;
+ (id)_contentScriptsFromExtensionDictionary:(id)a0;
+ (Class)_extensionDataClass;
+ (id)_extensionPointIdentifier;
+ (id)_skipLoadingEnabledExtensionsAtLaunchPreferenceKey;
+ (id)_styleSheetsFromExtensionDictionary:(id)a0;
+ (id)extensionIdentifierToBaseURIMapBundleParameterKey;
+ (id)extensionURLScheme;
+ (id)extensionWebsiteAccessForExtensionDictionary:(id)a0;
+ (id)extensionsCrashReporterMessageBundleParameterKey;

- (void).cxx_destruct;
- (id)profile;
- (id)_urlForExtensionSettings;
- (void)activateTab:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)closeTab:(id)a0 forExtensionWithUUID:(id)a1;
- (void)closeWindow:(id)a0 forExtensionWithUUID:(id)a1;
- (void)dispatchMessageWithName:(id)a0 fromExtensionWithUUID:(id)a1 toPage:(id)a2 userInfo:(id)a3;
- (void)getActivePageInTab:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getActiveTabInWindow:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getActiveWindowForExtensionWithUUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)getAllTabsInWindow:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getAllWindowsForExtensionWithUUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)getBaseURIOfExtensionWithUUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)getPagesInTab:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getPropertiesOfPage:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getScreenshotOfVisibleAreaForPage:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getTabForPage:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getToolbarItemInWindow:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)getWindowForTab:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)navigateTab:(id)a0 toURL:(id)a1 forExtensionWithUUID:(id)a2;
- (void)openTabInWindow:(id)a0 withURL:(id)a1 forExtensionWithUUID:(id)a2 makeActiveIfPossible:(BOOL)a3 completionHandler:(id /* block */)a4;
- (void)openWindowWithURL:(id)a0 forExtensionWithUUID:(id)a1 completionHandler:(id /* block */)a2;
- (void)reloadPage:(id)a0 forExtensionWithUUID:(id)a1;
- (void)setToolbarItem:(id)a0 forExtensionWithUUID:(id)a1 badgeText:(id)a2;
- (void)setToolbarItem:(id)a0 forExtensionWithUUID:(id)a1 imageData:(id)a2;
- (void)setToolbarItem:(id)a0 forExtensionWithUUID:(id)a1 isEnabled:(BOOL)a2;
- (void)setToolbarItem:(id)a0 forExtensionWithUUID:(id)a1 isEnabled:(BOOL)a2 withBadgeText:(id)a3;
- (void)setToolbarItem:(id)a0 forExtensionWithUUID:(id)a1 label:(id)a2;
- (void)setToolbarItemsNeedUpdateForExtensionWithUUID:(id)a0;
- (void)showPopoverFromToolbarItem:(id)a0 forExtensionWithUUID:(id)a1;
- (void)_extensionPermissionsDidChange:(id)a0;
- (id)allProfileExtensionsControllers;
- (long long)_accessLevelRequestedByExtension:(id)a0;
- (id)_browserTabForExtensionTab:(id)a0 includeHiddenTabs:(BOOL)a1;
- (BOOL)_canExtension:(id)a0 addHeadersToURL:(id)a1 inBrowserViewController:(id)a2;
- (BOOL)_canExtensionWithUUID:(id)a0 accessBrowserContentViewController:(id)a1;
- (BOOL)_canExtensionWithUUID:(id)a0 accessURL:(id)a1;
- (id)_cdHashForCodeSigningDictionary:(id)a0;
- (void)_connectContextToSessionWithRequestIdentifier:(id)a0 remoteViewController:(id)a1 completionHandler:(id /* block */)a2;
- (void)_connectToExtension:(id)a0 reason:(long long)a1 completionHandler:(id /* block */)a2;
- (void)_connectToExtension:(id)a0 shareExtensionContext:(BOOL)a1 reason:(long long)a2 completionHandler:(id /* block */)a3;
- (void)_connectToExtensionForValidation:(id)a0 untrustedCodeSigningDictionary:(id)a1 attemptRetryOnFailure:(BOOL)a2;
- (id)_contextMenuForExtensionDictionary:(id)a0 localizedInfoDictionary:(id)a1 extensionUUID:(id)a2;
- (id)_displayNameForExtension:(id)a0;
- (id)_displayVersionForExtension:(id)a0;
- (void)_enableExtension:(id)a0 completionHandler:(id /* block */)a1;
- (void)_executeQueuedBlocksForExtensionWithUUID:(id)a0 requestIdentifier:(id)a1 error:(id)a2;
- (BOOL)_extensionHasPopover:(id)a0;
- (id)_extensionURLToLoadFromPersistentStateURL:(id)a0;
- (void)_finishedLoadingExtensions;
- (void)_getAPIProxyForExtensionWithUUID:(id)a0 reason:(long long)a1 completionHandler:(id /* block */)a2;
- (void)_getAPIProxyForExtensionWithUUID:(id)a0 shareExtensionContext:(BOOL)a1 reason:(long long)a2 completionHandler:(id /* block */)a3;
- (void)_grantRequestedPermissionsIfNecessaryForExtension:(id)a0;
- (void)_insertToolbarItemForExtensionIfNecessary:(id)a0;
- (BOOL)_isBrowserViewController:(id)a0 visibleToExtensionWithUUID:(id)a1;
- (BOOL)_isTab:(id)a0 inProfile:(id)a1 visibleToExtension:(id)a2;
- (BOOL)_isTab:(id)a0 visibleToExtensionWithUUID:(id)a1;
- (BOOL)_isTrustedDeveloperForExtensionStateSyncForExtension:(id)a0;
- (BOOL)_isWindow:(id)a0 visibleToExtensionWithUUID:(id)a1;
- (void)_loadAssociatedContentBlockersForExtension:(id)a0;
- (void)_loadContentScriptsAndStylesheetsForExtension:(id)a0 withCodeRef:(struct __SecCode { } *)a1;
- (void)_loadContextMenuForExtension:(id)a0;
- (void)_loadEnabledExtension:(id)a0;
- (void)_loadToolbarItemForExtension:(id)a0 withCodeRef:(struct __SecCode { } *)a1;
- (id)_localizedContextMenuItemLabelForLocalizedInfoDictionary:(id)a0 withCommand:(id)a1;
- (id)_localizedToolbarItemLabelForLocalizedInfoDictionary:(id)a0 withIdentifier:(id)a1;
- (id)_persistentStateURLForExtensionURL:(id)a0;
- (void)_scheduleExpirationOfReusableContextForExtensionWithUUID:(id)a0;
- (BOOL)_shouldDisableExtensionIfAdditionalPermissionsAreRequired:(id)a0 previousExtensionState:(id)a1;
- (void)_showPromptForExtensionDisabledBecauseItHasRequestedAdditionalPermissions:(id)a0 extensionIdentifier:(id)a1;
- (id)_toolbarItemForExtensionDictionary:(id)a0 localizedInfoDictionary:(id)a1 extensionIdentifier:(id)a2 extensionUUID:(id)a3 imagePathForName:(id /* block */)a4 validateResourceHandler:(id /* block */)a5;
- (void)_unloadPreviouslyEnabledExtension:(id)a0;
- (void)_updateManagedPrivateBrowsingStateForAllExtensions;
- (void)_updateManagedWebsiteAccessForAllExtensions;
- (id)_updatedExtensionStateForCurrentPermissions:(id)a0 previousExtensionState:(id)a1;
- (void)_validateAllToolbarItemsForExtension:(id)a0;
- (id)_versionNumberForExtension:(id)a0;
- (BOOL)canAnyExtensionsAddHeadersToURL:(id)a0 inBrowserViewController:(id)a1;
- (void)completeRequestToExtensionWithUUID:(id)a0 withRequestIdentifier:(id)a1;
- (id)composedIdentifiersOfExtensionsWithAutomaticallyGrantedPermissions;
- (void)contentBlockerWithIdentifier:(id)a0 blockedResourceWithURL:(id)a1 inPageWithUUID:(id)a2;
- (id)contextMenuItemsForEnabledExtensionsForPageWithUUID:(id)a0 inProfile:(id)a1 inTab:(id)a2 url:(id)a3;
- (void)dispatchContextMenuItemSelected:(id)a0 toExtensionWithUUID:(id)a1 fromPageWithUUID:(id)a2 withUserInfo:(id)a3;
- (void)dispatchMessage:(id)a0 userInfo:(id)a1 fromPageWithUUID:(id)a2 toExtensionWithUUID:(id)a3;
- (void)dispatchMessageFromContainingAppWithName:(id)a0 userInfo:(id)a1 toExtension:(id)a2;
- (void)dispatchPopoverDidCloseInWindow:(id)a0 toExtensionWithUUID:(id)a1;
- (void)dispatchPopoverWillShowInWindow:(id)a0 toExtensionWithUUID:(id)a1;
- (void)dispatchToolbarItemClickedInWindow:(id)a0 toExtensionWithUUID:(id)a1;
- (void)dispatchValidateContextMenuItem:(id)a0 toExtensionWithUUID:(id)a1 fromPageWithUUID:(id)a2 validationHandler:(id /* block */)a3;
- (void)dispatchValidateToolbarItem:(id)a0 toExtensionWithUUID:(id)a1 inWindow:(id)a2;
- (id)extensionDataForExtension:(id)a0;
- (id)extensionStateKeysToCopy;
- (void)getExtensionHeadersForURL:(id)a0 inBrowserViewController:(id)a1 completionHandler:(id /* block */)a2;
- (id)initWithProfileServerID:(id)a0 userContentController:(id)a1;
- (void)invalidateContextMenuUserInfoForPageWithUUID:(id)a0;
- (BOOL)isTab:(id)a0 visibleToExtension:(id)a1;
- (id)lastSeenBaseURIForExtension:(id)a0 updatingWithCurrentBaseURI:(id)a1;
- (void)loadPopoverForExtensionWithUUID:(id)a0 completionHandler:(id /* block */)a1;
- (void)pageWithUUID:(id)a0 willNavigateToURL:(id)a1 inBrowserViewController:(id)a2;
- (void)setContextMenuEventUserInfo:(id)a0 forPageWithUUID:(id)a1 forExtensionWithUUID:(id)a2;
- (id)toolbarItemForIdentifier:(id)a0 browserWindowController:(id)a1 forToolbar:(BOOL)a2;
- (id)toolbarItemIdentifiersForBrowsingMode:(unsigned long long)a0;
- (id)userVisibleWebsiteAccessForExtension:(id)a0;

@end
