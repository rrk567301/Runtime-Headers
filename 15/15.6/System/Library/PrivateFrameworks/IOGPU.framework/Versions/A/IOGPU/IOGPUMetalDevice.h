@class NSLock, MTLResourceListPool, IOGPUMemoryInfo, MTLIOAccelService, hwResourcePoolCount, NSObject, IOGPUMetalDeviceShmemPool;
@protocol OS_dispatch_queue, OS_dispatch_source, MTLDeviceSPI;

@interface IOGPUMetalDevice : _MTLDevice {
    struct __IOGPUDevice { } *_deviceRef;
    MTLIOAccelService *_acceleratorService;
    struct { IOGPUMetalDeviceShmemPool *segmentListShmemPool; IOGPUMetalDeviceShmemPool *kernelCommandShmemPool; IOGPUMetalDeviceShmemPool *sidebandPool; hwResourcePoolCount **hwResourcePools; unsigned int x0; MTLResourceListPool *akResourceListPool; MTLResourceListPool *akPrivateResourceListPool; IOGPUMetalDeviceShmemPool *debugBufferShmemPool; } _storageCreateParams;
    struct IOGPUMetalCommandBufferStoragePool { struct gpuStorageQueue { struct IOGPUMetalCommandBufferStorage *x0; struct IOGPUMetalCommandBufferStorage **x1; } x0; struct os_unfair_lock_s { unsigned int x0; } x1; int x2; int x3; int x4; id x5; } *_commandBufferStoragePool;
    unsigned int _configBits;
    unsigned int _deviceBits;
    unsigned long long _textureRam;
    unsigned long long _videoRam;
    unsigned long long _sharedMemorySize;
    unsigned int _accelID;
    unsigned long long _segmentByteThreshold;
    unsigned int _peerMask;
    NSLock *_peerConnectionsLock;
    struct { IOGPUMetalDevice *device; int refCount; } _peerConnections[4];
    IOGPUMetalDeviceShmemPool *_ioKernelCommandListShmemPool;
    BOOL _disableGPUIO;
    struct IOGPUMetalSuballocator { } *_buffer_suballocator;
    NSObject<OS_dispatch_queue> *_device_dispatch_queue;
    NSObject<OS_dispatch_queue> *_device_pool_cleanup_queue;
    NSObject<OS_dispatch_source> *_device_pool_cleanup_source;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _device_pool_cleanup_lock;
    BOOL _device_pool_cleanup_scheduled;
    BOOL _device_pool_cleanup_requested;
    Class _bufferClass;
    unsigned long long _registryID;
    id<MTLDeviceSPI> _deviceWrapper;
}

@property (readonly) id *hwResourcePools;
@property (readonly) unsigned int hwResourcePoolCount;
@property (readonly) int numCommandBuffers;
@property (readonly) unsigned int acceleratorPort;
@property (readonly) unsigned long long sharedMemorySize;
@property (readonly) unsigned long long dedicatedMemorySize;
@property (readonly) unsigned long long recommendedMaxWorkingSetSize;
@property (readonly) unsigned long long registryID;
@property (readonly) unsigned long long peerGroupID;
@property (readonly) unsigned int peerIndex;
@property (readonly) unsigned int peerCount;
@property (readonly, getter=isLowPower) char lowPower;
@property (readonly, getter=isHeadless) char headless;
@property (readonly, getter=isRemovable) char removable;
@property (readonly) char hasUnifiedMemory;
@property (readonly) unsigned long long location;
@property (readonly) unsigned long long locationNumber;
@property (readonly) unsigned long long maxTransferRate;
@property (readonly) char supportsVertexAmplification;
@property (readonly) char supportPriorityBand;
@property (readonly) unsigned long long currentAllocatedSize;
@property (readonly) IOGPUMemoryInfo *memoryInfo;
@property (readonly) Class bufferClass;

+ (void)registerDevices;
+ (void)registerAcceleratorService:(id)a0;

- (void)dealloc;
- (void).cxx_destruct;
- (unsigned long long)maxBufferLength;
- (id)newIndirectCommandBufferWithDescriptor:(id)a0 maxCommandCount:(unsigned long long)a1 options:(unsigned long long)a2;
- (id)_deviceWrapper;
- (void)_setDeviceWrapper:(id)a0;
- (int)getSurfaceMode:(unsigned long long *)a0 width:(unsigned int *)a1 height:(unsigned int *)a2 forId:(unsigned int)a3;
- (id)indirectArgumentBufferDecodingData;
- (id)newAccelerationStructureWithBuffer:(id)a0 offset:(unsigned long long)a1;
- (id)newAccelerationStructureWithBuffer:(id)a0 offset:(unsigned long long)a1 resourceIndex:(unsigned long long)a2;
- (id)newAccelerationStructureWithSize:(unsigned long long)a0;
- (id)newAccelerationStructureWithSize:(unsigned long long)a0 resourceIndex:(unsigned long long)a1;
- (id)newArgumentEncoderWithLayout:(id)a0;
- (id)newCommandQueueWithDescriptor:(id)a0;
- (id)newEvent;
- (id)newEventWithOptions:(long long)a0;
- (id)newFence;
- (id)newGLDrawable;
- (id)newIOCommandQueueWithDescriptor:(id)a0 error:(id *)a1;
- (id)newIOFileHandleWithURL:(id)a0 compressionMethod:(long long)a1 error:(id *)a2;
- (id)newIOFileHandleWithURL:(id)a0 error:(id *)a1;
- (id)newIOHandleWithURL:(id)a0 compressionMethod:(long long)a1 error:(id *)a2;
- (id)newIOHandleWithURL:(id)a0 compressionType:(long long)a1 error:(id *)a2;
- (id)newIOHandleWithURL:(id)a0 error:(id *)a1;
- (id)newIndirectArgumentBufferLayoutWithStructType:(id)a0;
- (id)newIndirectArgumentEncoderWithLayout:(id)a0;
- (id)newIntersectionFunctionTableWithDescriptor:(id)a0;
- (id)newLateEvalEvent;
- (id)newTiledTextureWithBytesNoCopy:(void *)a0 length:(unsigned long long)a1 deallocator:(id /* block */)a2 descriptor:(id)a3 offset:(unsigned long long)a4 bytesPerRow:(unsigned long long)a5;
- (id)newTiledTextureWithBytesNoCopy:(void *)a0 length:(unsigned long long)a1 descriptor:(id)a2 offset:(unsigned long long)a3 bytesPerRow:(unsigned long long)a4;
- (id)newUncachedIOFileHandleWithURL:(id)a0 compressionMethod:(long long)a1 error:(id *)a2;
- (id)newUncachedIOFileHandleWithURL:(id)a0 error:(id *)a1;
- (id)newUncachedIOHandleWithURL:(id)a0 compressionType:(long long)a1 error:(id *)a2;
- (id)newUncachedIOHandleWithURL:(id)a0 error:(id *)a1;
- (void)setIndirectArgumentBufferDecodingData:(id)a0;
- (char)supportsResourceDetachBacking;
- (char)supportsVertexAmplificationCount:(unsigned long long)a0;
- (id)memoryInfo;
- (void)deallocBufferSubData:(id)a0 heapIndex:(short)a1 bufferIndex:(short)a2 bufferOffset:(unsigned long long)a3 length:(unsigned long long)a4;
- (void)_addResource:(id)a0;
- (void)_purgeDevice;
- (void)_removeResource:(id)a0;
- (void)_setAcceleratorService:(id)a0;
- (id)akPrivateResourceListPool;
- (id)akResourceListPool;
- (id)allocBufferSubDataWithLength:(unsigned long long)a0 options:(unsigned long long)a1 alignment:(unsigned long long)a2 heapIndex:(short *)a3 bufferIndex:(short *)a4 bufferOffset:(unsigned long long *)a5;
- (struct __IOGPUDevice { } *)deviceRef;
- (void)getBuiltInGPUProperties:(unsigned long long *)a0 transferRate:(unsigned long long *)a1;
- (void)getExternalGPUProperties:(unsigned long long *)a0 transferRate:(unsigned long long *)a1;
- (void)getSlottedGPUProperties:(unsigned long long *)a0 transferRate:(unsigned long long *)a1;
- (id)initWithAcceleratorPort:(unsigned int)a0;
- (unsigned int)initialKernelCommandShmemSize;
- (unsigned int)initialSegmentListShmemSize;
- (char)isBuiltIn;
- (char)isSlotted;
- (void)releasePeerConnection:(id)a0;
- (char)retainPeerConnection:(id)a0;
- (void)setComputePipelineStateCommandShmemSize:(unsigned int)a0;
- (void)setHwResourcePool:(id *)a0 count:(int)a1;
- (void)setSegmentListShmemSize:(unsigned int)a0;
- (void)updateGPUSelectionProperties;
- (id)allocBufferSubDataWithLength:(unsigned long long)a0 options:(unsigned long long)a1 alignment:(unsigned long long)a2 heapIndex:(short *)a3 bufferIndex:(short *)a4 bufferOffset:(unsigned long long *)a5 parentAddress:(unsigned long long)a6 parentLength:(unsigned long long)a7;
- (unsigned int)cmdBufArgsSize;
- (id)initWithAcceleratorPort:(unsigned int)a0 options:(unsigned long long)a1;
- (unsigned int)initialDebugBufferShmemSize;
- (unsigned int)initialIOKernelCommandListShmemSize;
- (unsigned int)initialSidebandShmemSize;

@end
