@class NSString, NSArray, IMDRelayPushHandler, IDSService, IMDRelayDeletionController, NSMutableDictionary, IMDService, IMOneTimeCodeUtilities, IMDRelayEnrollmentController;

@interface IMDRelayServiceController : NSObject <IMDRelayEnrollmentControllerDispatchDelegate, IMDRelayPushHandlerListener>

@property (readonly, nonatomic) char watchConnectedOverBT;
@property (readonly, nonatomic) NSString *dominentPhoneNumberAlias;
@property (readonly, nonatomic) char hasRelayDevice;
@property (readonly, nonatomic) char hasPeerDevices;
@property (readonly, nonatomic) NSArray *peerDevices;
@property (readonly, nonatomic) char isSMSRelayEnabled;
@property (retain, nonatomic) NSMutableDictionary *smsRelayBlockMap;
@property (readonly, nonatomic) IMDRelayDeletionController *deletionController;
@property (retain, nonatomic) IDSService *relayService;
@property (retain, nonatomic) IDSService *smsRelayService;
@property (retain, nonatomic) IDSService *smsWatchService;
@property (nonatomic) char isRegistered;
@property (retain, nonatomic) IMDRelayPushHandler *smsRelayPushHandler;
@property (retain, nonatomic) IMOneTimeCodeUtilities *otcUtilities;
@property (readonly, nonatomic) IMDRelayEnrollmentController *enrollmentController;
@property (readonly, nonatomic) char _localDeviceSupportsSMS;
@property (readonly, nonatomic) char _localDeviceSupportsEmergencySMS;
@property (readonly, nonatomic) char _canRelayMMS;
@property (readonly, nonatomic) NSString *_callerIDForRelay;
@property (readonly, nonatomic) IMDService *service;
@property (readonly, nonatomic) NSArray *accounts;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)sharedInstance;
+ (id)_convertIMDHandlesToArrayOfIDs:(id)a0;
+ (id)_convertIMDHandleToDictionary:(id)a0;
+ (id)_convertIMDHandlesToArray:(id)a0;
+ (id)_convertIMMessageItemDictionaryToIMMessageItem:(id)a0 timestamp:(id)a1;
+ (id)_convertIMMessageItemToIncomingRelayDictionary:(id)a0 chat:(id)a1 overridingAttachmentData:(id)a2;
+ (id)_convertIMMessageItemToOutgoingRelayDictionary:(id)a0 chat:(id)a1;
+ (id)_updateServiceOfMessageInMessageDict:(id)a0 toService:(id)a1;

- (void)dealloc;
- (id)init;
- (void).cxx_destruct;
- (id)pairedDevice;
- (void)service:(id)a0 account:(id)a1 identifier:(id)a2 didSendWithSuccess:(char)a3 error:(id)a4;
- (void)service:(id)a0 activeAccountsChanged:(id)a1;
- (void)service:(id)a0 devicesChanged:(id)a1;
- (id)_IDSService;
- (void)account:(id)a0 aliasesChanged:(id)a1;
- (id)_account;
- (id)localDevice;
- (char)_canRelayMessage:(id)a0 forChat:(id)a1 isOTC:(char *)a2;
- (void)sendRecoverCommand:(id)a0 forChatGUID:(id)a1;
- (void)_broadcastMessageEventWithCommand:(long long)a0 eventName:(id)a1 forGUID:(id)a2;
- (void)_broadcastMessageEventWithCommand:(long long)a0 eventName:(id)a1 forGUID:(id)a2 messageExtras:(id)a3;
- (void)_broadcastMessageEventWithCommand:(long long)a0 eventName:(id)a1 forGUID:(id)a2 messageExtras:(id)a3 shouldFilterRecipients:(char)a4 forcedCallerID:(id)a5;
- (id)_callerIDAccountFromSettings;
- (id)_callerIDForRelayAccountID:(id)a0;
- (void)_checkAndSetRelayService;
- (char)_checkMMSEnablementForPhoneNumber:(id)a0 simID:(id)a1;
- (void)_clearSMSRelayMapForMessageWithGUID:(id)a0;
- (id)_destinationForDevice:(id)a0 forcedIdentity:(id)a1;
- (id)_deviceForCallerID:(id)a0;
- (void)_executeSMSRelayBlockForMessageWithGUID:(id)a0;
- (void)_executeSMSRelayBlockForMessageWithGUID:(id)a0 category:(long long)a1 subCategory:(long long)a2;
- (id)_extraOptionsForReachabilityRelayWithRequestID:(id)a0;
- (void)_forwardMessageEventToLocalPeers:(id)a0 forGUID:(id)a1 metadata:(id)a2;
- (void)_forwardMessageToPeers:(id)a0 messageType:(long long)a1 guid:(id)a2 originalSender:(id)a3 hasAttachment:(char)a4 watchOnly:(char)a5 sentToDevices:(id *)a6 requiredCapabilities:(id)a7;
- (void)_handleCapabilitiesChanged:(id)a0;
- (char)_hasPhoneNumberAliasActive;
- (char)_isConnectedOverBT:(id)a0;
- (char)_isDefaultPairedDeviceRelayingLocally:(id)a0;
- (char)_localDeviceSupportsSMSAndDoesNotHaveAPhoneNumberForSIMID:(id)a0;
- (char)_localDeviceSupportsSMSAndHasAPhoneNumber;
- (long long)_maxWatchTransferSize;
- (char)_needsLowQualityTranscodeForMessage:(id)a0;
- (void)_prepareSMSRelayBlockForMessageDictionary:(id)a0 messageGUID:(id)a1 serviceName:(id)a2;
- (unsigned char)_readMMSUserOverrideForSingleSubscription;
- (void)_registerForAccountChanges;
- (void)_relayEditedMessage:(id)a0 messageGUID:(id)a1 serializedHandles:(id)a2 chatStyle:(unsigned char)a3 callerID:(id)a4;
- (void)_relayMessageDict:(id)a0 command:(long long)a1 messageID:(id)a2 forcedCallerID:(id)a3 didSendSMS:(char)a4 relayToWatchOnly:(char)a5 shouldDisableScreenTimeRestrictions:(char)a6 hasAttachments:(char)a7 requiredCapabilities:(id)a8;
- (void)_relayMessageDict:(id)a0 command:(long long)a1 messageID:(id)a2 forcedCallerID:(id)a3 didSendSMS:(char)a4 relayToWatchOnly:(char)a5 shouldDisableScreenTimeRestrictions:(char)a6 hasAttachments:(char)a7 sentToDevices:(id *)a8 extraOptions:(id)a9 requiredCapabilities:(id)a10;
- (void)_relayMessageDict:(id)a0 command:(long long)a1 messageID:(id)a2 forcedCallerID:(id)a3 didSendSMS:(char)a4 relayToWatchOnly:(char)a5 shouldDisableScreenTimeRestrictions:(char)a6 hasAttachments:(char)a7 sentToDevices:(id *)a8 requiredCapabilities:(id)a9;
- (void)_relayMessageDict:(id)a0 messageID:(id)a1 forcedCallerID:(id)a2 didSendSMS:(char)a3 relayToWatchOnly:(char)a4 shouldDisableScreenTimeRestrictions:(char)a5 hasAttachments:(char)a6 requiredCapabilities:(id)a7;
- (void)_relayMessageToPairedDevice:(id)a0 messageID:(id)a1 hasAttachments:(char)a2;
- (char)_relayMessageToPeers:(id)a0 forChat:(id)a1 serviceName:(id)a2 requiredCapabilities:(id)a3 reflectOnly:(char)a4 excludesWatch:(char)a5 onlyWatch:(char)a6 overridingAttachmentData:(id)a7;
- (void)_sendMessageToAllSMSRelayDevicesWithOptions:(id)a0;
- (void)_sendMessageToPairedDeviceWithOptions:(id)a0;
- (id)_sendOptionsForRelayMessage:(id)a0 command:(long long)a1 guid:(id)a2;
- (void)_setupIDSRelayServices;
- (void)_setupMMSObservation;
- (char)_storeSMSRelayExecutionBlock:(id /* block */)a0 forMessageGUID:(id)a1;
- (char)_syncedMMSEnabledValue;
- (void)_synchronizeMMSCapabilityToWatch:(char)a0;
- (void)_teardownMMSObservation;
- (id)accountForAlias:(id)a0 fromAccounts:(id)a1;
- (char)accountHasAlias:(id)a0 aliastoCheck:(id)a1;
- (void)didReceiveMessageError:(id)a0;
- (void)forwardMessageToPeers:(id)a0 messageType:(long long)a1 guid:(id)a2 originalSender:(id)a3;
- (void)forwardMessageToPeers:(id)a0 messageType:(long long)a1 guid:(id)a2 originalSender:(id)a3 hasAttachment:(char)a4 watchOnly:(char)a5;
- (void)forwardMessageToPeers:(id)a0 messageType:(long long)a1 guid:(id)a2 originalSender:(id)a3 watchOnly:(char)a4;
- (char)hasConnectedLocalDevice;
- (char)hasPhoneNumberAliasActiveCheckingSelf:(char)a0;
- (id)idsDeviceForFromID:(id)a0;
- (id)idsDeviceFromPushToken:(id)a0;
- (id)idsDeviceFromUniqueID:(id)a0;
- (char)isAliasActiveAndRelayCapable:(id)a0;
- (char)isAliasActiveAndRelayCapable:(id)a0 checkingSelf:(char)a1;
- (char)isAliasRelayCapable:(id)a0;
- (char)isAliasRelayCapable:(id)a0 checkingSelf:(char)a1;
- (char)isLocalDeviceProxyRegistered;
- (char)isProxyRegistered;
- (void)messageDelivered:(id)a0;
- (void)messageFailedToSend:(id)a0;
- (void)messageGUIDReadByRemote:(id)a0 timeRead:(id)a1;
- (void)messageReadByRemote:(id)a0;
- (void)messageSent:(id)a0 onService:(id)a1 compatibilityService:(id)a2;
- (void)messageSent:(id)a0 onService:(id)a1 compatibilityService:(id)a2 wasInterworked:(char)a3;
- (id)phoneAliasForDominentPhoneAlias:(id)a0 registeredPhoneNumber:(id)a1 preferedCallerID:(id)a2 CTPhoneNumber:(id)a3;
- (void)reflectGroupMutation:(id)a0 callerID:(id)a1 didOccurLocally:(char)a2;
- (char)relayDictionaryToPeers:(id)a0 requiresUpload:(char)a1 serviceName:(id)a2;
- (char)relayDictionaryToPeers:(id)a0 requiresUpload:(char)a1 serviceName:(id)a2 requiredCapabilities:(id)a3;
- (char)relayDictionaryToPeers:(id)a0 requiresUpload:(char)a1 serviceName:(id)a2 requiredCapabilities:(id)a3 excludedCapabilities:(id)a4 excludesWatch:(char)a5 onlyWatch:(char)a6;
- (char)relayDictionaryToPeers:(id)a0 requiresUpload:(char)a1 serviceName:(id)a2 requiredCapabilities:(id)a3 excludesWatch:(char)a4 onlyWatch:(char)a5;
- (void)relayMessage:(id)a0 chat:(id)a1 didSendSMS:(char)a2 attemptingReplication:(char)a3 forceReflection:(char)a4 relayToWatchOnly:(char)a5 shouldDisableScreenTimeRestrictions:(char)a6 callerID:(id)a7 iMessageCapability:(long long)a8 requiredCapabilities:(id)a9;
- (char)relayMessageToPeers:(id)a0 forChat:(id)a1 serviceName:(id)a2 reflectOnly:(char)a3 requiredCapabilities:(id)a4;
- (id)retrieveAccountAndPhoneAliasForAccounts:(id)a0 shouldFilterRecepients:(char)a1 requestProxySend:(char)a2 preferredCallerID:(id)a3;
- (id)retrievePhoneAccountAndPhoneAliasFromIDSAccounts:(id)a0;
- (char)sendDataToPeers:(id)a0 forcedCallerID:(id)a1 shouldFilterRecepients:(char)a2 requestProxySend:(char)a3 dontSendTo:(id)a4;
- (char)sendDataToPeers:(id)a0 forcedCallerID:(id)a1 shouldFilterRecepients:(char)a2 requestProxySend:(char)a3 dontSendTo:(id)a4 sentToDevices:(id *)a5;
- (char)sendDataToPeers:(id)a0 guid:(id)a1 forcedCallerID:(id)a2 shouldFilterRecepients:(char)a3 requestProxySend:(char)a4 dontSendTo:(id)a5 sentToDevices:(id *)a6;
- (void)sendDeleteCommand:(id)a0 forChatGUID:(id)a1;
- (void)sendEditedMessage:(id)a0 toChat:(id)a1 fromCallerID:(id)a2 backwardCompatabilityText:(id)a3;
- (char)sendEnrollmentRelatedMessageOverIDS:(id)a0 deviceToSendTo:(id)a1;
- (char)sendFileToLocalPeers:(id)a0 metadata:(id)a1;
- (id)sendReachabilityRequest:(id)a0 requestID:(id)a1;
- (void)sendReachabilityResponse:(id)a0 requestID:(id)a1 toToken:(id)a2 toIdentifier:(id)a3 fromIdentifier:(id)a4;
- (void)sendReadReceiptForMessage:(id)a0 toChat:(id)a1;
- (void)sendReadReceiptForMessage:(id)a0 toChat:(id)a1 reflectOnly:(char)a2;
- (void)sendReadReceiptForMessageGUID:(id)a0 timeRead:(id)a1;
- (void)sendReadReceiptForMessageGUID:(id)a0 timeRead:(id)a1 reflectOnly:(char)a2;
- (char)sendToLocalPeers:(id)a0;
- (void)updateMMSCapability;
- (void)updateRelayStatus;

@end
