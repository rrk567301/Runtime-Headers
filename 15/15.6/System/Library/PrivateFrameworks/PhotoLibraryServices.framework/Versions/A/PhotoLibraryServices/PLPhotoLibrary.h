@class PLGlobalValues, NSPersistentStore, PLGenericAlbum, NSObject, PLPhotoLibraryPathManager, NSMutableArray, PAVideoConversionServiceClient, PLThumbnailManager, NSString, NSSet, PLKeywordManager, PLManagedObjectContext, PLThumbnailIndexes, NSArray, PAImageConversionServiceClient, PLLibraryServicesManager, PLPhotoLibraryOptions, PLPhotoLibraryBundle;
@protocol PLAlbumProtocol;

@interface PLPhotoLibrary : NSObject {
    NSMutableArray *_transactionCompletionHandlers;
    PLGenericAlbum *_allImportedPhotosAlbum;
    PLGenericAlbum *_lastImportedPhotosAlbum;
    NSSet *_imageFileExtensions;
    NSSet *_rawImageFileExtensions;
    NSSet *_audioFileExtensions;
    NSSet *_extraVideoExtensions;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _managedObjectContextLock;
    PLManagedObjectContext *_managedObjectContext;
    NSPersistentStore *_loadedPersistentStore;
    PAImageConversionServiceClient *_imageConversionServiceClient;
    PAVideoConversionServiceClient *_videoConversionServiceClient;
}

@property (nonatomic) unsigned long long pendingTransactions;
@property (readonly) char isUnitTesting;
@property (readonly) PLPhotoLibraryBundle *libraryBundle;
@property (readonly) PLKeywordManager *keywordManager;
@property (readonly, retain, nonatomic) NSArray *syncedAlbums;
@property (readonly, retain, nonatomic) NSObject<PLAlbumProtocol> *syncProgressAlbum;
@property (readonly, retain, nonatomic) NSObject<PLAlbumProtocol> *otaRestoreProgressAlbum;
@property (readonly, retain, nonatomic) NSObject<PLAlbumProtocol> *filesystemImportProgressAlbum;
@property (readonly, nonatomic) PLPhotoLibraryOptions *options;
@property (readonly, nonatomic) unsigned long long role;
@property (readonly, nonatomic) PLManagedObjectContext *managedObjectContext;
@property (readonly, nonatomic) PLPhotoLibraryPathManager *pathManager;
@property (readonly, weak, nonatomic) PLLibraryServicesManager *libraryServicesManager;
@property (readonly, copy, nonatomic) NSString *name;
@property (readonly, getter=isCloudPhotoLibraryEnabled) char cloudPhotoLibraryEnabled;
@property (readonly, nonatomic) PAImageConversionServiceClient *imageConversionServiceClient;
@property (readonly, nonatomic) PAVideoConversionServiceClient *videoConversionServiceClient;
@property (readonly, nonatomic) PLThumbnailManager *thumbnailManager;
@property (readonly, nonatomic) PLThumbnailIndexes *thumbnailIndexes;
@property (readonly, copy, nonatomic) NSArray *photoStreamAlbums;
@property (readonly, copy, nonatomic) NSArray *photoStreamAlbumsForPreferences;
@property (readonly, nonatomic) PLGlobalValues *globalValues;

+ (id)sharedPhotoLibrary;
+ (char)canSaveVideoToLibrary:(id)a0;
+ (id)deferredPhotoPreviewDestinationURLForPrimaryAssetURL:(id)a0;
+ (char)isAudioFileExtension:(id)a0;
+ (char)isImageFileExtension:(id)a0;
+ (char)isVideoFileExtension:(id)a0;
+ (id)newPhotoLibraryWithName:(const char *)a0 loadedFromBundle:(id)a1 options:(id)a2 error:(id *)a3;
+ (id)newPhotoLibraryWithName:(const char *)a0 loadedFromURL:(id)a1 options:(id)a2 error:(id *)a3;
+ (char)shouldTryFastPathWithLibraryBundle:(id)a0;
+ (id)_stateDictionary;
+ (unsigned long long)CloudPhotoLibrarySize;
+ (void)_contextSaveFailedWithNSManagedObjectContextRecursiveSaveError:(id)a0;
+ (void)_contextSaveFailedWithNSManagedObjectConstraintValidationError:(id)a0;
+ (id)cmmPhotoLibrary;
+ (id)cplPhotoLibrary;
+ (id)opportunisticTaskIsolationQueue;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_ABORT_4_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_AUTH_23_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_BUSY_5_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_CANTOPEN_14_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_CONSTRAINT_19_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_CORRUPT_11_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_DONE_101_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_EMPTY_16_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_ERROR_1_SQLITE_ERROR_SNAPSHOT_769_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_ERROR_1_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_FORMAT_24_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_FULL_13_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_INTERNAL_2_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_INTERRUPT_9_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_IOERR_10_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_LOCKED_6_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_MISMATCH_20_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_MISUSE_21_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_NOLFS_22_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_NOMEM_7_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_NOTADB_26_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_NOTFOUND_12_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_NOTICE_27_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_OTHER_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_PERM_3_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_PROTOCOL_15_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_RANGE_25_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_READONLY_8_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_ROW_100_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_SCHEMA_17_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_TOOBIG_18_withCode:(int)a0;
+ (void)_abortFromMocExecFail_NSMOC_SQLITE_WARNING_28_withCode:(int)a0;
+ (void)_activateStatusTimer;
+ (void)_assetsLibrary_disableSharedPhotoStreamsSupport;
+ (char)_assetsLibrary_isSharedPhotoStreamsSupportEnabled;
+ (void)_context:(id)a0 saveFailedWithError:(id)a1;
+ (void)_contextSaveFailedDueToChangingSPL:(id)a0;
+ (void)_contextSaveFailedDueToClientRequestedShutdown:(id)a0;
+ (void)_contextSaveFailedWithCocoaError:(id)a0 message:(id)a1;
+ (void)_contextSaveFailedWithError:(id)a0;
+ (void)_contextSaveFailedWithNSManagedObjectValidationError:(id)a0;
+ (void)_contextSaveFailedWithNSPersistentStoreSaveError:(id)a0;
+ (void)_contextSaveFailedWithNSPersistentStoreTimeoutError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationDateTooLateError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationDateTooSoonError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationInvalidDateError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationInvalidURIError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationMissingMandatoryPropertyError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationMultipleErrorsError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationNumberTooLargeError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationNumberTooSmallError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationRelationshipDeniedDeleteError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationRelationshipExceedsMaximumCountError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationRelationshipLacksMinimumCountError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationStringPatternMatchingError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationStringTooLongError:(id)a0;
+ (void)_contextSaveFailedWithNSValidationStringTooShortError:(id)a0;
+ (void)_contextSaveFailedWithNoPersistentStores:(id)a0;
+ (void)_contextSaveFailedWithOtherCocoaError:(id)a0;
+ (void)_contextSaveFailedWithTimeoutError:(id)a0;
+ (id)_debugStatisticsDescription;
+ (void)_getResourceData:(id)a0 nonDerivativeSizeOut:(_Atomic unsigned long long *)a1 derivativesSizeOut:(_Atomic unsigned long long *)a2 fileBackedThumbnailsSizeOut:(_Atomic unsigned long long *)a3 tableThumbnailsSizeOut:(_Atomic unsigned long long *)a4;
+ (id)_internalSystemPhotoLibrary;
+ (void)_loadFileExtensionInformation;
+ (void)_registerStateHandler;
+ (id)_resourcesInfoFromMoc:(id)a0;
+ (struct os_state_data_s { unsigned int x0; union { unsigned int x0 : 32; unsigned int x1; } x1; struct os_state_data_decoder_s { char x0[64]; char x1[64]; } x2; char x3[64]; unsigned char x4[0]; } *)_stateDataWithHints:(struct os_state_hints_s { unsigned int x0; char *x1; unsigned int x2; unsigned int x3; } *)a0;
+ (void)_withDispatchGroup:(id)a0 onContext:(id)a1 synchronously:(char)a2 shouldSave:(char)a3 refreshAfterSave:(char)a4 performTransaction:(id /* block */)a5 completionHandler:(id /* block */)a6;
+ (char)areOpportunisticTasksDisabled;
+ (id)assetsLibraryPhotoLibrary;
+ (id)cameraPhotoLibrary;
+ (id)cloudSharingPhotoLibrary;
+ (void)configureEnumeratorForLibrarySizeInfo:(id)a0 completion:(id /* block */)a1;
+ (void)contextExecuteFailedWithSQLiteResultCode:(int)a0;
+ (id)diagnosticsPhotoLibrary;
+ (id)fileReservationForFileAtPath:(id)a0 exclusive:(char)a1;
+ (char)isAdjustmentEnvelopeExtension:(id)a0;
+ (char)isNonRawImageFileExtension:(id)a0;
+ (char)isRawImageFileExtension:(id)a0;
+ (id)librarySummarySizeDataRefWithManagedObjectContext:(id)a0;
+ (id)masterURLFromSidecarURLs:(id)a0;
+ (id)photoOutboundSharingTmpDirectoryURL;
+ (void)postGlobalPhotoLibraryAvailableIfNecessary;
+ (int)priorityForFileExtension:(id)a0;
+ (id)queueStatusDescription;
+ (void)refreshCachedCountsAndDates:(char)a0 onAssetsContainerClass:(Class)a1 inContext:(id)a2 withPredicate:(id)a3;
+ (void)refreshCachedCountsOnAllAssetContainersInContext:(id)a0;
+ (char)removeFaceMetadataAtURL:(id)a0 includingPeople:(char)a1;
+ (void)reportLibraryDidDealloc:(id)a0;
+ (void)reportLibraryDidInit:(id)a0;
+ (id)requestIdentifierFromDeferredIdentifier:(id)a0;
+ (id)savedPhotosOriginalsSizeWithSizeDataRef:(id)a0;
+ (id)savedPhotosReferenceMediaSizeWithSizeDataRef:(id)a0;
+ (void)setCloudAlbumSharingEnabled:(char)a0;
+ (void)setPhotoStreamEnabled:(char)a0;
+ (id)stringFromLibraryRole:(unsigned long long)a0;
+ (id)systemMainQueuePhotoLibrary;
+ (id)systemPhotoLibrary;
+ (char)systemPhotoLibraryIsObtainable;
+ (id)unitTestPhotoLibrary;

- (void)dealloc;
- (id)description;
- (id)init;
- (void).cxx_destruct;
- (void)performBlock:(id /* block */)a0;
- (void)performTransaction:(id /* block */)a0;
- (void)performBlockAndWait:(id /* block */)a0;
- (char)isWalrusEnabled;
- (id)objectWithObjectID:(id)a0;
- (void)invalidateWithReason:(id)a0;
- (void)performTransaction:(id /* block */)a0 completionHandler:(id /* block */)a1;
- (id)syncProgressAlbumsIgnoreiTunes:(char)a0;
- (id)albumListForAlbumOfKind:(int)a0;
- (id)assetWithUUID:(id)a0;
- (id)assetsdClient;
- (id)constraintsDirector;
- (void)countOfReferencedMediaWithCompletionHandler:(id /* block */)a0;
- (id)cplStatus;
- (id)fingerprintContext;
- (id)libraryID;
- (id)librarySizesFromDB:(char)a0;
- (id)mainScopeIdentifier;
- (id)managedObjectContextStoreUUID;
- (void)performBlock:(id /* block */)a0 completionHandler:(id /* block */)a1 withPriority:(long long)a2;
- (void)performBlockAndWait:(id /* block */)a0 completionHandler:(id /* block */)a1;
- (void)performTransaction:(id /* block */)a0 completionHandler:(id /* block */)a1 withPriority:(long long)a2;
- (void)performTransactionAndWait:(id /* block */)a0;
- (id)personInfoManager;
- (id)photoAnalysisClient;
- (void)signalBackgroundProcessingNeeded;
- (void)userExpungeAlbums:(id)a0;
- (void)userExpungeAssets:(id)a0 localOnlyDelete:(char)a1 expungeReasonFromClient:(id)a2;
- (void)userTrashAlbums:(id)a0;
- (void)userTrashAssets:(id)a0 withTrashedReason:(unsigned short)a1;
- (void)userUntrashAlbums:(id)a0;
- (void)userUntrashAssets:(id)a0;
- (void)_enumerateFilesAtURL:(id)a0 withBlock:(id /* block */)a1;
- (void)_reallyEnableOpportunisticTasks;
- (void)performBlock:(id /* block */)a0 completionHandler:(id /* block */)a1;
- (char)unloadDatabase:(id *)a0;
- (void)cleanupAfterImportAllDCIMAssets;
- (char)safeSave:(id)a0 error:(id *)a1;
- (id)syncedAlbumSubtitleStringFormat;
- (void)withDispatchGroup:(id)a0 performBlock:(id /* block */)a1;
- (void)_cancelAllDeferredPrewarming;
- (unsigned long long)_dbFileSizes;
- (void)_deleteEmptyImportAlbumsWithAddedAlbums:(id)a0;
- (void)_deleteObsoleteMetadataFiles;
- (void)_enumerateFilesAtURLs:(id)a0 withBlock:(id /* block */)a1;
- (id)_fetchCompleteAssetIDsWithValidatedSavedAssetTypeMask:(unsigned int)a0 context:(id)a1;
- (id)_fetchedObjectsForDeleteWithEntity:(id)a0 predicate:(id)a1 batchSize:(unsigned long long)a2 error:(id *)a3;
- (unsigned long long)_fileSizeAtPath:(id)a0;
- (void)_filterAlbums:(id)a0 toTrashableAlbums:(id *)a1 deletableAlbums:(id *)a2 otherAlbums:(id *)a3;
- (void)_filterAssets:(id)a0 toTrashableAssets:(id *)a1 deletableAssets:(id *)a2 otherAssets:(id *)a3;
- (char)_hasIncompleteAsset;
- (id)_initWithPathManager:(id)a0;
- (void)_inq_createPhotoStreamAlbumStreamID:(id)a0;
- (id)_internal_managedObjectContext;
- (char)_isUnknownAssetColumnError:(id)a0;
- (id)_loadClientDatabaseContextFastPath;
- (id)_loadClientDatabaseContextWithOptions:(id)a0 error:(id *)a1;
- (id)_loadDatabaseContextWithOptions:(id)a0 error:(id *)a1;
- (id)_loadServerDatabaseContextWithOptions:(id)a0 error:(id *)a1;
- (void)_markForRebuildAndAbortWithReason:(long long)a0 error:(id)a1;
- (void)_pauseChangeHandlingNotifications;
- (void)_photoLibraryCorruptNotification;
- (void)_photoLibraryForceClientExitNotification;
- (void)_processPhotoIrisSidecarIfNecessary:(id)a0 forAsset:(id)a1 mainFileMetadata:(id)a2;
- (void)_reallyDisableOpportunisticTasks;
- (void)_rebuildSocialGroups;
- (void)_recreateItemsFromMetadataAtDirectoryURLs:(id)a0 includeAlbums:(char)a1;
- (void)_removeOldFaceMetadataAsync;
- (void)_resumeChangeHandlingNotifications;
- (void)_safeSave:(id)a0;
- (void)_setManagedObjectContext:(id)a0;
- (void)_updateAssetCountKeyPath:(id)a0 withPendingCountKeyPath:(id)a1 inContext:(id)a2;
- (void)_updateMemoryCountKeyPath:(id)a0 withPendingCountKeyPath:(id)a1 inContext:(id)a2;
- (void)_userApplyTrashedState:(short)a0 toAlbums:(id)a1;
- (void)_userApplyTrashedState:(short)a0 toAssets:(id)a1 localOnlyDelete:(char)a2 trashedReason:(unsigned short)a3 expungeReasonFromClient:(id)a4;
- (void)_userDeleteAlbums:(id)a0;
- (void)_userDeleteAssets:(id)a0 withReason:(id)a1 localOnlyDelete:(char)a2;
- (void)addCompletionHandlerToCurrentTransaction:(id /* block */)a0;
- (id)addDCIMEntryAtFileURL:(id)a0 mainFileMetadata:(id)a1 previewImage:(id)a2 thumbnailImage:(id)a3 savedAssetType:(short)a4 replacementUUID:(id)a5 publicGlobalUUID:(id)a6 extendedInfo:(id)a7 withUUID:(id)a8 isPlaceholder:(char)a9 placeholderFileURL:(id)a10 forFinalCameraImage:(char)a11;
- (id)albumFromGroupURL:(id)a0;
- (id)albumListForContentMode:(int)a0;
- (id)albumWithUuid:(id)a0;
- (id)allImportedPhotosAlbum;
- (id)allImportedPhotosAlbumCreateIfNeeded:(char)a0;
- (id)assetURLForPhoto:(id)a0;
- (id)assetURLForPhoto:(id)a0 extension:(id)a1;
- (id)assetWithUUID:(id)a0 inContainer:(id)a1;
- (void)batchDeleteAssets:(id)a0 withReason:(id)a1;
- (char)batchDeleteAssetsWithPredicate:(id)a0 reason:(id)a1 error:(id *)a2;
- (char)batchDeleteObjectsWithEntity:(id)a0 predicate:(id)a1 error:(id *)a2;
- (void)cleanupIncompleteAssetsAfterOTARestore;
- (void)clearTransactionCompletionHandlers;
- (void)clientApplicationWillEnterForeground;
- (unsigned long long)countOfLocalAlbumsContainingAssets:(id)a0 assetsInSomeAlbumCount:(long long *)a1;
- (void)createPhotoStreamAlbumWithStreamID:(id)a0;
- (void)dataMigratorSupportCleanupModelForDataMigrationPurgeMissingSynced;
- (char)deleteAllDiagnosticFiles:(id *)a0;
- (void)deleteExpiredTrashedAssetsAndAlbums;
- (void)deleteExpiredTrashedResources;
- (void)deleteITunesSyncedContentForEnablingiCPL;
- (void)disableOpportunisticTasks;
- (void)enableOpportunisticTasks;
- (id)estimatedLibrarySizes;
- (id)eventAlbumContainingPhoto:(id)a0;
- (id)eventWithName:(id)a0 andImportSessionIdentifier:(id)a1;
- (char)getPhotoCount:(unsigned long long *)a0 videoCount:(unsigned long long *)a1;
- (char)getPhotoCount:(unsigned long long *)a0 videoCount:(unsigned long long *)a1 excludeTrashed:(char)a2 excludeInvisible:(char)a3 excludeCloudShared:(char)a4;
- (void)handlePersistentStoreRemoval:(id)a0;
- (void)handlePossibleCoreDataError:(id)a0;
- (char)hasCompletedMomentAnalysis;
- (char)hasCompletedRestorePostProcessing;
- (char)hasITunesSyncedContent;
- (char)hasPendingAssetsIgnoreiTunes:(char)a0;
- (id)iTunesSyncedContentInfo;
- (id)incompleteRestoreProcesses;
- (id)initWithName:(const char *)a0 libraryBundle:(id)a1 options:(id)a2;
- (char)isAlbumSynced:(id)a0;
- (char)isReadyForCloudPhotoLibrary;
- (id)lastImportedPhotosAlbum;
- (id)lastImportedPhotosAlbumCreateIfNeeded:(char)a0;
- (id)librarySizes;
- (id)librarySizesFromDB;
- (id)librarySizesFromDBForLibraryKindMask:(unsigned long long)a0;
- (char)loadDatabaseWithOptions:(id)a0 error:(id *)a1;
- (void)modifyDCIMEntryForPhoto:(id)a0;
- (unsigned long long)numberOfCPLSupportedAssetsOfKind:(short)a0 includingTrashedSinceDate:(id)a1;
- (unsigned long long)numberOfUnpushedAssetsOfKind:(short)a0;
- (void)old_refreshCachedCountsOnAllAssetContainersInContext:(id)a0;
- (void)performBlock:(id /* block */)a0 withPriority:(long long)a1;
- (void)performBlockAndWait:(id /* block */)a0 forceSave:(char)a1;
- (void)performTransaction:(id /* block */)a0 withPriority:(long long)a1;
- (void)performTransactionAndWait:(id /* block */)a0 completionHandler:(id /* block */)a1;
- (id)photoFromAssetURL:(id)a0;
- (id)photoOutboundSharingTmpDirectoryURL;
- (void)recreateAlbumsAndPersonsFromMetadata;
- (void)recreateMemoriesAndPersonsFromMetadata;
- (void)recreatePersonsFromMetadata;
- (void)repairSingletonObjects;
- (void)reportLibrarySizeToDAS;
- (void)resetCachedImportAlbumsIfNeededForAlbum:(id)a0;
- (unsigned long long)sharedStreamsSize;
- (id)shortLivedLibraryCopyByAppendingName:(const char *)a0;
- (id)transactionCompletionHandlers;
- (void)updateAssetPlayShareViewCountsInContext:(id)a0;
- (void)updateKeyAssetsInAlbums:(id)a0;
- (void)updateMemoryPlayShareViewCountsInContext:(id)a0;
- (void)withDispatchGroup:(id)a0 performTransaction:(id /* block */)a1;
- (void)withDispatchGroup:(id)a0 performTransaction:(id /* block */)a1 completionHandler:(id /* block */)a2;

@end
