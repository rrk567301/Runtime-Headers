@class NSString, FLLoggingContext, FLSQLiteDatabaseConnection, NSDate, NSObject;
@protocol OS_os_log;

@interface FLSQLitePersistence : NSObject

@property (readonly, copy, nonatomic) NSString *databasePath;
@property (retain, nonatomic) NSObject<OS_os_log> *log;
@property (retain, nonatomic) FLLoggingContext *context;
@property (nonatomic) struct sqlite3_stmt { } *insertRecordsStatement;
@property (nonatomic) struct sqlite3_stmt { } *iteratePayloadStatement;
@property (readonly, copy, nonatomic) NSString *storeIdentifier;
@property (nonatomic) _Atomic BOOL configured;
@property (nonatomic) unsigned long long maxBatchPayloadInBytes;
@property (nonatomic) unsigned long long maxAllowedDatabaseSizeInBytes;
@property (copy, nonatomic) NSString *currentBatchIdentifier;
@property (copy, nonatomic) NSDate *currentBatchCreationDate;
@property (nonatomic) unsigned long long currentBatchPayloadSize;
@property (nonatomic) unsigned long long currentBatchEventCount;
@property (nonatomic) double batchMaximumDuration;
@property (nonatomic) struct sqlite3_stmt { } *maxRowIdStatement;
@property (nonatomic) struct sqlite3 { } *db;
@property (retain, nonatomic) FLSQLiteDatabaseConnection *dbConnection;
@property (nonatomic) int user;

+ (id)batchStatusDescription:(int)a0;
+ (id)uploadStatusDescription:(int)a0;

- (void)dealloc;
- (void).cxx_destruct;
- (char)open;
- (char)vacuum;
- (void)closeDatabase;
- (char)createDatabase;
- (char)deleteDatabase;
- (int)getSchemaVersion;
- (char)closeAllBatches;
- (id)initWithStoreId:(id)a0 loggingContext:(id)a1;
- (char)updateStatusForUpload:(id)a0 toStatus:(int)a1;
- (void)observeInsertionAtRow:(long long)a0 observer:(id /* block */)a1;
- (char)purgeAllBatches;
- (char)__deleteStatementHelper:(const char *)a0 forUploadId:(id)a1;
- (char)__purgeStatementHelper:(const char *)a0 forBatchId:(id)a1;
- (id)_getBatchIdsHelper:(struct sqlite3_stmt { } *)a0;
- (id)_getUploadIdsHelper:(struct sqlite3_stmt { } *)a0;
- (char)_updateMetadataHelperForBatch:(id)a0 query:(const char *)a1;
- (char)_updateMetadataHelperForUpload:(id)a0 query:(const char *)a1;
- (char)_updateStatusHelperForBatch:(id)a0 toStatus:(int)a1;
- (char)_updateStatusHelperForUpload:(id)a0 toStatus:(int)a1;
- (char)canAddRecords;
- (long long)cleanupPurgableUploads;
- (char)closeOpenBatch;
- (char)closeOrphanedBatches;
- (char)deleteAllUploads;
- (char)deleteAllUploadsQueuedBefore:(id)a0;
- (char)deleteUploadWithIdentifier:(id)a0;
- (long long)doBatchesHousekeeping;
- (long long)doUploadHousekeeping;
- (char)executeInTransactionMultipleSQLStatements:(id)a0;
- (char)executeSQLStatement:(const char *)a0;
- (char)executeSQLStatement:(const char *)a0 usingTransaction:(char)a1;
- (void)finalizeObserver;
- (char)forceCloseOpenBatches;
- (id)getBatchIdsWithAllStatuses;
- (id)getBatchIdsWithStatus:(int)a0;
- (unsigned long long)getCurrentDatabaseSize;
- (int)getDataVersion;
- (char)getIntValueForPragma:(id)a0 into:(inout int *)a1;
- (id)getPurgableBatchIds;
- (id)getPurgableUploadIds;
- (id)getRecordsRangeStart:(long long)a0 end:(long long)a1;
- (id)getUploadIdsWithAllStatuses;
- (id)getUploadIdsWithStatus:(int)a0;
- (id)getUploadRecordWithId:(id)a0;
- (id)getUploadsRangeStart:(long long)a0 end:(long long)a1;
- (id)initWithStoreId:(id)a0 dbConnection:(id)a1 loggingContext:(id)a2;
- (char)initializeConnectionForUseBy:(int)a0;
- (char)initializeNewBatch;
- (char)isSchemaReady;
- (char)iteratePayloadForBatch:(id)a0 codeblock:(id /* block */)a1;
- (char)iterateUploadsWithCodeblock:(id /* block */)a0;
- (char)markBatchesforPurge;
- (char)markUploadsForPurge;
- (long long)maxRowId;
- (id)metadataForBatch:(id)a0 bundleID:(id)a1;
- (id)persist:(id)a0;
- (id)persist:(id)a0 preferredBatchSize:(unsigned long long)a1;
- (id)persistUploadPayload:(id)a0;
- (char)prepareSchema;
- (char)purgeBatch:(id)a0;
- (char)recoverOrphanedProcessingBatches;
- (char)recoverOrphanedProcessingUploads;
- (char)recreateDatabase;
- (id)registerInsertionObserver:(id /* block */)a0;
- (char)setDatabaseSizeLimit;
- (char)shouldIgnoreQuota;
- (char)tryPrepare:(const char *)a0 preparedStatement:(inout struct sqlite3_stmt **)a1;
- (char)tryRolloverBatchIfNecessary:(unsigned long long)a0 preferredBatchSize:(unsigned long long)a1;
- (char)updateSchema;
- (char)updateStatusForBatch:(id)a0 toStatus:(int)a1;

@end
