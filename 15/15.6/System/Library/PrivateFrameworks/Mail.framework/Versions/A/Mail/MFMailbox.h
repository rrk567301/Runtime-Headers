@class NSURL, MFMessageStore, NSDate, NSObject, MFCriterion, EMMailboxObjectID, NSEnumerator, NSDictionary, NSMutableIndexSet, MFMailAccount, EMSmartMailbox, NSString, NSImage, MFMailboxCountUpdater, MFMessageCounts, NSOperationQueue, NSArray, NSMutableSet, NSError;
@protocol OS_os_log, OS_dispatch_queue;

@interface MFMailbox : NSObject <EFLoggable, ECGmailLabel, MCMailbox, MFUIMailbox, EDIndexableMailbox, EFPubliclyDescribable, MFMailboxDisplayCountUpdater> {
    MFMailAccount *_account;
    NSMutableSet *_reservedPathComponents;
    id _countsLock;
    unsigned long long _displayCount;
    unsigned long long _unseenCount;
    unsigned long long _deletedCount;
    char _countsWereLoaded;
    struct __CFTree { } *_tree;
    NSString *_pendingNameChange;
    id _criteriaLock;
    NSArray *_criteria;
    long long _criteriaState;
    MFCriterion *_cachedCriterion;
    NSString *_realFullPath;
    unsigned long long _numberOfVisibleChildren;
    NSMutableIndexSet *_visibleChildrenIndexes;
    NSArray *_sortedChildren;
    char _sortedChildrenAreUpToDate;
    char _failedToOpen;
    NSError *_openFailureError;
    id _displayIndexLock;
    unsigned long long _displayIndex;
    char _isManuallySorted;
    char _isVisibleFlaggedMailbox;
    id _dontIndexFlagLock;
    char _dontIndexFlagWritten;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _mailboxTypeAndRepresentedAccountLock;
    MFMailAccount *_representedAccount;
    int _mailboxType;
    id _attributesLock;
    unsigned long long _attributes;
    id _deletionLock;
    char _deletionInProgress;
    id _statusCountsLock;
    char _useStatusCounts;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _cachedDisplayNameLock;
    struct EFAtomicObject { _Atomic long long cfObject; } _URLStringObject;
}

@property (class, readonly, nonatomic) NSObject<OS_os_log> *flagNameSyncLog;
@property (class, readonly) NSObject<OS_os_log> *log;

@property (copy, nonatomic) NSString *mailboxName;
@property (readonly, copy, nonatomic) NSArray *messages;
@property char storeIsReadOnly;
@property (copy) NSString *pathComponent;
@property char uuidUpdatedInDatabase;
@property char needsToSaveMailboxName;
@property (retain) NSOperationQueue *statusCountsQueue;
@property (retain, nonatomic) MFMessageCounts *savedDatabaseMessageCounts;
@property (nonatomic) char displayCountHasEverBeenSet;
@property (retain, nonatomic) NSString *cachedDisplayNameWithoutPIIExtended;
@property (copy) NSString *name;
@property (retain) EMSmartMailbox *emSmartMailbox;
@property char respectsMailboxExclusions;
@property unsigned long long attributes;
@property (readonly, nonatomic) char hasMessages;
@property (copy) NSString *syncId;
@property (readonly) MFCriterion *criterion;
@property (copy) NSArray *criteria;
@property char allCriteriaMustBeSatisfied;
@property unsigned long long displayIndex;
@property char isManuallySorted;
@property char isVisibleFlaggedMailbox;
@property (readonly) unsigned long long deletedCount;
@property char isPublicOrShared;
@property char isFirstTimeSync;
@property (retain) NSDate *lastSyncDate;
@property (readonly) MFMailAccount *account;
@property (readonly) char hasFirstTimeSyncBeenDetermined;
@property (readonly, nonatomic) char isRootMailbox;
@property (readonly, nonatomic, getter=isCustomNamedFlagMailbox) char customNamedFlagMailbox;
@property (copy) NSString *uuid;
@property (readonly) long long databaseID;
@property (readonly, nonatomic) EMMailboxObjectID *objectID;
@property (copy) NSString *flagColor;
@property long long unreadCountQueryObserverID;
@property (retain) MFMailAccount *representedAccount;
@property (readonly, copy, nonatomic) NSString *genericDisplayName;
@property (readonly, nonatomic) char canBeRenamed;
@property (readonly) char isSpecialMailbox;
@property (readonly, nonatomic) char isGeneric;
@property (readonly, nonatomic) char isSmartMailboxOrFolder;
@property (readonly, nonatomic) char isJunk;
@property (readonly, nonatomic) char isOutbox;
@property (readonly, nonatomic) char isSentMailbox;
@property (readonly, nonatomic) char isDraftsMailbox;
@property (copy) MFMailbox *parent;
@property (readonly, nonatomic) NSEnumerator *childEnumerator;
@property (readonly, nonatomic) NSEnumerator *depthFirstEnumerator;
@property (readonly) char isValid;
@property (readonly, nonatomic) char isStoreConvertibleToFolder;
@property (readonly, copy, nonatomic) NSString *fullPath;
@property (readonly, copy) NSString *realFullPath;
@property (readonly, copy, nonatomic) NSString *accountRelativeFilesystemPath;
@property (readonly, copy, nonatomic) NSString *accountRelativePath;
@property (readonly, nonatomic) NSURL *URL;
@property (readonly, copy, nonatomic) NSString *syncableURLString;
@property (readonly, nonatomic) char preferredMessageType;
@property (readonly, nonatomic) char isVisible;
@property (readonly, nonatomic) char isIndexable;
@property (copy) NSDictionary *userInfoDictionary;
@property (readonly, nonatomic) MFMessageStore *store;
@property (readonly, nonatomic) char failedToOpen;
@property (readonly) NSError *openFailureError;
@property (readonly, nonatomic) char displayIndexCanBeModified;
@property (readonly, nonatomic) char isValidDestinationMailbox;
@property (readonly, nonatomic) char isAllMailMailbox;
@property (readonly, copy, nonatomic) NSString *coreSpotlightIdentifier;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *storeCreationQueue;
@property (readonly, copy, nonatomic) NSArray *expandedUnifiedMailboxes;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) NSString *persistentID;
@property (readonly, copy, nonatomic) NSString *labelName;
@property (readonly) char isGmailImportantLabel;
@property (readonly) char isGmailStarredLabel;
@property (readonly, copy, nonatomic) NSString *displayName;
@property (readonly, copy, nonatomic) NSString *displayNameWithoutPII;
@property (readonly, copy, nonatomic) NSString *extendedDisplayName;
@property (readonly, copy, nonatomic) NSString *extendedDisplayNameWithoutPII;
@property (readonly, copy, nonatomic) NSString *URLString;
@property (readonly) unsigned long long unseenCount;
@property (readonly) char unseenCountIsKnown;
@property char useStatusCounts;
@property (readonly, nonatomic) char useTotalInsteadOfUnread;
@property (readonly) long long type;
@property int mailboxType;
@property (readonly, copy, nonatomic) NSString *persistentUIIdentifier;
@property (readonly, nonatomic) char isContainer;
@property (readonly) unsigned long long displayCount;
@property (readonly) unsigned long long numberOfChildren;
@property (readonly) char hasChildren;
@property (readonly, copy) NSArray *children;
@property (readonly, nonatomic) char isStore;
@property (readonly, nonatomic) char isSpotlightMailbox;
@property (readonly, copy, nonatomic) NSString *accountURLString;
@property (readonly, nonatomic) char isPlaceholder;
@property (readonly, nonatomic) char isLocal;
@property (readonly, nonatomic) char isAccountActive;
@property (readonly, nonatomic) NSImage *accountIcon;
@property (readonly, copy, nonatomic) NSString *ef_publicDescription;
@property (readonly, copy, nonatomic) NSString *ef_shortPublicDescription;
@property (retain, nonatomic) MFMailboxCountUpdater *displayCountUpdater;

+ (void)initialize;
+ (char)mailboxTypeAllowsDeduplication:(int)a0;
+ (void)_switchMailboxTypesToPersistedTypesForMailboxDictionary:(id)a0 isRoot:(char)a1;
+ (id)mailboxForDisplayForMessageMailbox:(id)a0 gmailLabels:(id)a1 mailboxCriteria:(id)a2;
+ (char)mailboxTypeAllowsConversations:(int)a0;
+ (id)_mailboxesFromCriterion:(id)a0;
+ (void)_removeLocalProperties:(id)a0 fromSmartMailboxes:(id)a1;
+ (id)_smartMailboxWithIdentifier:(id)a0 inArray:(id)a1;
+ (void)_switchMailboxTypesFromPersistedTypesForMailboxDictionary:(id)a0;
+ (char)logMailboxUUIDErrors;
+ (id)mailboxForDisplayForMessage:(id)a0 mailboxCriteria:(id)a1;
+ (id)mailboxFromPath:(id)a0;
+ (char)mailboxTypeIsAlwaysUnread:(int)a0;
+ (id)mailboxWithIdentifier:(id)a0;
+ (void)queueUpdateCountsForMailboxes:(id)a0;
+ (void)reimportJunk;
+ (void)setCanMarkUserInfoAsDirty:(char)a0;
+ (void)setShouldIndexJunk:(char)a0;
+ (void)setShouldIndexTrash:(char)a0;
+ (void)setSmartMailboxes:(id)a0;
+ (id)smartMailboxWithIdentifier:(id)a0;
+ (id)smartMailboxes;
+ (void)test_cancelPersistingUserInfo;
+ (void)test_waitForMessageCountUpdatesToFinish;

- (void)dealloc;
- (id)copyWithZone:(struct _NSZone { } *)a0;
- (id)init;
- (void).cxx_destruct;
- (void)invalidate;
- (void)setUserInfoObject:(id)a0 forKey:(id)a1;
- (id)objectSpecifier;
- (id)childAtIndex:(unsigned long long)a0;
- (id)dictionaryRepresentation;
- (char)setChildren:(id)a0;
- (id)initWithAccount:(id)a0;
- (void)prepareForDeletion;
- (id)deepCopy;
- (void)setDisplayCount:(unsigned long long)a0;
- (unsigned long long)indexOfChild:(id)a0;
- (id)_loadUserInfo;
- (char)_userInfoIsDirty;
- (id)childWithName:(id)a0;
- (id)initWithMailbox:(id)a0;
- (void)_bucketMailbox:(id)a0 sortedIntoTopSection:(id)a1 appendedToRemainingSection:(id)a2;
- (id)_displayNameWithoutPIIExtended:(char)a0;
- (void)_saveMailboxesWithDirtyUserInfo;
- (id)sortedChildAtIndex:(unsigned long long)a0 hidingGmail:(char)a1;
- (id)_URLStringIsSyncable:(char)a0;
- (id)_URLStringWithAccount:(id)a0;
- (void)_VIPSendersChanged:(id)a0;
- (id)_abGroupsUsedInCriteria;
- (void)_addressBookDidChange:(id)a0;
- (id)_ancestralAccount;
- (id)_displayNameForAccount:(id)a0 type:(int)a1 name:(id)a2;
- (void)_enqueueUnreadCountChangeNotification;
- (id)_gmailWhiteMailboxChild;
- (void)_invalidateVisibleChildrenCaches;
- (char)_isVisibleMailboxType:(int)a0;
- (id)_mailboxExclusionCriteria;
- (id)_privacySafeDescription;
- (void)_registerForCriteriaNotificationsForSpotlightMailbox;
- (void)_resetCachedURLString;
- (void)_saveMailboxNameIfNeeded;
- (void)_saveMailboxesWithDirtyUserInfoWithDelay;
- (void)_setDisplayCountWithMessageCounts:(id)a0;
- (id)_stringByAppendingPathComponentsToAccountPath:(id)a0 relativeToTree:(struct __CFTree { } *)a1 generateFileSystemPath:(char)a2;
- (void)_updateDontIndexFlagFile;
- (void)_updateSortedChildrenIfNeeded;
- (void)_userInfoDidLoad:(id)a0;
- (id)_vipSendersCriterion:(id)a0;
- (id)applescriptAccount;
- (id)applescriptChildren;
- (id)applescriptContainer;
- (void)assignNewUUID;
- (void)cancelUnreadCountQuery;
- (id)childEnumeratorIncludingHiddenChildren:(char)a0;
- (id)childWithPathComponent:(id)a0;
- (char)criteriaAreValid:(id *)a0;
- (id)dictionaryRepresentationIncludePII:(char)a0;
- (id)displayNameUsingAccountNameIfSpecial:(char)a0;
- (id)displayNameUsingAccountNameIfSpecial:(char)a0 allowOrphanedAlertString:(char)a1;
- (void)enumerateDescendantsInOrder:(long long)a0 usingBlock:(id /* block */)a1;
- (void)enumerateVisibleChildrenHidingGmail:(char)a0 usingBlock:(id /* block */)a1;
- (void)flushCriteria;
- (void)forceSaveUserInfo;
- (unsigned long long)indexToInsertChildMailbox:(id)a0;
- (id)initWithDictionaryRepresentation:(id)a0 copyUUID:(char)a1;
- (id)initWithName:(id)a0 attributes:(unsigned long long)a1 forAccount:(id)a2;
- (id)initWithName:(id)a0 pathComponent:(id)a1 attributes:(unsigned long long)a2 forAccount:(id)a3;
- (void)invalidateChildren;
- (char)isDescendantOfMailbox:(id)a0;
- (char)isDescendantOfMailboxWithType:(int)a0;
- (char)isEqualToSmartMailbox:(id)a0;
- (char)isGmailWhiteMailboxOrDescendant:(char)a0;
- (char)isPointedToByCriterion:(id)a0 traversedMailboxes:(id)a1;
- (char)isPointedToBySmartMailbox:(id)a0;
- (char)isPointedToBySmartMailbox:(id)a0 traversedMailboxes:(id)a1;
- (char)isStoreReadOnlyCreateIfNeeded:(char)a0;
- (id /* block */)mailboxComparatorWithAccount:(id)a0;
- (id)modifiedVIPCriterionForInboxOnly;
- (id)mutableCopyOfChildren;
- (id)mutableCopyOfChildrenIncludingHiddenChildren:(char)a0 hidingGmail:(char)a1;
- (void)notifyForUnreadCount:(unsigned long long)a0 andOldUnreadCount:(unsigned long long)a1;
- (unsigned long long)numberOfSortedChildrenHidingGmail:(char)a0;
- (unsigned long long)numberOfVisibleChildrenHidingGmail:(char)a0;
- (id)pathRelativeToMailbox:(id)a0;
- (void)queueUpdateDisplayCountFromStatus:(unsigned long long)a0;
- (void)removeFromMessagesAtIndex:(unsigned long long)a0;
- (void)saveUserInfo;
- (id)selfOrOnlyVisibleChildHidingGmail:(char)a0;
- (void)setFailedToOpen:(char)a0 error:(id)a1;
- (void)setMessageCounts:(id)a0;
- (void)setName:(id)a0 pathComponent:(id)a1;
- (void)setPendingNameChange:(id)a0;
- (void)setPrimitiveAttributes:(unsigned long long)a0;
- (void)setUserInfoBool:(char)a0 forKey:(id)a1;
- (void)setUserInfoIsDirty:(char)a0;
- (void)sortChildren;
- (id)storeCreateIfNeeded:(char)a0;
- (unsigned long long)suggestedDisplayIndexForChildMailbox:(id)a0 hidingGmail:(char)a1;
- (id)unusedChildPathComponent:(id)a0;
- (char)userInfoBoolForKey:(id)a0;
- (id)userInfoObjectForKey:(id)a0;
- (id)valueInMessagesWithUniqueID:(id)a0;
- (id)visibleChildAtIndex:(unsigned long long)a0;

@end
