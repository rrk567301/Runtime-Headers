@class NSMutableDictionary, PFSlowMotionTimeRangeMapper, NSObject, PXDisplayLink, NSMutableArray, PXPhotosensitivityProcessing, AVPlayerItemVideoOutput, ISWrappedAVAudioSession, NSString, AVPlayerItem, ISWrappedAVPlayer, NSTimer, NSMutableSet, PXVideoContentProvider, PXVideoPlaybackReporter, PXNumberAnimator, NSError, NSLock;
@protocol OS_dispatch_queue, PXAVResourceReclamationController, PXVideoSessionDelegate;

@interface PXVideoSession : PXObservable <ISChangeObserver, AVPlayerItemOutputPullDelegate, PXChangeObserver, ISWrappedAVPlayerDelegate, ISWrappedAVAudioSessionVolumeObserver, PXAVResourceReclamationObserver> {
    NSTimer *_playerTimeAdvancementTimer;
    void *_updateQueueIdentifier;
    id<PXAVResourceReclamationController> _resourceReclamationController;
    NSObject<OS_dispatch_queue> *_audioSessionQueue;
    NSObject<OS_dispatch_queue> *_videoWorkQueue;
    NSObject<OS_dispatch_queue> *_stateQueue;
    NSObject<OS_dispatch_queue> *_updateQueue;
    NSMutableArray *_mainQueue_videoViewQueue;
    NSMutableDictionary *_stateQueue_presentationStatesByContext;
    NSMutableSet *_stateQueue_pixelBufferOutputTokens;
    NSMutableDictionary *_stateQueue_pixelBufferOutputSizesByTokens;
    NSMutableSet *_stateQueue_pixelBufferPausedOutputTokens;
    id _stateQueue_playbackTimeRangeEndBoundaryObserver;
    long long _stateQueue_playState;
    NSString *_stateQueue_audioSessionCategory;
    unsigned long long _stateQueue_audioSessionCategoryOptions;
    NSString *_stateQueue_audioSessionMode;
    unsigned long long _stateQueue_audioSessionRouteSharingPolicy;
    char _stateQueue_isUpdatingAudioSession;
    char _stateQueue_buffering;
    long long _stateQueue_desiredPlayState;
    AVPlayerItemVideoOutput *_stateQueue_videoOutput;
    struct CGSize { double width; double height; } _stateQueue_videoOutputSize;
    char _stateQueue_videoOutputIsReady;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _stateQueue_videoDuration;
    AVPlayerItem *_stateQueue_currentPlayerItem;
    char _stateQueue_isPlayerTimeAdvancing;
    long long _stateQueue_audioStatus;
    AVPlayerItem *_stateQueue_playerItem;
    PFSlowMotionTimeRangeMapper *_stateQueue_timeRangeMapper;
    struct { struct { long long value; int timescale; unsigned int flags; long long epoch; } start; struct { long long value; int timescale; unsigned int flags; long long epoch; } duration; } _stateQueue_segmentTimeRangeOfOriginalVideo;
    char _stateQueue_isPlayable;
    char _stateQueue_isStalled;
    char _stateQueue_isLoopingEnabled;
    struct { struct { long long value; int timescale; unsigned int flags; long long epoch; } start; struct { long long value; int timescale; unsigned int flags; long long epoch; } duration; } _stateQueue_playbackTimeRange;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _stateQueue_playbackStartTime;
    float _stateQueue_volume;
    char _stateQueue_shouldFadeVolumeChange;
    char _stateQueue_seekToBeginningAtEnd;
    char _stateQueue_isAtEnd;
    char _stateQueue_isAtBeginning;
    struct CGAffineTransform { double a; double b; double c; double d; double tx; double ty; } _stateQueue_preferredTransform;
    struct CGSize { double width; double height; } _stateQueue_naturalSize;
    float _stateQueue_nominalFrameRate;
    struct __CVBuffer { } *_stateQueue_currentPixelBuffer;
    char _stateQueue_obtainedFirstPixelBuffer;
    long long _stateQueue_pixelBufferFrameDrops;
    char _stateQueue_readyForSeeking;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _stateQueue_currentTime;
    NSLock *_stateQueue_isPlayableLock;
    NSLock *_stateQueue_readyForSeekingLock;
    NSLock *_stateQueue_videoOutputReadyLock;
    char _stateQueue_shouldDisableAutomaticPixelBufferUpdates;
    ISWrappedAVPlayer *_stateQueue_videoPlayer;
    id _stateQueue_playerTimeObservationToken;
    ISWrappedAVAudioSession *_stateQueue_audioSession;
    double _stateQueue_desiredPlaybackRate;
    struct { unsigned long long needsUpdate; unsigned long long updated; char isPerformingUpdate; char willPerformUpdate; } _updateQueue_updateFlags;
    long long _updateQueue_pendingPlayerItemSeekCount;
    char _updateQueue_didFinishInitializingAudioSession;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _updateQueue_lastPlayerTime;
    long long _updateQueue_playRequestIntervalSignpost;
    PXVideoPlaybackReporter *_playbackReporter;
    PXNumberAnimator *_mainQueue_volumeAnimator;
    PXDisplayLink *_mainQueue_displayLink;
    char _sharedLock_has4k60Allowance;
}

@property (nonatomic, getter=isBuffering) char buffering;
@property (nonatomic, setter=setAtBeginning:) char isAtBeginning;
@property (nonatomic, setter=setAtEnd:) char isAtEnd;
@property (nonatomic, setter=setStalled:) char isStalled;
@property (nonatomic) struct { long long value; int timescale; unsigned int flags; long long epoch; } currentTime;
@property (nonatomic) long long audioStatus;
@property (nonatomic, setter=setUpdatingAudioSession:) char isUpdatingAudioSession;
@property (nonatomic) struct { long long x0; int x1; unsigned int x2; long long x3; } videoDuration;
@property (nonatomic) struct __CVBuffer { } *currentPixelBuffer;
@property (nonatomic) struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; } preferredTransform;
@property (nonatomic) struct CGSize { double x0; double x1; } naturalSize;
@property (nonatomic) float nominalFrameRate;
@property (readonly, nonatomic) AVPlayerItemVideoOutput *videoOutput;
@property (readonly, nonatomic) struct CGSize { double x0; double x1; } videoOutputSize;
@property (nonatomic) char isVideoOutputReady;
@property (readonly, nonatomic) char isExpectingVideoView;
@property (readonly, nonatomic) PXPhotosensitivityProcessing *photoSensitivityProcessing;
@property (readonly, nonatomic) double desiredPlaybackRate;
@property (weak, nonatomic) id<PXVideoSessionDelegate> delegate;
@property (readonly, nonatomic) PXVideoContentProvider *contentProvider;
@property (readonly, nonatomic) AVPlayerItem *playerItem;
@property (readonly, nonatomic) PFSlowMotionTimeRangeMapper *timeRangeMapper;
@property (readonly, nonatomic) long long playState;
@property (readonly, nonatomic) char isSegmentOfOriginalVideo;
@property (readonly, nonatomic) struct { struct { long long x0; int x1; unsigned int x2; long long x3; } x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; } segmentTimeRangeOfOriginalVideo;
@property (readonly, nonatomic) float volume;
@property (readonly, copy, nonatomic) NSString *audioSessionCategory;
@property (readonly, nonatomic) NSString *audioSessionMode;
@property (readonly, nonatomic) unsigned long long audioSessionRouteSharingPolicy;
@property (readonly, nonatomic) NSError *error;
@property (readonly, nonatomic) NSString *debugDetailedDescription;
@property (readonly, nonatomic) NSString *statusDescription;
@property (readonly, nonatomic) char isPlayable;
@property (readonly, nonatomic) long long desiredPlayState;
@property (readonly, nonatomic) char preventsSleepDuringVideoPlayback;
@property (readonly, nonatomic) char allowsExternalPlayback;
@property (readonly, nonatomic, getter=isLoopingEnabled) char loopingEnabled;
@property (readonly, nonatomic) struct { struct { long long x0; int x1; unsigned int x2; long long x3; } x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; } playbackTimeRange;
@property (readonly, nonatomic) struct { long long x0; int x1; unsigned int x2; long long x3; } playbackStartTime;
@property (readonly, nonatomic) char seekToBeginningAtEnd;
@property (readonly, nonatomic) char isReadyForSeeking;
@property (readonly, nonatomic) char shouldDisableAutomaticPixelBufferUpdates;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (void)dealloc;
- (id)init;
- (void).cxx_destruct;
- (void)setPlayState:(long long)a0;
- (void)seekToTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 toleranceBefore:(struct { long long x0; int x1; unsigned int x2; long long x3; })a1 toleranceAfter:(struct { long long x0; int x1; unsigned int x2; long long x3; })a2 completionHandler:(id /* block */)a3;
- (void)cancelLoading;
- (void)outputMediaDataWillChange:(id)a0;
- (void)seekToTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 completionHandler:(id /* block */)a1;
- (void)setAllowsExternalPlayback:(char)a0;
- (void)setLoopingEnabled:(char)a0;
- (void)setVideoPlayer:(id)a0;
- (id)videoPlayer;
- (void)setPlayable:(char)a0;
- (void)performChanges:(id /* block */)a0;
- (unsigned long long)audioSessionCategoryOptions;
- (void)registerChangeObserver:(id)a0 context:(void *)a1;
- (void)observable:(id)a0 didChange:(unsigned long long)a1 context:(void *)a2;
- (void)avPlayer:(id)a0 itemDidPlayToEnd:(id)a1;
- (void)setPreventsSleepDuringVideoPlayback:(char)a0;
- (void)unregisterChangeObserver:(id)a0 context:(void *)a1;
- (id)performFinalCleanup;
- (void)didPerformChanges;
- (struct CGImage { } *)generateSnapshotImage;
- (id)mutableChangeObject;
- (void)resourceReclamationEventDidOccur:(id)a0;
- (void)wrappedAudioSession:(id)a0 didChangeVolumeFrom:(float)a1 to:(float)a2;
- (void)_updateDuration;
- (void)_addOutput:(id)a0 toPlayerItem:(id)a1;
- (void)_assertOnUpdateQueue;
- (void)_avPlayerTimeDidChange:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0;
- (id)_disconnectVideoPlayer;
- (void)_handleAssetTracksDidLoadForAsset:(id)a0;
- (void)_handleContentLoadingResult:(id)a0;
- (void)_handleDidReachPlaybackTimeRangeEnd;
- (void)_handleDisplayLink:(id)a0;
- (void)_handlePlayabilityDidLoadForAsset:(id)a0;
- (void)_handlePlayerItemSeekDidFinish;
- (void)_handlePlayerTimeAdvancementTimer:(id)a0;
- (void)_handleTrackGeometryDidLoad;
- (char)_isOnUpdateQueue;
- (void)_loadAssetTracksIfNeeded;
- (void)_mainQueue_actuallyPrewarmVideoView;
- (void)_mainQueue_setDisplayLink:(id)a0;
- (void)_mainQueue_setDisplayLinkPaused:(char)a0;
- (void)_mainQueue_updateCurrentPixelBufferWithVideoOutput:(id)a0;
- (id)_newVideoView;
- (void)_performBlockOnUpdateQueue:(id /* block */)a0;
- (void)_performChanges:(id /* block */)a0;
- (id)_playbackStateDescription;
- (void)_rebuildAVObjects;
- (void)_relinquishAny4k60StreamAllowance;
- (void)_removeAllVideoOutputs;
- (char)_request4k60StreamAllowance;
- (void)_setPlayabilityFromAsset:(id)a0;
- (id)_stateQueue_newPresentationStateFromCurrentWithPresenter:(void *)a0;
- (void)_updateAVPlayerPlayState;
- (void)_updateAtBeginningOrEnd;
- (void)_updateAtBeginningOrEndWithPlayerItemDuration:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 success:(char)a1 error:(id)a2;
- (void)_updateAudioStatus;
- (void)_updateBuffering;
- (void)_updateCurrenPixelBufferAfterSeekingToTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 completionLock:(id)a1;
- (void)_updateCurrentPixelBuffer;
- (void)_updateCurrentPlayerItem;
- (void)_updateDisplayLinkState;
- (void)_updateFromCurrentPresentationState;
- (void)_updatePlayState;
- (void)_updatePlayability;
- (void)_updatePlayerItem;
- (void)_updatePlayerItemInPlayer;
- (void)_updatePlayerVolume;
- (void)_updateQueue_decrementPendingPlayerItemSeekCount;
- (void)_updateQueue_registerChangeObserver:(id)a0 context:(void *)a1;
- (void)_updateQueue_seekToPlaybackTimeRangeStartIfNeeded;
- (void)_updateQueue_unregisterChangeObserver:(id)a0 context:(void *)a1;
- (void)_updateReadyForSeeking;
- (void)_updateStalled;
- (void)_updateTrackGeometry;
- (void)_updateVideoOutput;
- (void)_updateVolumeAnimator;
- (void)_videoQueue_updateTrackGeometryWithPlayerItem:(id)a0;
- (void)_videoWorkQueue_updateCurrenPixelBufferAfterSeekingToTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 completionLock:(id)a1;
- (void)_videoWorkQueue_updateCurrentPixelBufferWithVideoOutput:(id)a0 outputTime:(double)a1;
- (void)cancelPixelBufferOutputWithRequestIdentifier:(id)a0;
- (id)currentPlayerItem;
- (id)dequeueVideoView;
- (void)enterPresentationContext:(long long)a0 presenter:(void *)a1;
- (void)incrementPixelBufferFrameDropsCount;
- (id)initWithContentProvider:(id)a0 videoPlayer:(id)a1 resourceReclamationController:(id)a2;
- (id)initWithContentProvider:(id)a0 videoPlayer:(id)a1 resourceReclamationController:(id)a2 playerCreationDelay:(double)a3;
- (char)isPlayerTimeAdvancing;
- (void)leavePresentationContext:(long long)a0 presenter:(void *)a1;
- (void)loadIfNeededWithPriority:(long long)a0;
- (void)performChanges:(id /* block */)a0 withPresentationContext:(long long)a1 presenter:(void *)a2;
- (long long)pixelBufferFrameDropsCount;
- (id)pixelBufferOutputSizes;
- (unsigned long long)pixelBufferOutputTokenCount;
- (id)playbackTimeRangeEndBoundaryObserver;
- (void)prewarmVideoView;
- (void)recycleVideoView:(id)a0;
- (void)requestPixelBufferOutputWithRequestIdentifier:(id)a0 maxOutputSize:(struct CGSize { double x0; double x1; })a1;
- (void)seekToExactTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 updatePixelBuffer:(char)a1 waitUntilComplete:(char)a2;
- (void)seekToPlaybackStartTime;
- (void)setCurrentPlayerItem:(id)a0;
- (void)setDesiredPlayState:(long long)a0;
- (void)setDesiredPlaybackRate:(double)a0;
- (void)setIsReadyForSeeking:(char)a0;
- (void)setPlaybackStartTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0;
- (void)setPlaybackTimeRange:(struct { struct { long long x0; int x1; unsigned int x2; long long x3; } x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; })a0;
- (void)setPlaybackTimeRangeEndBoundaryObserver:(id)a0;
- (void)setPlayerItem:(id)a0 segmentTimeRangeOfOriginalVideo:(struct { struct { long long x0; int x1; unsigned int x2; long long x3; } x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; })a1 timeRangeMapper:(id)a2;
- (void)setPlayerTimeAdvancing:(char)a0;
- (void)setSeekToBeginningAtEnd:(char)a0;
- (void)setShouldDisableAutomaticPixelBufferUpdates:(char)a0;
- (void)setVideoOutput:(id)a0 size:(struct CGSize { double x0; double x1; })a1;
- (void)setVolume:(float)a0 withFade:(char)a1;

@end
