@class NSDictionary, _PSSharingContactRankerModel, _PSCoreMLScoringModel, PPTopicStore, NSString, _PSRuleMiningModel, PPContactStore, _PSFeatureCache, NSArray, _PSConfidenceModelForSharing, NSUserDefaults, NSSet, _PSFTZKWTrialData, NSObject, _CDInteractionCache, _PSFTZKWOrchestrator, _PSContactResolver, _PSKNNModel, _PSHeuristics, _CDInteractionStore, CNContactStore, NSNumber, _PSInteractionAndContactMonitor;
@protocol OS_dispatch_queue, _DKKnowledgeSaving, _DKKnowledgeQuerying;

@interface _PSEnsembleModel : NSObject {
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _lock;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _visualIdentifierLock;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _populateCacheLock;
    _PSFeatureCache *_featureCache;
    NSObject<OS_dispatch_queue> *_queue;
}

@property (retain) NSNumber *maxCandidatesFromShareSheetCache;
@property (retain) NSNumber *maxCandidatesFromMessageCache;
@property (retain) _PSCoreMLScoringModel *coreMLScoringModel;
@property (retain) _PSRuleMiningModel *ruleMiningModel;
@property (retain) _PSSharingContactRankerModel *sharingContactRankerModel;
@property (retain) _PSConfidenceModelForSharing *confidenceModelForSharing;
@property char PSConfidenceModelInUse;
@property char useSyntheticSharingInteractions;
@property (retain) _PSKNNModel *knnModel;
@property (retain) _PSKNNModel *knnMapsModel;
@property (retain) _PSKNNModel *knnZkwModel;
@property (retain) _PSKNNModel *knnNameOrContactRankerModel;
@property (retain) _PSKNNModel *knnSiriNLContactRankerModel;
@property (retain) _PSHeuristics *heuristics;
@property (retain, nonatomic) _PSInteractionAndContactMonitor *contactMonitor;
@property (retain) NSSet *cachedSupportedBundleIDs;
@property (retain) _PSContactResolver *contactResolver;
@property (retain, nonatomic) _PSFTZKWOrchestrator *zkwFTOrchestrator;
@property (retain, nonatomic) _PSFTZKWTrialData *zkwFTTrialData;
@property (nonatomic) char allowNonSupportedBundleIDs;
@property (retain) NSDictionary *psConfig;
@property (retain) NSDictionary *psConfigForAdaptableModel;
@property (retain) NSString *traceId;
@property (retain) NSString *currentSpanId;
@property (retain, nonatomic) id<_DKKnowledgeQuerying, _DKKnowledgeSaving> knowledgeStore;
@property (retain, nonatomic) _CDInteractionStore *interactionStore;
@property (retain, nonatomic) PPTopicStore *topicStore;
@property (retain, nonatomic) PPContactStore *portraitContactStore;
@property (retain) _CDInteractionCache *messageInteractionCache;
@property (retain) _CDInteractionCache *shareInteractionCache;
@property (retain) _CDInteractionCache *allOtherInteractionCache;
@property (retain, nonatomic) NSUserDefaults *peopleSuggesterDefaults;
@property (retain, nonatomic) CNContactStore *contactStore;
@property (retain, nonatomic) NSArray *defaultContactKeysToFetch;
@property (retain, nonatomic) NSString *trialID;
@property (retain, nonatomic) NSString *trialExperimentId;
@property (retain, nonatomic) NSString *trialDeploymentId;
@property (retain, nonatomic) NSString *trialTreatmentId;
@property (retain, nonatomic) NSArray *shareSheetMechanisms;
@property (retain, nonatomic) NSArray *messageDirections;
@property (retain, nonatomic) NSNumber *messageMechanism;
@property (retain, nonatomic) NSArray *allOtherInteractionCacheMechanism;
@property (retain, nonatomic) NSArray *allOtherInteractionCacheDirections;

+ (id)_suggestionInteractionPredicatesForFirstPartyMessages:(char)a0 bundleID:(id)a1 interactionRecipients:(id)a2;
+ (id)orderedSuggestionProxiesWithProxyOrder:(id)a0 suggestionProxies:(id)a1 suggestionsWithSharePlayAddedBlock:(id /* block */)a2;

- (id)init;
- (void).cxx_destruct;
- (id)deviceIdentifier;
- (id)autocompleteSearchResultsWithPredictionContext:(id)a0;
- (id)rankedAutocompleteSuggestionsFromContext:(id)a0 candidates:(id)a1;
- (char)coreMLModelNeedsDurableFeatures;
- (id)trialIdentifier;
- (void)loadDefaultAdaptableModelConfig;
- (id)predictWithPredictionContext:(id)a0 maxSuggestions:(unsigned long long)a1 contactKeysToFetch:(id)a2;
- (id)_knnZKWSuggestionsWithPredictionContext:(id)a0 modelConfiguration:(id)a1 maxSuggestions:(unsigned long long)a2;
- (void)addAdaptedModelUsageInfoToSuggestions:(id)a0;
- (void)addAdditionalStatsSignalsToCandidates:(id)a0 withTrialClient:(id)a1;
- (void)addExtraInformationWithSuggestions:(id)a0 modelSuggestionProxiesDict:(id)a1;
- (void)addSuggestedRankFeature:(id)a0 interactionsStatistics:(id)a1;
- (void)addSupportedBundleIDs:(id)a0;
- (void)addTrialInfoToPredictionContext:(id)a0 withExperiment:(id)a1;
- (void)addUTIInfo:(id)a0 predictionContext:(id)a1;
- (char)allowConcurrentReads;
- (id)appExtensionSuggestionsFromContext:(id)a0;
- (id)candidatesForShareSheetRanking;
- (id)computeEphemeralFeaturesWithPredictionContext:(id)a0;
- (void)enrichConfig:(id)a0 withInformationFromPredictionContext:(id)a1 andAppToAppExtMapping:(id)a2;
- (void)evaluateCandidates:(id)a0 psrMLModel:(id)a1;
- (char)excludeSuggestionWithConversationId:(id)a0;
- (id)familyPredictionsWithMaxSuggestions:(unsigned long long)a0 predictionContext:(id)a1;
- (id)fetchShareSheetSupportedBundleIDs;
- (id)fetchSupportedBundleIDsWithPredictionContextFilters:(id)a0;
- (id)finalSuggestionProxiesForInteractionStatistics:(id)a0 config:(id)a1 trialClient:(id)a2 context:(id)a3;
- (void)freeCaches;
- (void)freeCachesIfNotCoreDuetDaemon;
- (void)getCoreMLSuggestionProxiesWithPredictionContext:(id)a0 modelSuggestionProxiesDict:(id)a1 candidateToFeatureVectorDictGetter:(id /* block */)a2;
- (void)getHeuristicSuggestionProxies:(id)a0 supportedBundleIDs:(id)a1 modelSuggestionProxiesDict:(id)a2;
- (void)getKnnSuggestionProxies:(id)a0 supportedBundleIDs:(id)a1 modelSuggestionProxiesDict:(id)a2;
- (id)getMeContactIdentifier;
- (id)getModelProxiesArrayWithPredictionContext:(id)a0;
- (id)getModelSuggestionsProxyDictWithModelProxiesArray:(id)a0;
- (void)getOtherSuggestionProxies:(id)a0 supportedBundleIDs:(id)a1 modelSuggestionProxiesDict:(id)a2;
- (id)getPETMessageFrom:(id)a0 withConfig:(id)a1 andContext:(id)a2;
- (void)getPhotoBasedFeatures:(id)a0;
- (id /* block */)getPhotoBasedFeaturesAsync:(id)a0 withTimeout:(double)a1;
- (id)getReasonTypesFromObjects:(id)a0;
- (id)getReasonTypesFromObjects:(id)a0 limit:(unsigned long long)a1;
- (void)getRuleMiningSuggestionProxies:(id)a0 supportedBundleIDs:(id)a1 modelSuggestionProxiesDict:(id)a2;
- (id)getSuggestionsFromInteractionsStatistics:(id)a0 withConfig:(id)a1 trialClient:(id)a2 andPredictionContext:(id)a3;
- (void)initializeEnsembleModelsWithInteractionStore:(id)a0 knowledgeStore:(id)a1;
- (void)intializeKNNContactRankerModelWithInteractionStore:(id)a0 knowledgeStore:(id)a1;
- (void)loadDefaultPSConfig;
- (char)loadPSConfig:(id)a0;
- (char)loadPSConfigPath:(id)a0;
- (void)logPipeline:(id)a0 withPipelineStage:(id)a1 andSessionID:(id)a2 andCandidateNames:(id)a3;
- (void)logPipelineWithSuggestions:(id)a0 interactionsStatistics:(id)a1 pipelineStage:(id)a2 sessionID:(id)a3;
- (id)mapsSuggestionArrayWithArray:(id)a0 appendingUniqueElementsFromArray:(id)a1 contactResolver:(id)a2 meContactId:(id)a3;
- (id)mergedSuggestionsWithFamilySuggestions:(id)a0 shareSheetSuggestions:(id)a1 maxSuggestions:(unsigned long long)a2 supportedBundleIds:(id)a3;
- (int)modelProxyToVirtualFeatureStoreFeature:(id)a0;
- (void)populateCaches;
- (void)populateCachesWithSupportedBundleIDs:(id)a0;
- (id)predictWithMapsPredictionContext:(id)a0 maxSuggestions:(unsigned long long)a1;
- (id)predictWithPredictionContext:(id)a0 maxSuggestions:(unsigned long long)a1;
- (long long)pruneCandidatesForRanking:(id)a0;
- (void)psrDataCollectionForContext:(id)a0 timeToWaitInSeconds:(int)a1 maxComputationTime:(double)a2 withConfigAndStatsBlock:(id /* block */)a3;
- (id /* block */)psr_getPhotoBasedFeaturesAsync:(id)a0 shouldProcessPicturesLive:(char)a1 withTimeout:(double)a2;
- (id)rankedGlobalSuggestionsForSiriNLWithPredictionContext:(id)a0 maxSuggestions:(unsigned long long)a1 interactionId:(id)a2;
- (id)rankedGlobalSuggestionsWithPredictionContext:(id)a0 contactsOnly:(char)a1 maxSuggestions:(unsigned long long)a2;
- (id)rankedGlobalSuggestionsWithPredictionContext:(id)a0 contactsOnly:(char)a1 maxSuggestions:(unsigned long long)a2 excludeBackfillSuggestions:(char)a3;
- (id)rankedHandlesFromCandidateHandles:(id)a0;
- (id)rankedNameSuggestionsWithPredictionContext:(id)a0 name:(id)a1;
- (id)rankedSiriMLCRHandles:(id)a0 context:(id)a1;
- (void)refreshCaches;
- (id)rerankMapsSuggestions:(id)a0 usingPredictionContext:(id)a1 contactResolver:(id)a2;
- (void)sendDataToPETAsync:(id)a0 withConfig:(id)a1 andContext:(id)a2;
- (void)setPeopleAnalysisFromAssetsWithPredictionContext:(id)a0 identifiersOfPeopleInPhotos:(id)a1;
- (void)setPhotoAnalysisFromAssetsWithPredictionContext:(id)a0;
- (void)setupAeroMLPipelineLoggerWithModel:(id)a0;
- (id)suggestZKWSuggestionsWithPredictionContext:(id)a0 maxSuggestions:(unsigned long long)a1;
- (id)suggestionsFromSuggestionProxies:(id)a0 supportedBundleIDs:(id)a1 contactKeysToFetch:(id)a2 meContactIdentifier:(id)a3 maxSuggestions:(unsigned long long)a4;
- (char)supportsDirectAutocompleteModelInit;
- (void)updateTrialID:(id)a0;
- (id)validateCoreMLModelWithRawInput:(id)a0 predictionContext:(id)a1;

@end
