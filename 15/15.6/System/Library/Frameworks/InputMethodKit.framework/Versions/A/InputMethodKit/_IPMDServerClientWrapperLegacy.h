@class NSString, NSMutableDictionary, NSAppearance, NSXPCConnection;
@protocol IMKUnicodeTextInput, IMTSMSupport, NSObject, IMKTextInput;

@interface _IPMDServerClientWrapperLegacy : NSObject <IMKTextInput, IMKUnicodeTextInput, IMTSMSupport, TIPropertyProvider> {
    id<NSObject, IMKTextInput, IMKUnicodeTextInput, IMTSMSupport> _clientDOProxy;
    NSXPCConnection *_xpcConnection;
    char _usesXPC;
    char _inserting;
    unsigned long long _markedCharacterCount;
    NSString *_markedTextCache;
    long long _keyboardType;
    NSMutableDictionary *_validEvents;
    double _replyTimeout;
    char _isForcedSilentCommitComposition;
}

@property (nonatomic) long long documentIDCache;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } touchBarAvailableFrameCache;
@property (nonatomic) int windowLevel_Cache;
@property (copy, nonatomic) NSString *bundleIdentifier_Cache;
@property (retain, nonatomic) NSAppearance *viewEffectiveAppearance_Cache;
@property (readonly, nonatomic) NSMutableDictionary *attributes_Cache;
@property (nonatomic) char currentAttributesCacheValid;
@property (nonatomic) char currentIndexZeroAttributeCacheValid;

+ (void)invalidateConnectionsAsNecessary:(id)a0;
+ (id)clientWrapperWithClientDOProxy:(id)a0;
+ (id)clientWrapperWithClientXPCConn:(id)a0;
+ (id)_validateClientWrapper:(id)a0;
+ (void)terminateForClientDOProxy:(id)a0;
+ (void)terminateForClientXPCConn:(id)a0;

- (void)dealloc;
- (long long)length;
- (id)attributedSubstringFromRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0;
- (id)_xpcConnection;
- (id)bundleIdentifier;
- (int)processIdentifier;
- (void)commit;
- (unsigned long long)keyboardType;
- (double)replyTimeout;
- (void)setReplyTimeout:(double)a0;
- (unsigned long long)incrementalSearchClientGeometry;
- (char)_TIPropertyValueIsValid:(unsigned long long)a0;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })firstRectForCharacterRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })firstRectForCharacterRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0 actualRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; } *)a1;
- (void)insertText:(id)a0;
- (void)insertText:(id)a0 replacementRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a1;
- (struct _NSRange { unsigned long long x0; unsigned long long x1; })markedRange;
- (void)resetState;
- (struct _NSRange { unsigned long long x0; unsigned long long x1; })selectedRange;
- (long long)spellCheckerDocumentTag;
- (id)validAttributesForMarkedText;
- (int)windowLevel;
- (char)wouldHandleEvent:(id)a0;
- (char)isIncrementalSearchInputContext;
- (char)supportsUnicode;
- (char)supportsTextAttachmentInsertion;
- (id)attributesForCharacterIndex:(unsigned long long)a0;
- (id)attributesForCharacterIndex:(unsigned long long)a0 lineHeightRectangle:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; } *)a1;
- (long long)characterIndexForPoint:(struct CGPoint { double x0; double x1; })a0 tracking:(long long)a1 inMarkedRange:(char *)a2;
- (void)commitPendingInlineSession;
- (id)currentInputSourceBundleID;
- (unsigned int)deadKeyState;
- (void)dismissFunctionRowItemTextInputView;
- (void)hidePalettesAtInsertionPoint;
- (void)inputSessionDoneSleep;
- (void)insertText:(id)a0 replacementRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a1 validFlags:(unsigned long long)a2;
- (char)isAutomaticCapitalizationEnabled_WithAvailability:(char *)a0;
- (char)isAutomaticDashSubstitutionEnabled_WithAvailability:(char *)a0;
- (char)isAutomaticPeriodSubstitutionEnabled_WithAvailability:(char *)a0;
- (char)isAutomaticQuoteSubstitutionEnabled_WithAvailability:(char *)a0;
- (char)isAutomaticSpellingCorrectionEnabled_WithAvailability:(char *)a0;
- (char)isAutomaticTextCompletionEnabled_WithAvailability:(char *)a0;
- (char)isAutomaticTextReplacementEnabled_WithAvailability:(char *)a0;
- (char)isBottomLineInputContext;
- (char)isContinuousSpellCheckingEnabled_WithAvailability:(char *)a0;
- (char)isDictationHiliteCapableInputContext;
- (char)isGrammarCheckingEnabled_WithAvailability:(char *)a0;
- (char)isPaletteTerminated:(id)a0;
- (char)isSmartInsertDeleteEnabled_WithAvailability:(char *)a0;
- (char)isTextPlaceholderAwareInputContext;
- (id)markedRangeValue;
- (void)overrideKeyboardWithKeyboardNamed:(id)a0;
- (void)presentFunctionRowItemTextInputView;
- (void)replyWaitCount_decrementWithLocking;
- (void)replyWaitCount_incrementWithLocking;
- (void)replyWaitCount_lockDecrement;
- (void)replyWaitCount_lockIncrement;
- (int)replyWaitCount_testWithLocking;
- (void)replyWaitCount_unlock;
- (void)selectInputMode:(id)a0;
- (void)setMarkedText:(id)a0 selectionRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a1 replacementRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a2;
- (void)setMarkedText:(id)a0 selectionRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a1 replacementRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a2 validFlags:(unsigned long long)a3;
- (id)stringFromRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })a0 actualRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; } *)a1;
- (char)supportsChromaticMarkedText;
- (char)supportsProperty:(unsigned int)a0;
- (void)terminatePalette:(id)a0;
- (id)uniqueClientIdentifierString;
- (id)viewEffectiveAppearance;
- (id)windowEffectiveAppearance;
- (void)setKeyboardType:(long long)a0;
- (char)usesXPC;
- (void)clientException;
- (char)isForcedSilentCommitComposition;
- (id)_clientDOProxy;
- (char)_clientTryRespondsToSelector:(SEL)a0;
- (void)addValidEvent:(id)a0 withClientUniqueNum:(unsigned long long)a1;
- (id)attributesForCharacterIndex_Cache:(unsigned long long)a0;
- (id)getApplicationPropertyValue:(unsigned long long)a0;
- (id)initWithClientDOProxy:(id)a0;
- (id)initWithClientXPCConn:(id)a0;
- (char)inserting;
- (void)invalidateAllEvents;
- (void)invalidateAttributesCacheForAllIndex:(char)a0;
- (void)invalidateClientCacheOnActivateServer;
- (char)isSecureMode;
- (unsigned long long)markedCharacterCount;
- (void)setApplicationProperty:(unsigned long long)a0 withValue:(id)a1 waitUntilDone:(char)a2;
- (void)setAttributes_Cache:(id)a0 forIndex:(unsigned long long)a1;
- (void)setForcedSilentCommitComposition:(char)a0;
- (void)setMarkedText_Cache:(id)a0;
- (void)setTouchBarAvailableFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (char)shouldSuppressCandidates;
- (struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })touchBarAvailableFrame;
- (double)touchBarTotalWidth;

@end
